(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){(function(global,factory){if(typeof define==="function"&&define.amd){define(["exports","module"],factory)}else if(typeof exports!=="undefined"&&typeof module!=="undefined"){factory(exports,module)}else{var mod={exports:{}};factory(mod.exports,mod);global.autosize=mod.exports}})(this,function(exports,module){"use strict";var set=typeof Set==="function"?new Set:function(){var list=[];return{has:function has(key){return Boolean(list.indexOf(key)>-1)},add:function add(key){list.push(key)},delete:function _delete(key){list.splice(list.indexOf(key),1)}}}();var createEvent=function createEvent(name){return new Event(name)};try{new Event("test")}catch(e){createEvent=function(name){var evt=document.createEvent("Event");evt.initEvent(name,true,false);return evt}}function assign(ta){if(!ta||!ta.nodeName||ta.nodeName!=="TEXTAREA"||set.has(ta))return;var heightOffset=null;var clientWidth=ta.clientWidth;var cachedHeight=null;function init(){var style=window.getComputedStyle(ta,null);if(style.resize==="vertical"){ta.style.resize="none"}else if(style.resize==="both"){ta.style.resize="horizontal"}if(style.boxSizing==="content-box"){heightOffset=-(parseFloat(style.paddingTop)+parseFloat(style.paddingBottom))}else{heightOffset=parseFloat(style.borderTopWidth)+parseFloat(style.borderBottomWidth)}if(isNaN(heightOffset)){heightOffset=0}update()}function changeOverflow(value){{var width=ta.style.width;ta.style.width="0px";ta.offsetWidth;ta.style.width=width}ta.style.overflowY=value;resize()}function getParentOverflows(el){var arr=[];while(el&&el.parentNode&&el.parentNode instanceof Element){if(el.parentNode.scrollTop){arr.push({node:el.parentNode,scrollTop:el.parentNode.scrollTop})}el=el.parentNode}return arr}function resize(){var originalHeight=ta.style.height;var overflows=getParentOverflows(ta);var docTop=document.documentElement&&document.documentElement.scrollTop;ta.style.height="auto";var endHeight=ta.scrollHeight+heightOffset;if(ta.scrollHeight===0){ta.style.height=originalHeight;return}ta.style.height=endHeight+"px";clientWidth=ta.clientWidth;overflows.forEach(function(el){el.node.scrollTop=el.scrollTop});if(docTop){document.documentElement.scrollTop=docTop}}function update(){resize();var computed=window.getComputedStyle(ta,null);var computedHeight=Math.round(parseFloat(computed.height));var styleHeight=Math.round(parseFloat(ta.style.height));if(computedHeight!==styleHeight){if(computed.overflowY!=="visible"){changeOverflow("visible")}}else{if(computed.overflowY!=="hidden"){changeOverflow("hidden")}}if(cachedHeight!==computedHeight){cachedHeight=computedHeight;var evt=createEvent("autosize:resized");ta.dispatchEvent(evt)}}var pageResize=function pageResize(){if(ta.clientWidth!==clientWidth){update()}};var destroy=function(style){window.removeEventListener("resize",pageResize,false);ta.removeEventListener("input",update,false);ta.removeEventListener("keyup",update,false);ta.removeEventListener("autosize:destroy",destroy,false);ta.removeEventListener("autosize:update",update,false);set["delete"](ta);Object.keys(style).forEach(function(key){ta.style[key]=style[key]})}.bind(ta,{height:ta.style.height,resize:ta.style.resize,overflowY:ta.style.overflowY,overflowX:ta.style.overflowX,wordWrap:ta.style.wordWrap});ta.addEventListener("autosize:destroy",destroy,false);if("onpropertychange"in ta&&"oninput"in ta){ta.addEventListener("keyup",update,false)}window.addEventListener("resize",pageResize,false);ta.addEventListener("input",update,false);ta.addEventListener("autosize:update",update,false);set.add(ta);ta.style.overflowX="hidden";ta.style.wordWrap="break-word";init()}function destroy(ta){if(!(ta&&ta.nodeName&&ta.nodeName==="TEXTAREA"))return;var evt=createEvent("autosize:destroy");ta.dispatchEvent(evt)}function update(ta){if(!(ta&&ta.nodeName&&ta.nodeName==="TEXTAREA"))return;var evt=createEvent("autosize:update");ta.dispatchEvent(evt)}var autosize=null;if(typeof window==="undefined"||typeof window.getComputedStyle!=="function"){autosize=function(el){return el};autosize.destroy=function(el){return el};autosize.update=function(el){return el}}else{autosize=function(el,options){if(el){Array.prototype.forEach.call(el.length?el:[el],function(x){return assign(x,options)})}return el};autosize.destroy=function(el){if(el){Array.prototype.forEach.call(el.length?el:[el],destroy)}return el};autosize.update=function(el){if(el){Array.prototype.forEach.call(el.length?el:[el],update)}return el}}module.exports=autosize})},{}],2:[function(require,module,exports){(function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==="string"||argType==="number"){classes.push(arg)}else if(Array.isArray(arg)){classes.push(classNames.apply(null,arg))}else if(argType==="object"){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key)}}}}return classes.join(" ")}if(typeof module!=="undefined"&&module.exports){module.exports=classNames}else if(typeof define==="function"&&typeof define.amd==="object"&&define.amd){define("classnames",[],function(){return classNames})}else{window.classNames=classNames}})()},{}],3:[function(require,module,exports){(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";var listRE=/^(\s*)(>[> ]*|- \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,emptyListRE=/^(\s*)(>[> ]*|- \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,unorderedListRE=/[*+-]\s/;CodeMirror.commands.newlineAndIndentContinueMarkdownList=function(cm){if(cm.getOption("disableInput"))return CodeMirror.Pass;var ranges=cm.listSelections(),replacements=[];for(var i=0;i<ranges.length;i++){var pos=ranges[i].head;var eolState=cm.getStateAfter(pos.line);var inList=eolState.list!==false;var inQuote=eolState.quote!==0;var line=cm.getLine(pos.line),match=listRE.exec(line);if(!ranges[i].empty()||!inList&&!inQuote||!match){cm.execCommand("newlineAndIndent");return}if(emptyListRE.test(line)){cm.replaceRange("",{line:pos.line,ch:0},{line:pos.line,ch:pos.ch+1});replacements[i]="\n"}else{var indent=match[1],after=match[5];var bullet=unorderedListRE.test(match[2])||match[2].indexOf(">")>=0?match[2].replace("x"," "):parseInt(match[3],10)+1+match[4];replacements[i]="\n"+indent+bullet+after}}cm.replaceSelections(replacements)}})},{"../../lib/codemirror":4}],4:[function(require,module,exports){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.CodeMirror=factory()})(this,function(){"use strict";var userAgent=navigator.userAgent;var platform=navigator.platform;var gecko=/gecko\/\d/i.test(userAgent);var ie_upto10=/MSIE \d/.test(userAgent);var ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(userAgent);var ie=ie_upto10||ie_11up;var ie_version=ie&&(ie_upto10?document.documentMode||6:ie_11up[1]);var webkit=/WebKit\//.test(userAgent);var qtwebkit=webkit&&/Qt\/\d+\.\d+/.test(userAgent);var chrome=/Chrome\//.test(userAgent);var presto=/Opera\//.test(userAgent);var safari=/Apple Computer/.test(navigator.vendor);var mac_geMountainLion=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(userAgent);var phantom=/PhantomJS/.test(userAgent);var ios=/AppleWebKit/.test(userAgent)&&/Mobile\/\w+/.test(userAgent);var mobile=ios||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);var mac=ios||/Mac/.test(platform);var chromeOS=/\bCrOS\b/.test(userAgent);var windows=/win/i.test(platform);var presto_version=presto&&userAgent.match(/Version\/(\d*\.\d*)/);if(presto_version){presto_version=Number(presto_version[1])}if(presto_version&&presto_version>=15){presto=false;webkit=true}var flipCtrlCmd=mac&&(qtwebkit||presto&&(presto_version==null||presto_version<12.11));var captureRightClick=gecko||ie&&ie_version>=9;function classTest(cls){return new RegExp("(^|\\s)"+cls+"(?:$|\\s)\\s*")}var rmClass=function(node,cls){var current=node.className;var match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?match[1]+after:"")}};function removeChildren(e){for(var count=e.childNodes.length;count>0;--count){e.removeChild(e.firstChild)}return e}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e)}function elt(tag,content,className,style){var e=document.createElement(tag);if(className){e.className=className}if(style){e.style.cssText=style}if(typeof content=="string"){e.appendChild(document.createTextNode(content))}else if(content){for(var i=0;i<content.length;++i){e.appendChild(content[i])}}return e}var range;if(document.createRange){range=function(node,start,end,endNode){var r=document.createRange();r.setEnd(endNode||node,end);r.setStart(node,start);return r}}else{range=function(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode)}catch(e){return r}r.collapse(true);r.moveEnd("character",end);r.moveStart("character",start);return r}}function contains(parent,child){if(child.nodeType==3){child=child.parentNode}if(parent.contains){return parent.contains(child)}do{if(child.nodeType==11){child=child.host}if(child==parent){return true}}while(child=child.parentNode)}var activeElt=function(){var activeElement=document.activeElement;while(activeElement&&activeElement.root&&activeElement.root.activeElement){activeElement=activeElement.root.activeElement}return activeElement};if(ie&&ie_version<11){activeElt=function(){try{return document.activeElement}catch(e){return document.body}}}function addClass(node,cls){var current=node.className;if(!classTest(cls).test(current)){node.className+=(current?" ":"")+cls}}function joinClasses(a,b){var as=a.split(" ");for(var i=0;i<as.length;i++){if(as[i]&&!classTest(as[i]).test(b)){b+=" "+as[i]}}return b}var selectInput=function(node){node.select()};if(ios){selectInput=function(node){node.selectionStart=0;node.selectionEnd=node.value.length}}else if(ie){selectInput=function(node){try{node.select()}catch(_e){}}}function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args)}}function copyObj(obj,target,overwrite){if(!target){target={}}for(var prop in obj){if(obj.hasOwnProperty(prop)&&(overwrite!==false||!target.hasOwnProperty(prop))){target[prop]=obj[prop]}}return target}function countColumn(string,end,tabSize,startIndex,startValue){if(end==null){end=string.search(/[^\s\u00a0]/);if(end==-1){end=string.length}}for(var i=startIndex||0,n=startValue||0;;){var nextTab=string.indexOf("\t",i);if(nextTab<0||nextTab>=end){return n+(end-i)}n+=nextTab-i;n+=tabSize-n%tabSize;i=nextTab+1}}function Delayed(){this.id=null}Delayed.prototype.set=function(ms,f){clearTimeout(this.id);this.id=setTimeout(f,ms)};function indexOf(array,elt){for(var i=0;i<array.length;++i){if(array[i]==elt){return i}}return-1}var scrollerGap=30;var Pass={toString:function(){return"CodeMirror.Pass"}};var sel_dontScroll={scroll:false};var sel_mouse={origin:"*mouse"};var sel_move={origin:"+move"};function findColumn(string,goal,tabSize){for(var pos=0,col=0;;){var nextTab=string.indexOf("\t",pos);if(nextTab==-1){nextTab=string.length}var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal){return pos+Math.min(skipped,goal-col)}col+=nextTab-pos;col+=tabSize-col%tabSize;pos=nextTab+1;if(col>=goal){return pos}}}var spaceStrs=[""];function spaceStr(n){while(spaceStrs.length<=n){spaceStrs.push(lst(spaceStrs)+" ")}return spaceStrs[n]}function lst(arr){return arr[arr.length-1]}function map(array,f){var out=[];for(var i=0;i<array.length;i++){out[i]=f(array[i],i)}return out}function insertSorted(array,value,score){var pos=0,priority=score(value);while(pos<array.length&&score(array[pos])<=priority){pos++}array.splice(pos,0,value)}function nothing(){}function createObj(base,props){var inst;if(Object.create){inst=Object.create(base)}else{nothing.prototype=base;inst=new nothing}if(props){copyObj(props,inst)}return inst}var nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function isWordCharBasic(ch){return/\w/.test(ch)||ch>""&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch))}function isWordChar(ch,helper){if(!helper){return isWordCharBasic(ch)}if(helper.source.indexOf("\\w")>-1&&isWordCharBasic(ch)){return true}return helper.test(ch)}function isEmpty(obj){for(var n in obj){if(obj.hasOwnProperty(n)&&obj[n]){return false}}return true}var extendingChars=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function isExtendingChar(ch){return ch.charCodeAt(0)>=768&&extendingChars.test(ch)}function Display(place,doc,input){var d=this;this.input=input;d.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler");d.scrollbarFiller.setAttribute("cm-not-content","true");d.gutterFiller=elt("div",null,"CodeMirror-gutter-filler");d.gutterFiller.setAttribute("cm-not-content","true");d.lineDiv=elt("div",null,"CodeMirror-code");d.selectionDiv=elt("div",null,null,"position: relative; z-index: 1");d.cursorDiv=elt("div",null,"CodeMirror-cursors");d.measure=elt("div",null,"CodeMirror-measure");d.lineMeasure=elt("div",null,"CodeMirror-measure");d.lineSpace=elt("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none");d.mover=elt("div",[elt("div",[d.lineSpace],"CodeMirror-lines")],null,"position: relative");d.sizer=elt("div",[d.mover],"CodeMirror-sizer");d.sizerWidth=null;d.heightForcer=elt("div",null,null,"position: absolute; height: "+scrollerGap+"px; width: 1px;");d.gutters=elt("div",null,"CodeMirror-gutters");d.lineGutter=null;d.scroller=elt("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll");d.scroller.setAttribute("tabIndex","-1");d.wrapper=elt("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror");if(ie&&ie_version<8){d.gutters.style.zIndex=-1;d.scroller.style.paddingRight=0}if(!webkit&&!(gecko&&mobile)){d.scroller.draggable=true}if(place){if(place.appendChild){place.appendChild(d.wrapper)}else{place(d.wrapper)}}d.viewFrom=d.viewTo=doc.first;d.reportedViewFrom=d.reportedViewTo=doc.first;d.view=[];d.renderedView=null;d.externalMeasured=null;d.viewOffset=0;d.lastWrapHeight=d.lastWrapWidth=0;d.updateLineNumbers=null;d.nativeBarWidth=d.barHeight=d.barWidth=0;d.scrollbarsClipped=false;d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null;d.alignWidgets=false;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.maxLine=null;d.maxLineLength=0;d.maxLineChanged=false;d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null;d.shift=false;d.selForContextMenu=null;d.activeTouch=null;input.init(d)}function getLine(doc,n){n-=doc.first;if(n<0||n>=doc.size){throw new Error("There is no line "+(n+doc.first)+" in the document.")}var chunk=doc;while(!chunk.lines){for(var i=0;;++i){var child=chunk.children[i],sz=child.chunkSize();if(n<sz){chunk=child;break}n-=sz}}return chunk.lines[n]}function getBetween(doc,start,end){var out=[],n=start.line;doc.iter(start.line,end.line+1,function(line){var text=line.text;if(n==end.line){text=text.slice(0,end.ch)}if(n==start.line){text=text.slice(start.ch)}out.push(text);++n});return out}function getLines(doc,from,to){var out=[];doc.iter(from,to,function(line){out.push(line.text)});return out}function updateLineHeight(line,height){var diff=height-line.height;if(diff){for(var n=line;n;n=n.parent){n.height+=diff}}}function lineNo(line){if(line.parent==null){return null}var cur=line.parent,no=indexOf(cur.lines,line);for(var chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent){for(var i=0;;++i){if(chunk.children[i]==cur){break}no+=chunk.children[i].chunkSize()}}return no+cur.first}function lineAtHeight(chunk,h){var n=chunk.first;outer:do{for(var i$1=0;i$1<chunk.children.length;++i$1){var child=chunk.children[i$1],ch=child.height;if(h<ch){chunk=child;continue outer}h-=ch;n+=child.chunkSize()}return n}while(!chunk.lines);var i=0;for(;i<chunk.lines.length;++i){var line=chunk.lines[i],lh=line.height;if(h<lh){break}h-=lh}return n+i}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size}function lineNumberFor(options,i){return String(options.lineNumberFormatter(i+options.firstLineNumber))}function Pos(line,ch){if(!(this instanceof Pos)){return new Pos(line,ch)}this.line=line;this.ch=ch}function cmp(a,b){return a.line-b.line||a.ch-b.ch}function copyPos(x){return Pos(x.line,x.ch)}function maxPos(a,b){return cmp(a,b)<0?b:a}function minPos(a,b){return cmp(a,b)<0?a:b}function clipLine(doc,n){return Math.max(doc.first,Math.min(n,doc.first+doc.size-1))}function clipPos(doc,pos){if(pos.line<doc.first){return Pos(doc.first,0)}var last=doc.first+doc.size-1;if(pos.line>last){return Pos(last,getLine(doc,last).text.length)}return clipToLen(pos,getLine(doc,pos.line).text.length)}function clipToLen(pos,linelen){var ch=pos.ch;if(ch==null||ch>linelen){return Pos(pos.line,linelen)}else if(ch<0){return Pos(pos.line,0)}else{return pos}}function clipPosArray(doc,array){var out=[];for(var i=0;i<array.length;i++){out[i]=clipPos(doc,array[i])}return out}var sawReadOnlySpans=false;var sawCollapsedSpans=false;function seeReadOnlySpans(){sawReadOnlySpans=true}function seeCollapsedSpans(){sawCollapsedSpans=true}function MarkedSpan(marker,from,to){this.marker=marker;this.from=from;this.to=to}function getMarkedSpanFor(spans,marker){if(spans){for(var i=0;i<spans.length;++i){var span=spans[i];if(span.marker==marker){return span}}}}function removeMarkedSpan(spans,span){var r;for(var i=0;i<spans.length;++i){if(spans[i]!=span){(r||(r=[])).push(spans[i])}}return r}function addMarkedSpan(line,span){line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span];span.marker.attachLine(line)}function markedSpansBefore(old,startCh,isInsert){var nw;if(old){for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker;var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&marker.type=="bookmark"&&(!isInsert||!span.marker.insertLeft)){var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=startCh:span.to>startCh);(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to))}}}return nw}function markedSpansAfter(old,endCh,isInsert){var nw;if(old){for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker;var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&marker.type=="bookmark"&&(!isInsert||span.marker.insertLeft)){var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,span.to==null?null:span.to-endCh))}}}return nw}function stretchSpansOverChange(doc,change){if(change.full){return null}var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans;var oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast){return null}var startCh=change.from.ch,endCh=change.to.ch,isInsert=cmp(change.from,change.to)==0;var first=markedSpansBefore(oldFirst,startCh,isInsert);var last=markedSpansAfter(oldLast,endCh,isInsert);var sameLine=change.text.length==1,offset=lst(change.text).length+(sameLine?startCh:0);if(first){for(var i=0;i<first.length;++i){var span=first[i];if(span.to==null){var found=getMarkedSpanFor(last,span.marker);if(!found){span.to=startCh}else if(sameLine){span.to=found.to==null?null:found.to+offset}}}}if(last){for(var i$1=0;i$1<last.length;++i$1){var span$1=last[i$1];if(span$1.to!=null){span$1.to+=offset}if(span$1.from==null){var found$1=getMarkedSpanFor(first,span$1.marker);if(!found$1){span$1.from=offset;if(sameLine){(first||(first=[])).push(span$1)}}}else{span$1.from+=offset;if(sameLine){(first||(first=[])).push(span$1)}}}}if(first){first=clearEmptySpans(first)}if(last&&last!=first){last=clearEmptySpans(last)}var newMarkers=[first];if(!sameLine){var gap=change.text.length-2,gapMarkers;if(gap>0&&first){for(var i$2=0;i$2<first.length;++i$2){if(first[i$2].to==null){(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i$2].marker,null,null))}}}for(var i$3=0;i$3<gap;++i$3){newMarkers.push(gapMarkers)}newMarkers.push(last)}return newMarkers}function clearEmptySpans(spans){for(var i=0;i<spans.length;++i){var span=spans[i];if(span.from!=null&&span.from==span.to&&span.marker.clearWhenEmpty!==false){spans.splice(i--,1)}}if(!spans.length){return null}return spans}function removeReadOnlyRanges(doc,from,to){var markers=null;doc.iter(from.line,to.line+1,function(line){if(line.markedSpans){for(var i=0;i<line.markedSpans.length;++i){var mark=line.markedSpans[i].marker;if(mark.readOnly&&(!markers||indexOf(markers,mark)==-1)){(markers||(markers=[])).push(mark)}}}});if(!markers){return null}var parts=[{from:from,to:to}];for(var i=0;i<markers.length;++i){var mk=markers[i],m=mk.find(0);for(var j=0;j<parts.length;++j){var p=parts[j];if(cmp(p.to,m.from)<0||cmp(p.from,m.to)>0){continue}var newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);if(dfrom<0||!mk.inclusiveLeft&&!dfrom){newParts.push({from:p.from,to:m.from})}if(dto>0||!mk.inclusiveRight&&!dto){newParts.push({from:m.to,to:p.to})}parts.splice.apply(parts,newParts);j+=newParts.length-1}}return parts}function detachMarkedSpans(line){var spans=line.markedSpans;if(!spans){return}for(var i=0;i<spans.length;++i){spans[i].marker.detachLine(line)}line.markedSpans=null}function attachMarkedSpans(line,spans){if(!spans){return}for(var i=0;i<spans.length;++i){spans[i].marker.attachLine(line)}line.markedSpans=spans}function extraLeft(marker){return marker.inclusiveLeft?-1:0}function extraRight(marker){return marker.inclusiveRight?1:0}function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(lenDiff!=0){return lenDiff}var aPos=a.find(),bPos=b.find();var fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp){return-fromCmp}var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);if(toCmp){return toCmp}return b.id-a.id}function collapsedSpanAtSide(line,start){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps){for(var sp=void 0,i=0;i<sps.length;++i){sp=sps[i];if(sp.marker.collapsed&&(start?sp.from:sp.to)==null&&(!found||compareCollapsedMarkers(found,sp.marker)<0)){found=sp.marker}}}return found}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,true)}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,false)}function conflictingCollapsedRange(doc,lineNo,from,to,marker){var line=getLine(doc,lineNo);var sps=sawCollapsedSpans&&line.markedSpans;if(sps){for(var i=0;i<sps.length;++i){var sp=sps[i];if(!sp.marker.collapsed){continue}var found=sp.marker.find(0);var fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker);var toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);if(fromCmp>=0&&toCmp<=0||fromCmp<=0&&toCmp>=0){continue}if(fromCmp<=0&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.to,from)>=0:cmp(found.to,from)>0)||fromCmp>=0&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.from,to)<=0:cmp(found.from,to)<0)){return true}}}}function visualLine(line){var merged;while(merged=collapsedSpanAtStart(line)){line=merged.find(-1,true).line}return line}function visualLineContinued(line){var merged,lines;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;(lines||(lines=[])).push(line)}return lines}function visualLineNo(doc,lineN){var line=getLine(doc,lineN),vis=visualLine(line);if(line==vis){return lineN}return lineNo(vis)}function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine()){return lineN}var line=getLine(doc,lineN),merged;if(!lineIsHidden(doc,line)){return lineN}while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line}return lineNo(line)+1}function lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps){for(var sp=void 0,i=0;i<sps.length;++i){sp=sps[i];if(!sp.marker.collapsed){continue}if(sp.from==null){return true}if(sp.marker.widgetNode){continue}if(sp.from==0&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp)){return true}}}}function lineIsHiddenInner(doc,line,span){if(span.to==null){var end=span.marker.find(1,true);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,span.marker))}if(span.marker.inclusiveRight&&span.to==line.text.length){return true}for(var sp=void 0,i=0;i<line.markedSpans.length;++i){sp=line.markedSpans[i];if(sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(sp.to==null||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp)){return true}}}function heightAtLine(lineObj){lineObj=visualLine(lineObj);var h=0,chunk=lineObj.parent;for(var i=0;i<chunk.lines.length;++i){var line=chunk.lines[i];if(line==lineObj){break}else{h+=line.height}}for(var p=chunk.parent;p;chunk=p,p=chunk.parent){for(var i$1=0;i$1<p.children.length;++i$1){var cur=p.children[i$1];if(cur==chunk){break}else{h+=cur.height}}}return h}function lineLength(line){if(line.height==0){return 0}var len=line.text.length,merged,cur=line;while(merged=collapsedSpanAtStart(cur)){var found=merged.find(0,true);cur=found.from.line;len+=found.from.ch-found.to.ch}cur=line;while(merged=collapsedSpanAtEnd(cur)){var found$1=merged.find(0,true);len-=cur.text.length-found$1.from.ch;cur=found$1.to.line;len+=cur.text.length-found$1.to.ch}return len}function findMaxLine(cm){var d=cm.display,doc=cm.doc;d.maxLine=getLine(doc,doc.first);d.maxLineLength=lineLength(d.maxLine);d.maxLineChanged=true;doc.iter(function(line){var len=lineLength(line);if(len>d.maxLineLength){d.maxLineLength=len;d.maxLine=line}})}function iterateBidiSections(order,from,to,f){if(!order){return f(from,to,"ltr")}var found=false;for(var i=0;i<order.length;++i){var part=order[i];if(part.from<to&&part.to>from||from==to&&part.to==from){f(Math.max(part.from,from),Math.min(part.to,to),part.level==1?"rtl":"ltr");found=true}}if(!found){f(from,to,"ltr")}}function bidiLeft(part){return part.level%2?part.to:part.from}function bidiRight(part){return part.level%2?part.from:part.to}function lineLeft(line){var order=getOrder(line);return order?bidiLeft(order[0]):0}function lineRight(line){var order=getOrder(line);if(!order){return line.text.length}return bidiRight(lst(order))}function compareBidiLevel(order,a,b){var linedir=order[0].level;if(a==linedir){return true}if(b==linedir){return false}return a<b}var bidiOther=null;function getBidiPartAt(order,pos){var found;bidiOther=null;for(var i=0;i<order.length;++i){var cur=order[i];if(cur.from<pos&&cur.to>pos){return i}if(cur.from==pos||cur.to==pos){if(found==null){found=i}else if(compareBidiLevel(order,cur.level,order[found].level)){if(cur.from!=cur.to){bidiOther=found}return i}else{if(cur.from!=cur.to){bidiOther=i}return found}}}return found}function moveInLine(line,pos,dir,byUnit){if(!byUnit){return pos+dir}do{pos+=dir}while(pos>0&&isExtendingChar(line.text.charAt(pos)));return pos}function moveVisually(line,start,dir,byUnit){var bidi=getOrder(line);if(!bidi){return moveLogically(line,start,dir,byUnit)}var pos=getBidiPartAt(bidi,start),part=bidi[pos];var target=moveInLine(line,start,part.level%2?-dir:dir,byUnit);for(;;){if(target>part.from&&target<part.to){return target}if(target==part.from||target==part.to){if(getBidiPartAt(bidi,target)==pos){return target}part=bidi[pos+=dir];return dir>0==part.level%2?part.to:part.from}else{part=bidi[pos+=dir];if(!part){return null}if(dir>0==part.level%2){target=moveInLine(line,part.to,-1,byUnit)}else{target=moveInLine(line,part.from,1,byUnit)}}}}function moveLogically(line,start,dir,byUnit){var target=start+dir;if(byUnit){while(target>0&&isExtendingChar(line.text.charAt(target))){target+=dir}}return target<0||target>line.text.length?null:target}var bidiOrdering=function(){var lowTypes="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";var arabicTypes="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm";function charType(code){if(code<=247){return lowTypes.charAt(code)}else if(1424<=code&&code<=1524){return"R"}else if(1536<=code&&code<=1773){return arabicTypes.charAt(code-1536)}else if(1774<=code&&code<=2220){return"r"}else if(8192<=code&&code<=8203){return"w"}else if(code==8204){return"b"}else{return"L"}}var bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/;var outerType="L";function BidiSpan(level,from,to){this.level=level;this.from=from;this.to=to}return function(str){if(!bidiRE.test(str)){return false}var len=str.length,types=[];for(var i=0;i<len;++i){types.push(charType(str.charCodeAt(i)))}for(var i$1=0,prev=outerType;i$1<len;++i$1){var type=types[i$1];if(type=="m"){types[i$1]=prev}else{prev=type}}for(var i$2=0,cur=outerType;i$2<len;++i$2){var type$1=types[i$2];if(type$1=="1"&&cur=="r"){types[i$2]="n"}else if(isStrong.test(type$1)){cur=type$1;if(type$1=="r"){types[i$2]="R"}}}for(var i$3=1,prev$1=types[0];i$3<len-1;++i$3){var type$2=types[i$3];if(type$2=="+"&&prev$1=="1"&&types[i$3+1]=="1"){types[i$3]="1"}else if(type$2==","&&prev$1==types[i$3+1]&&(prev$1=="1"||prev$1=="n")){
types[i$3]=prev$1}prev$1=type$2}for(var i$4=0;i$4<len;++i$4){var type$3=types[i$4];if(type$3==","){types[i$4]="N"}else if(type$3=="%"){var end=void 0;for(end=i$4+1;end<len&&types[end]=="%";++end){}var replace=i$4&&types[i$4-1]=="!"||end<len&&types[end]=="1"?"1":"N";for(var j=i$4;j<end;++j){types[j]=replace}i$4=end-1}}for(var i$5=0,cur$1=outerType;i$5<len;++i$5){var type$4=types[i$5];if(cur$1=="L"&&type$4=="1"){types[i$5]="L"}else if(isStrong.test(type$4)){cur$1=type$4}}for(var i$6=0;i$6<len;++i$6){if(isNeutral.test(types[i$6])){var end$1=void 0;for(end$1=i$6+1;end$1<len&&isNeutral.test(types[end$1]);++end$1){}var before=(i$6?types[i$6-1]:outerType)=="L";var after=(end$1<len?types[end$1]:outerType)=="L";var replace$1=before||after?"L":"R";for(var j$1=i$6;j$1<end$1;++j$1){types[j$1]=replace$1}i$6=end$1-1}}var order=[],m;for(var i$7=0;i$7<len;){if(countsAsLeft.test(types[i$7])){var start=i$7;for(++i$7;i$7<len&&countsAsLeft.test(types[i$7]);++i$7){}order.push(new BidiSpan(0,start,i$7))}else{var pos=i$7,at=order.length;for(++i$7;i$7<len&&types[i$7]!="L";++i$7){}for(var j$2=pos;j$2<i$7;){if(countsAsNum.test(types[j$2])){if(pos<j$2){order.splice(at,0,new BidiSpan(1,pos,j$2))}var nstart=j$2;for(++j$2;j$2<i$7&&countsAsNum.test(types[j$2]);++j$2){}order.splice(at,0,new BidiSpan(2,nstart,j$2));pos=j$2}else{++j$2}}if(pos<i$7){order.splice(at,0,new BidiSpan(1,pos,i$7))}}}if(order[0].level==1&&(m=str.match(/^\s+/))){order[0].from=m[0].length;order.unshift(new BidiSpan(0,0,m[0].length))}if(lst(order).level==1&&(m=str.match(/\s+$/))){lst(order).to-=m[0].length;order.push(new BidiSpan(0,len-m[0].length,len))}if(order[0].level==2){order.unshift(new BidiSpan(1,order[0].to,order[0].to))}if(order[0].level!=lst(order).level){order.push(new BidiSpan(order[0].level,len,len))}return order}}();function getOrder(line){var order=line.order;if(order==null){order=line.order=bidiOrdering(line.text)}return order}var on=function(emitter,type,f){if(emitter.addEventListener){emitter.addEventListener(type,f,false)}else if(emitter.attachEvent){emitter.attachEvent("on"+type,f)}else{var map=emitter._handlers||(emitter._handlers={});var arr=map[type]||(map[type]=[]);arr.push(f)}};var noHandlers=[];function getHandlers(emitter,type,copy){var arr=emitter._handlers&&emitter._handlers[type];if(copy){return arr&&arr.length>0?arr.slice():noHandlers}else{return arr||noHandlers}}function off(emitter,type,f){if(emitter.removeEventListener){emitter.removeEventListener(type,f,false)}else if(emitter.detachEvent){emitter.detachEvent("on"+type,f)}else{var handlers=getHandlers(emitter,type,false);for(var i=0;i<handlers.length;++i){if(handlers[i]==f){handlers.splice(i,1);break}}}}function signal(emitter,type){var handlers=getHandlers(emitter,type,true);if(!handlers.length){return}var args=Array.prototype.slice.call(arguments,2);for(var i=0;i<handlers.length;++i){handlers[i].apply(null,args)}}function signalDOMEvent(cm,e,override){if(typeof e=="string"){e={type:e,preventDefault:function(){this.defaultPrevented=true}}}signal(cm,override||e.type,cm,e);return e_defaultPrevented(e)||e.codemirrorIgnore}function signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(!arr){return}var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]);for(var i=0;i<arr.length;++i){if(indexOf(set,arr[i])==-1){set.push(arr[i])}}}function hasHandler(emitter,type){return getHandlers(emitter,type).length>0}function eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f)};ctor.prototype.off=function(type,f){off(this,type,f)}}function e_preventDefault(e){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}}function e_stopPropagation(e){if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}}function e_defaultPrevented(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==false}function e_stop(e){e_preventDefault(e);e_stopPropagation(e)}function e_target(e){return e.target||e.srcElement}function e_button(e){var b=e.which;if(b==null){if(e.button&1){b=1}else if(e.button&2){b=3}else if(e.button&4){b=2}}if(mac&&e.ctrlKey&&b==1){b=3}return b}var dragAndDrop=function(){if(ie&&ie_version<9){return false}var div=elt("div");return"draggable"in div||"dragDrop"in div}();var zwspSupported;function zeroWidthElement(measure){if(zwspSupported==null){var test=elt("span","​");removeChildrenAndAdd(measure,elt("span",[test,document.createTextNode("x")]));if(measure.firstChild.offsetHeight!=0){zwspSupported=test.offsetWidth<=1&&test.offsetHeight>2&&!(ie&&ie_version<8)}}var node=zwspSupported?elt("span","​"):elt("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");node.setAttribute("cm-text","");return node}var badBidiRects;function hasBadBidiRects(measure){if(badBidiRects!=null){return badBidiRects}var txt=removeChildrenAndAdd(measure,document.createTextNode("AخA"));var r0=range(txt,0,1).getBoundingClientRect();var r1=range(txt,1,2).getBoundingClientRect();removeChildren(measure);if(!r0||r0.left==r0.right){return false}return badBidiRects=r1.right-r0.right<3}var splitLinesAuto="\n\nb".split(/\n/).length!=3?function(string){var pos=0,result=[],l=string.length;while(pos<=l){var nl=string.indexOf("\n",pos);if(nl==-1){nl=string.length}var line=string.slice(pos,string.charAt(nl-1)=="\r"?nl-1:nl);var rt=line.indexOf("\r");if(rt!=-1){result.push(line.slice(0,rt));pos+=rt+1}else{result.push(line);pos=nl+1}}return result}:function(string){return string.split(/\r\n?|\n/)};var hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd}catch(e){return false}}:function(te){var range;try{range=te.ownerDocument.selection.createRange()}catch(e){}if(!range||range.parentElement()!=te){return false}return range.compareEndPoints("StartToEnd",range)!=0};var hasCopyEvent=function(){var e=elt("div");if("oncopy"in e){return true}e.setAttribute("oncopy","return;");return typeof e.oncopy=="function"}();var badZoomedRects=null;function hasBadZoomedRects(measure){if(badZoomedRects!=null){return badZoomedRects}var node=removeChildrenAndAdd(measure,elt("span","x"));var normal=node.getBoundingClientRect();var fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=Math.abs(normal.left-fromRange.left)>1}var modes={};var mimeModes={};function defineMode(name,mode){if(arguments.length>2){mode.dependencies=Array.prototype.slice.call(arguments,2)}modes[name]=mode}function defineMIME(mime,spec){mimeModes[mime]=spec}function resolveMode(spec){if(typeof spec=="string"&&mimeModes.hasOwnProperty(spec)){spec=mimeModes[spec]}else if(spec&&typeof spec.name=="string"&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];if(typeof found=="string"){found={name:found}}spec=createObj(found,spec);spec.name=found.name}else if(typeof spec=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(spec)){return resolveMode("application/xml")}else if(typeof spec=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(spec)){return resolveMode("application/json")}if(typeof spec=="string"){return{name:spec}}else{return spec||{name:"null"}}}function getMode(options,spec){spec=resolveMode(spec);var mfactory=modes[spec.name];if(!mfactory){return getMode(options,"text/plain")}var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];for(var prop in exts){if(!exts.hasOwnProperty(prop)){continue}if(modeObj.hasOwnProperty(prop)){modeObj["_"+prop]=modeObj[prop]}modeObj[prop]=exts[prop]}}modeObj.name=spec.name;if(spec.helperType){modeObj.helperType=spec.helperType}if(spec.modeProps){for(var prop$1 in spec.modeProps){modeObj[prop$1]=spec.modeProps[prop$1]}}return modeObj}var modeExtensions={};function extendMode(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]={};copyObj(properties,exts)}function copyState(mode,state){if(state===true){return state}if(mode.copyState){return mode.copyState(state)}var nstate={};for(var n in state){var val=state[n];if(val instanceof Array){val=val.concat([])}nstate[n]=val}return nstate}function innerMode(mode,state){var info;while(mode.innerMode){info=mode.innerMode(state);if(!info||info.mode==mode){break}state=info.state;mode=info.mode}return info||{mode:mode,state:state}}function startState(mode,a1,a2){return mode.startState?mode.startState(a1,a2):true}var StringStream=function(string,tabSize){this.pos=this.start=0;this.string=string;this.tabSize=tabSize||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0};StringStream.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(match){var ch=this.string.charAt(this.pos);var ok;if(typeof match=="string"){ok=ch==match}else{ok=ch&&(match.test?match.test(ch):match(ch))}if(ok){++this.pos;return ch}},eatWhile:function(match){var start=this.pos;while(this.eat(match)){}return this.pos>start},eatSpace:function(){var this$1=this;var start=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this$1.pos}return this.pos>start},skipToEnd:function(){this.pos=this.string.length},skipTo:function(ch){var found=this.string.indexOf(ch,this.pos);if(found>-1){this.pos=found;return true}},backUp:function(n){this.pos-=n},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},match:function(pattern,consume,caseInsensitive){if(typeof pattern=="string"){var cased=function(str){return caseInsensitive?str.toLowerCase():str};var substr=this.string.substr(this.pos,pattern.length);if(cased(substr)==cased(pattern)){if(consume!==false){this.pos+=pattern.length}return true}}else{var match=this.string.slice(this.pos).match(pattern);if(match&&match.index>0){return null}if(match&&consume!==false){this.pos+=match[0].length}return match}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(n,inner){this.lineStart+=n;try{return inner()}finally{this.lineStart-=n}}};function highlightLine(cm,line,state,forceToEnd){var st=[cm.state.modeGen],lineClasses={};runMode(cm,line.text,cm.doc.mode,state,function(end,style){return st.push(end,style)},lineClasses,forceToEnd);var loop=function(o){var overlay=cm.state.overlays[o],i=1,at=0;runMode(cm,line.text,overlay.mode,true,function(end,style){var start=i;while(at<end){var i_end=st[i];if(i_end>end){st.splice(i,1,end,st[i+1],i_end)}i+=2;at=Math.min(end,i_end)}if(!style){return}if(overlay.opaque){st.splice(start,i-start,end,"overlay "+style);i=start+2}else{for(;start<i;start+=2){var cur=st[start+1];st[start+1]=(cur?cur+" ":"")+"overlay "+style}}},lineClasses)};for(var o=0;o<cm.state.overlays.length;++o)loop(o);return{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null}}function getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var state=getStateBefore(cm,lineNo(line));var result=highlightLine(cm,line,line.text.length>cm.options.maxHighlightLength?copyState(cm.doc.mode,state):state);line.stateAfter=state;line.styles=result.styles;if(result.classes){line.styleClasses=result.classes}else if(line.styleClasses){line.styleClasses=null}if(updateFrontier===cm.doc.frontier){cm.doc.frontier++}}return line.styles}function getStateBefore(cm,n,precise){var doc=cm.doc,display=cm.display;if(!doc.mode.startState){return true}var pos=findStartLine(cm,n,precise),state=pos>doc.first&&getLine(doc,pos-1).stateAfter;if(!state){state=startState(doc.mode)}else{state=copyState(doc.mode,state)}doc.iter(pos,n,function(line){processLine(cm,line.text,state);var save=pos==n-1||pos%5==0||pos>=display.viewFrom&&pos<display.viewTo;line.stateAfter=save?copyState(doc.mode,state):null;++pos});if(precise){doc.frontier=pos}return state}function processLine(cm,text,state,startAt){var mode=cm.doc.mode;var stream=new StringStream(text,cm.options.tabSize);stream.start=stream.pos=startAt||0;if(text==""){callBlankLine(mode,state)}while(!stream.eol()){readToken(mode,stream,state);stream.start=stream.pos}}function callBlankLine(mode,state){if(mode.blankLine){return mode.blankLine(state)}if(!mode.innerMode){return}var inner=innerMode(mode,state);if(inner.mode.blankLine){return inner.mode.blankLine(inner.state)}}function readToken(mode,stream,state,inner){for(var i=0;i<10;i++){if(inner){inner[0]=innerMode(mode,state).mode}var style=mode.token(stream,state);if(stream.pos>stream.start){return style}}throw new Error("Mode "+mode.name+" failed to advance stream.")}function takeToken(cm,pos,precise,asArray){var getObj=function(copy){return{start:stream.start,end:stream.pos,string:stream.current(),type:style||null,state:copy?copyState(doc.mode,state):state}};var doc=cm.doc,mode=doc.mode,style;pos=clipPos(doc,pos);var line=getLine(doc,pos.line),state=getStateBefore(cm,pos.line,precise);var stream=new StringStream(line.text,cm.options.tabSize),tokens;if(asArray){tokens=[]}while((asArray||stream.pos<pos.ch)&&!stream.eol()){stream.start=stream.pos;style=readToken(mode,stream,state);if(asArray){tokens.push(getObj(true))}}return asArray?tokens:getObj()}function extractLineClasses(type,output){if(type){for(;;){var lineClass=type.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!lineClass){break}type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?"bgClass":"textClass";if(output[prop]==null){output[prop]=lineClass[2]}else if(!new RegExp("(?:^|s)"+lineClass[2]+"(?:$|s)").test(output[prop])){output[prop]+=" "+lineClass[2]}}}return type}function runMode(cm,text,mode,state,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;if(flattenSpans==null){flattenSpans=cm.options.flattenSpans}var curStart=0,curStyle=null;var stream=new StringStream(text,cm.options.tabSize),style;var inner=cm.options.addModeClass&&[null];if(text==""){extractLineClasses(callBlankLine(mode,state),lineClasses)}while(!stream.eol()){if(stream.pos>cm.options.maxHighlightLength){flattenSpans=false;if(forceToEnd){processLine(cm,text,state,stream.pos)}stream.pos=text.length;style=null}else{style=extractLineClasses(readToken(mode,stream,state,inner),lineClasses)}if(inner){var mName=inner[0].name;if(mName){style="m-"+(style?mName+" "+style:mName)}}if(!flattenSpans||curStyle!=style){while(curStart<stream.start){curStart=Math.min(stream.start,curStart+5e3);f(curStart,curStyle)}curStyle=style}stream.start=stream.pos}while(curStart<stream.pos){var pos=Math.min(stream.pos,curStart+5e3);f(pos,curStyle);curStart=pos}}function findStartLine(cm,n,precise){var minindent,minline,doc=cm.doc;var lim=precise?-1:n-(cm.doc.mode.innerMode?1e3:100);for(var search=n;search>lim;--search){if(search<=doc.first){return doc.first}var line=getLine(doc,search-1);if(line.stateAfter&&(!precise||search<=doc.frontier)){return search}var indented=countColumn(line.text,null,cm.options.tabSize);if(minline==null||minindent>indented){minline=search-1;minindent=indented}}return minline}function Line(text,markedSpans,estimateHeight){this.text=text;attachMarkedSpans(this,markedSpans);this.height=estimateHeight?estimateHeight(this):1}eventMixin(Line);Line.prototype.lineNo=function(){return lineNo(this)};function updateLine(line,text,markedSpans,estimateHeight){line.text=text;if(line.stateAfter){line.stateAfter=null}if(line.styles){line.styles=null}if(line.order!=null){line.order=null}detachMarkedSpans(line);attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;if(estHeight!=line.height){updateLineHeight(line,estHeight)}}function cleanUpLine(line){line.parent=null;detachMarkedSpans(line)}var styleToClassCache={};var styleToClassCacheWithMode={};function interpretTokenStyle(style,options){if(!style||/^\s*$/.test(style)){return null}var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=style.replace(/\S+/g,"cm-$&"))}function buildLineContent(cm,lineView){var content=elt("span",null,null,webkit?"padding-right: .1px":null);var builder={pre:elt("pre",[content],"CodeMirror-line"),content:content,col:0,pos:0,cm:cm,trailingSpace:false,splitSpaces:(ie||webkit)&&cm.getOption("lineWrapping")};lineView.measure={};for(var i=0;i<=(lineView.rest?lineView.rest.length:0);i++){var line=i?lineView.rest[i-1]:lineView.line,order=void 0;builder.pos=0;builder.addToken=buildToken;if(hasBadBidiRects(cm.display.measure)&&(order=getOrder(line))){builder.addToken=buildTokenBadBidi(builder.addToken,order)}builder.map=[];var allowFrontierUpdate=lineView!=cm.display.externalMeasured&&lineNo(line);insertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate));if(line.styleClasses){if(line.styleClasses.bgClass){builder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||"")}if(line.styleClasses.textClass){builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||"")}}if(builder.map.length==0){builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure)))}if(i==0){lineView.measure.map=builder.map;lineView.measure.cache={}}else{(lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map);(lineView.measure.caches||(lineView.measure.caches=[])).push({})}}if(webkit){var last=builder.content.lastChild;if(/\bcm-tab\b/.test(last.className)||last.querySelector&&last.querySelector(".cm-tab")){builder.content.className="cm-tab-wrap-hack"}}signal(cm,"renderLine",cm,lineView.line,builder.pre);if(builder.pre.className){builder.textClass=joinClasses(builder.pre.className,builder.textClass||"")}return builder}function defaultSpecialCharPlaceholder(ch){var token=elt("span","•","cm-invalidchar");token.title="\\u"+ch.charCodeAt(0).toString(16);token.setAttribute("aria-label",token.title);return token}function buildToken(builder,text,style,startStyle,endStyle,title,css){if(!text){return}var displayText=builder.splitSpaces?splitSpaces(text,builder.trailingSpace):text;var special=builder.cm.state.specialChars,mustWrap=false;var content;if(!special.test(text)){builder.col+=text.length;content=document.createTextNode(displayText);builder.map.push(builder.pos,builder.pos+text.length,content);if(ie&&ie_version<9){mustWrap=true}builder.pos+=text.length}else{content=document.createDocumentFragment();var pos=0;while(true){special.lastIndex=pos;var m=special.exec(text);var skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(displayText.slice(pos,pos+skipped));if(ie&&ie_version<9){content.appendChild(elt("span",[txt]))}else{content.appendChild(txt)}builder.map.push(builder.pos,builder.pos+skipped,txt);builder.col+=skipped;builder.pos+=skipped}if(!m){break}pos+=skipped+1;var txt$1=void 0;if(m[0]=="\t"){var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize;txt$1=content.appendChild(elt("span",spaceStr(tabWidth),"cm-tab"));txt$1.setAttribute("role","presentation");txt$1.setAttribute("cm-text","\t");builder.col+=tabWidth}else if(m[0]=="\r"||m[0]=="\n"){txt$1=content.appendChild(elt("span",m[0]=="\r"?"␍":"␤","cm-invalidchar"));txt$1.setAttribute("cm-text",m[0]);builder.col+=1}else{txt$1=builder.cm.options.specialCharPlaceholder(m[0]);txt$1.setAttribute("cm-text",m[0]);if(ie&&ie_version<9){content.appendChild(elt("span",[txt$1]))}else{content.appendChild(txt$1)}builder.col+=1}builder.map.push(builder.pos,builder.pos+1,txt$1);builder.pos++}}builder.trailingSpace=displayText.charCodeAt(text.length-1)==32;if(style||startStyle||endStyle||mustWrap||css){var fullStyle=style||"";if(startStyle){fullStyle+=startStyle}if(endStyle){fullStyle+=endStyle}var token=elt("span",[content],fullStyle,css);if(title){token.title=title}return builder.content.appendChild(token)}builder.content.appendChild(content)}function splitSpaces(text,trailingBefore){if(text.length>1&&!/  /.test(text)){return text}var spaceBefore=trailingBefore,result="";for(var i=0;i<text.length;i++){var ch=text.charAt(i);if(ch==" "&&spaceBefore&&(i==text.length-1||text.charCodeAt(i+1)==32)){ch=" "}result+=ch;spaceBefore=ch==" "}return result}function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,title,css){style=style?style+" cm-force-border":"cm-force-border";var start=builder.pos,end=start+text.length;for(;;){var part=void 0;for(var i=0;i<order.length;i++){part=order[i];if(part.to>start&&part.from<=start){break}}if(part.to>=end){return inner(builder,text,style,startStyle,endStyle,title,css)}inner(builder,text.slice(0,part.to-start),style,startStyle,null,title,css);startStyle=null;text=text.slice(part.to-start);start=part.to}}}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;if(widget){builder.map.push(builder.pos,builder.pos+size,widget)}if(!ignoreWidget&&builder.cm.display.input.needsContentAttribute){if(!widget){widget=builder.content.appendChild(document.createElement("span"))}widget.setAttribute("cm-marker",marker.id)}if(widget){builder.cm.display.input.setUneditable(widget);builder.content.appendChild(widget)}builder.pos+=size;builder.trailingSpace=false}function insertLineContent(line,builder,styles){var spans=line.markedSpans,allText=line.text,at=0;if(!spans){for(var i$1=1;i$1<styles.length;i$1+=2){builder.addToken(builder,allText.slice(at,at=styles[i$1]),interpretTokenStyle(styles[i$1+1],builder.cm.options))}return}var len=allText.length,pos=0,i=1,text="",style,css;var nextChange=0,spanStyle,spanEndStyle,spanStartStyle,title,collapsed;for(;;){if(nextChange==pos){spanStyle=spanEndStyle=spanStartStyle=title=css="";collapsed=null;nextChange=Infinity;var foundBookmarks=[],endStyles=void 0;for(var j=0;j<spans.length;++j){var sp=spans[j],m=sp.marker;if(m.type=="bookmark"&&sp.from==pos&&m.widgetNode){foundBookmarks.push(m)}else if(sp.from<=pos&&(sp.to==null||sp.to>pos||m.collapsed&&sp.to==pos&&sp.from==pos)){if(sp.to!=null&&sp.to!=pos&&nextChange>sp.to){nextChange=sp.to;spanEndStyle=""}if(m.className){spanStyle+=" "+m.className}if(m.css){css=(css?css+";":"")+m.css}if(m.startStyle&&sp.from==pos){spanStartStyle+=" "+m.startStyle}if(m.endStyle&&sp.to==nextChange){(endStyles||(endStyles=[])).push(m.endStyle,sp.to)}if(m.title&&!title){title=m.title}if(m.collapsed&&(!collapsed||compareCollapsedMarkers(collapsed.marker,m)<0)){collapsed=sp}}else if(sp.from>pos&&nextChange>sp.from){nextChange=sp.from}}if(endStyles){for(var j$1=0;j$1<endStyles.length;j$1+=2){if(endStyles[j$1+1]==nextChange){spanEndStyle+=" "+endStyles[j$1]}}}if(!collapsed||collapsed.from==pos){for(var j$2=0;j$2<foundBookmarks.length;++j$2){buildCollapsedSpan(builder,0,foundBookmarks[j$2])}}if(collapsed&&(collapsed.from||0)==pos){buildCollapsedSpan(builder,(collapsed.to==null?len+1:collapsed.to)-pos,collapsed.marker,collapsed.from==null);if(collapsed.to==null){return}if(collapsed.to==pos){collapsed=false}}}if(pos>=len){break}var upto=Math.min(len,nextChange);while(true){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:"",title,css)}if(end>=upto){text=text.slice(upto-pos);pos=upto;break}pos=end;spanStartStyle=""}text=allText.slice(at,at=styles[i++]);style=interpretTokenStyle(styles[i++],builder.cm.options)}}}function LineView(doc,line,lineN){this.line=line;this.rest=visualLineContinued(line);this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1;this.node=this.text=null;this.hidden=lineIsHidden(doc,line)}function buildViewArray(cm,from,to){var array=[],nextPos;for(var pos=from;pos<to;pos=nextPos){var view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size;array.push(view)}return array}var operationGroup=null;function pushOperation(op){if(operationGroup){operationGroup.ops.push(op)}else{op.ownsGroup=operationGroup={ops:[op],delayedCallbacks:[]}}}function fireCallbacksForOps(group){var callbacks=group.delayedCallbacks,i=0;do{for(;i<callbacks.length;i++){callbacks[i].call(null)}for(var j=0;j<group.ops.length;j++){var op=group.ops[j];if(op.cursorActivityHandlers){while(op.cursorActivityCalled<op.cursorActivityHandlers.length){op.cursorActivityHandlers[op.cursorActivityCalled++].call(null,op.cm)}}}}while(i<callbacks.length)}function finishOperation(op,endCb){var group=op.ownsGroup;if(!group){return}try{fireCallbacksForOps(group)}finally{operationGroup=null;endCb(group)}}var orphanDelayedCallbacks=null;function signalLater(emitter,type){var arr=getHandlers(emitter,type,false);if(!arr.length){return}var args=Array.prototype.slice.call(arguments,2),list;if(operationGroup){list=operationGroup.delayedCallbacks}else if(orphanDelayedCallbacks){list=orphanDelayedCallbacks}else{list=orphanDelayedCallbacks=[];setTimeout(fireOrphanDelayed,0)}var loop=function(i){list.push(function(){return arr[i].apply(null,args)})};for(var i=0;i<arr.length;++i)loop(i)}function fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;orphanDelayedCallbacks=null;for(var i=0;i<delayed.length;++i){delayed[i]()}}function updateLineForChanges(cm,lineView,lineN,dims){for(var j=0;j<lineView.changes.length;j++){var type=lineView.changes[j];if(type=="text"){updateLineText(cm,lineView)}else if(type=="gutter"){updateLineGutter(cm,lineView,lineN,dims)}else if(type=="class"){updateLineClasses(lineView)}else if(type=="widget"){updateLineWidgets(cm,lineView,dims)}}lineView.changes=null}function ensureLineWrapped(lineView){if(lineView.node==lineView.text){lineView.node=elt("div",null,null,"position: relative");if(lineView.text.parentNode){lineView.text.parentNode.replaceChild(lineView.node,lineView.text)}lineView.node.appendChild(lineView.text);if(ie&&ie_version<8){lineView.node.style.zIndex=2}}return lineView.node}function updateLineBackground(lineView){var cls=lineView.bgClass?lineView.bgClass+" "+(lineView.line.bgClass||""):lineView.line.bgClass;if(cls){cls+=" CodeMirror-linebackground"}if(lineView.background){if(cls){lineView.background.className=cls}else{lineView.background.parentNode.removeChild(lineView.background);lineView.background=null}}else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt("div",null,cls),wrap.firstChild)}}function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;if(ext&&ext.line==lineView.line){cm.display.externalMeasured=null;lineView.measure=ext.measure;return ext.built}return buildLineContent(cm,lineView)}function updateLineText(cm,lineView){var cls=lineView.text.className;var built=getLineContent(cm,lineView);if(lineView.text==lineView.node){lineView.node=built.pre}lineView.text.parentNode.replaceChild(built.pre,lineView.text);lineView.text=built.pre;if(built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass){lineView.bgClass=built.bgClass;lineView.textClass=built.textClass;updateLineClasses(lineView)}else if(cls){lineView.text.className=cls}}function updateLineClasses(lineView){updateLineBackground(lineView);if(lineView.line.wrapClass){ensureLineWrapped(lineView).className=lineView.line.wrapClass}else if(lineView.node!=lineView.text){lineView.node.className=""}var textClass=lineView.textClass?lineView.textClass+" "+(lineView.line.textClass||""):lineView.line.textClass;lineView.text.className=textClass||""}function updateLineGutter(cm,lineView,lineN,dims){if(lineView.gutter){lineView.node.removeChild(lineView.gutter);lineView.gutter=null}if(lineView.gutterBackground){lineView.node.removeChild(lineView.gutterBackground);lineView.gutterBackground=null}if(lineView.line.gutterClass){var wrap=ensureLineWrapped(lineView);lineView.gutterBackground=elt("div",null,"CodeMirror-gutter-background "+lineView.line.gutterClass,"left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px; width: "+dims.gutterTotalWidth+"px");wrap.insertBefore(lineView.gutterBackground,lineView.text)}var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap$1=ensureLineWrapped(lineView);var gutterWrap=lineView.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px");cm.display.input.setUneditable(gutterWrap);wrap$1.insertBefore(gutterWrap,lineView.text);if(lineView.line.gutterClass){gutterWrap.className+=" "+lineView.line.gutterClass}if(cm.options.lineNumbers&&(!markers||!markers["CodeMirror-linenumbers"])){lineView.lineNumber=gutterWrap.appendChild(elt("div",lineNumberFor(cm.options,lineN),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+dims.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+cm.display.lineNumInnerWidth+"px"))}if(markers){for(var k=0;k<cm.options.gutters.length;++k){var id=cm.options.gutters[k],found=markers.hasOwnProperty(id)&&markers[id];if(found){gutterWrap.appendChild(elt("div",[found],"CodeMirror-gutter-elt","left: "+dims.gutterLeft[id]+"px; width: "+dims.gutterWidth[id]+"px"))}}}}}function updateLineWidgets(cm,lineView,dims){if(lineView.alignable){lineView.alignable=null}for(var node=lineView.node.firstChild,next=void 0;node;node=next){next=node.nextSibling;if(node.className=="CodeMirror-linewidget"){lineView.node.removeChild(node)}}insertLineWidgets(cm,lineView,dims)}function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);lineView.text=lineView.node=built.pre;if(built.bgClass){lineView.bgClass=built.bgClass}if(built.textClass){lineView.textClass=built.textClass}updateLineClasses(lineView);updateLineGutter(cm,lineView,lineN,dims);insertLineWidgets(cm,lineView,dims);return lineView.node}function insertLineWidgets(cm,lineView,dims){insertLineWidgetsFor(cm,lineView.line,lineView,dims,true);if(lineView.rest){for(var i=0;i<lineView.rest.length;i++){insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,false)}}}function insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(!line.widgets){return}var wrap=ensureLineWrapped(lineView);for(var i=0,ws=line.widgets;i<ws.length;++i){var widget=ws[i],node=elt("div",[widget.node],"CodeMirror-linewidget");if(!widget.handleMouseEvents){node.setAttribute("cm-ignore-events","true")}positionLineWidget(widget,node,lineView,dims);cm.display.input.setUneditable(node);if(allowAbove&&widget.above){wrap.insertBefore(node,lineView.gutter||lineView.text)}else{wrap.appendChild(node)}signalLater(widget,"redraw")}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+"px";if(!widget.coverGutter){width-=dims.gutterTotalWidth;node.style.paddingLeft=dims.gutterTotalWidth+"px"}node.style.width=width+"px"}if(widget.coverGutter){node.style.zIndex=5;node.style.position="relative";if(!widget.noHScroll){node.style.marginLeft=-dims.gutterTotalWidth+"px"}}}function widgetHeight(widget){if(widget.height!=null){return widget.height}var cm=widget.doc.cm;if(!cm){return 0}if(!contains(document.body,widget.node)){var parentStyle="position: relative;";if(widget.coverGutter){parentStyle+="margin-left: -"+cm.display.gutters.offsetWidth+"px;"}if(widget.noHScroll){parentStyle+="width: "+cm.display.wrapper.clientWidth+"px;"}removeChildrenAndAdd(cm.display.measure,elt("div",[widget.node],null,parentStyle))}return widget.height=widget.node.parentNode.offsetHeight}function eventInWidget(display,e){for(var n=e_target(e);n!=display.wrapper;n=n.parentNode){if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==display.sizer&&n!=display.mover){return true}}}function paddingTop(display){return display.lineSpace.offsetTop}function paddingVert(display){return display.mover.offsetHeight-display.lineSpace.offsetHeight}function paddingH(display){
if(display.cachedPaddingH){return display.cachedPaddingH}var e=removeChildrenAndAdd(display.measure,elt("pre","x"));var style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;var data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};if(!isNaN(data.left)&&!isNaN(data.right)){display.cachedPaddingH=data}return data}function scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth}function displayWidth(cm){return cm.display.scroller.clientWidth-scrollGap(cm)-cm.display.barWidth}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight}function ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping;var curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;var rects=lineView.text.firstChild.getClientRects();for(var i=0;i<rects.length-1;i++){var cur=rects[i],next=rects[i+1];if(Math.abs(cur.bottom-next.bottom)>2){heights.push((cur.bottom+next.top)/2-rect.top)}}}heights.push(rect.bottom-rect.top)}}function mapFromLineView(lineView,line,lineN){if(lineView.line==line){return{map:lineView.measure.map,cache:lineView.measure.cache}}for(var i=0;i<lineView.rest.length;i++){if(lineView.rest[i]==line){return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]}}}for(var i$1=0;i$1<lineView.rest.length;i$1++){if(lineNo(lineView.rest[i$1])>lineN){return{map:lineView.measure.maps[i$1],cache:lineView.measure.caches[i$1],before:true}}}}function updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line);var view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);view.text=built.pre;removeChildrenAndAdd(cm.display.lineMeasure,built.pre);return view}function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),ch,bias)}function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo){return cm.display.view[findViewIndex(cm,lineN)]}var ext=cm.display.externalMeasured;if(ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size){return ext}}function prepareMeasureForLine(cm,line){var lineN=lineNo(line);var view=findViewForLine(cm,lineN);if(view&&!view.text){view=null}else if(view&&view.changes){updateLineForChanges(cm,view,lineN,getDimensions(cm));cm.curOp.forceUpdate=true}if(!view){view=updateExternalMeasurement(cm,line)}var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:false}}function measureCharPrepared(cm,prepared,ch,bias,varHeight){if(prepared.before){ch=-1}var key=ch+(bias||""),found;if(prepared.cache.hasOwnProperty(key)){found=prepared.cache[key]}else{if(!prepared.rect){prepared.rect=prepared.view.text.getBoundingClientRect()}if(!prepared.hasHeights){ensureLineHeights(cm,prepared.view,prepared.rect);prepared.hasHeights=true}found=measureCharInner(cm,prepared,ch,bias);if(!found.bogus){prepared.cache[key]=found}}return{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom}}var nullRect={left:0,right:0,top:0,bottom:0};function nodeAndOffsetInLineMap(map,ch,bias){var node,start,end,collapse,mStart,mEnd;for(var i=0;i<map.length;i+=3){mStart=map[i];mEnd=map[i+1];if(ch<mStart){start=0;end=1;collapse="left"}else if(ch<mEnd){start=ch-mStart;end=start+1}else if(i==map.length-3||ch==mEnd&&map[i+3]>ch){end=mEnd-mStart;start=end-1;if(ch>=mEnd){collapse="right"}}if(start!=null){node=map[i+2];if(mStart==mEnd&&bias==(node.insertLeft?"left":"right")){collapse=bias}if(bias=="left"&&start==0){while(i&&map[i-2]==map[i-3]&&map[i-1].insertLeft){node=map[(i-=3)+2];collapse="left"}}if(bias=="right"&&start==mEnd-mStart){while(i<map.length-3&&map[i+3]==map[i+4]&&!map[i+5].insertLeft){node=map[(i+=3)+2];collapse="right"}}break}}return{node:node,start:start,end:end,collapse:collapse,coverStart:mStart,coverEnd:mEnd}}function getUsefulRect(rects,bias){var rect=nullRect;if(bias=="left"){for(var i=0;i<rects.length;i++){if((rect=rects[i]).left!=rect.right){break}}}else{for(var i$1=rects.length-1;i$1>=0;i$1--){if((rect=rects[i$1]).left!=rect.right){break}}}return rect}function measureCharInner(cm,prepared,ch,bias){var place=nodeAndOffsetInLineMap(prepared.map,ch,bias);var node=place.node,start=place.start,end=place.end,collapse=place.collapse;var rect;if(node.nodeType==3){for(var i$1=0;i$1<4;i$1++){while(start&&isExtendingChar(prepared.line.text.charAt(place.coverStart+start))){--start}while(place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end))){++end}if(ie&&ie_version<9&&start==0&&end==place.coverEnd-place.coverStart){rect=node.parentNode.getBoundingClientRect()}else{rect=getUsefulRect(range(node,start,end).getClientRects(),bias)}if(rect.left||rect.right||start==0){break}end=start;start=start-1;collapse="right"}if(ie&&ie_version<11){rect=maybeUpdateRectForZooming(cm.display.measure,rect)}}else{if(start>0){collapse=bias="right"}var rects;if(cm.options.lineWrapping&&(rects=node.getClientRects()).length>1){rect=rects[bias=="right"?rects.length-1:0]}else{rect=node.getBoundingClientRect()}}if(ie&&ie_version<9&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];if(rSpan){rect={left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom}}else{rect=nullRect}}var rtop=rect.top-prepared.rect.top,rbot=rect.bottom-prepared.rect.top;var mid=(rtop+rbot)/2;var heights=prepared.view.measure.heights;var i=0;for(;i<heights.length-1;i++){if(mid<heights[i]){break}}var top=i?heights[i-1]:0,bot=heights[i];var result={left:(collapse=="right"?rect.right:rect.left)-prepared.rect.left,right:(collapse=="left"?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};if(!rect.left&&!rect.right){result.bogus=true}if(!cm.options.singleCursorHeightPerLine){result.rtop=rtop;result.rbottom=rbot}return result}function maybeUpdateRectForZooming(measure,rect){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure)){return rect}var scaleX=screen.logicalXDPI/screen.deviceXDPI;var scaleY=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY}}function clearLineMeasurementCacheFor(lineView){if(lineView.measure){lineView.measure.cache={};lineView.measure.heights=null;if(lineView.rest){for(var i=0;i<lineView.rest.length;i++){lineView.measure.caches[i]={}}}}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null;removeChildren(cm.display.lineMeasure);for(var i=0;i<cm.display.view.length;i++){clearLineMeasurementCacheFor(cm.display.view[i])}}function clearCaches(cm){clearLineMeasurementCache(cm);cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null;if(!cm.options.lineWrapping){cm.display.maxLineChanged=true}cm.display.lineNumChars=null}function pageScrollX(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function intoCoordSystem(cm,lineObj,rect,context){if(lineObj.widgets){for(var i=0;i<lineObj.widgets.length;++i){if(lineObj.widgets[i].above){var size=widgetHeight(lineObj.widgets[i]);rect.top+=size;rect.bottom+=size}}}if(context=="line"){return rect}if(!context){context="local"}var yOff=heightAtLine(lineObj);if(context=="local"){yOff+=paddingTop(cm.display)}else{yOff-=cm.display.viewOffset}if(context=="page"||context=="window"){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff+=lOff.top+(context=="window"?0:pageScrollY());var xOff=lOff.left+(context=="window"?0:pageScrollX());rect.left+=xOff;rect.right+=xOff}rect.top+=yOff;rect.bottom+=yOff;return rect}function fromCoordSystem(cm,coords,context){if(context=="div"){return coords}var left=coords.left,top=coords.top;if(context=="page"){left-=pageScrollX();top-=pageScrollY()}else if(context=="local"||!context){var localBox=cm.display.sizer.getBoundingClientRect();left+=localBox.left;top+=localBox.top}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();return{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top}}function charCoords(cm,pos,context,lineObj,bias){if(!lineObj){lineObj=getLine(cm.doc,pos.line)}return intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context)}function cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){lineObj=lineObj||getLine(cm.doc,pos.line);if(!preparedMeasure){preparedMeasure=prepareMeasureForLine(cm,lineObj)}function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?"right":"left",varHeight);if(right){m.left=m.right}else{m.right=m.left}return intoCoordSystem(cm,lineObj,m,context)}function getBidi(ch,partPos){var part=order[partPos],right=part.level%2;if(ch==bidiLeft(part)&&partPos&&part.level<order[partPos-1].level){part=order[--partPos];ch=bidiRight(part)-(part.level%2?0:1);right=true}else if(ch==bidiRight(part)&&partPos<order.length-1&&part.level<order[partPos+1].level){part=order[++partPos];ch=bidiLeft(part)-part.level%2;right=false}if(right&&ch==part.to&&ch>part.from){return get(ch-1)}return get(ch,right)}var order=getOrder(lineObj),ch=pos.ch;if(!order){return get(ch)}var partPos=getBidiPartAt(order,ch);var val=getBidi(ch,partPos);if(bidiOther!=null){val.other=getBidi(ch,bidiOther)}return val}function estimateCoords(cm,pos){var left=0;pos=clipPos(cm.doc,pos);if(!cm.options.lineWrapping){left=charWidth(cm.display)*pos.ch}var lineObj=getLine(cm.doc,pos.line);var top=heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height}}function PosWithInfo(line,ch,outside,xRel){var pos=Pos(line,ch);pos.xRel=xRel;if(outside){pos.outside=true}return pos}function coordsChar(cm,x,y){var doc=cm.doc;y+=cm.display.viewOffset;if(y<0){return PosWithInfo(doc.first,0,true,-1)}var lineN=lineAtHeight(doc,y),last=doc.first+doc.size-1;if(lineN>last){return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,true,1)}if(x<0){x=0}var lineObj=getLine(doc,lineN);for(;;){var found=coordsCharInner(cm,lineObj,lineN,x,y);var merged=collapsedSpanAtEnd(lineObj);var mergedPos=merged&&merged.find(0,true);if(merged&&(found.ch>mergedPos.from.ch||found.ch==mergedPos.from.ch&&found.xRel>0)){lineN=lineNo(lineObj=mergedPos.to.line)}else{return found}}}function coordsCharInner(cm,lineObj,lineNo,x,y){var innerOff=y-heightAtLine(lineObj);var wrongLine=false,adjust=2*cm.display.wrapper.clientWidth;var preparedMeasure=prepareMeasureForLine(cm,lineObj);function getX(ch){var sp=cursorCoords(cm,Pos(lineNo,ch),"line",lineObj,preparedMeasure);wrongLine=true;if(innerOff>sp.bottom){return sp.left-adjust}else if(innerOff<sp.top){return sp.left+adjust}else{wrongLine=false}return sp.left}var bidi=getOrder(lineObj),dist=lineObj.text.length;var from=lineLeft(lineObj),to=lineRight(lineObj);var fromX=getX(from),fromOutside=wrongLine,toX=getX(to),toOutside=wrongLine;if(x>toX){return PosWithInfo(lineNo,to,toOutside,1)}for(;;){if(bidi?to==from||to==moveVisually(lineObj,from,1):to-from<=1){var ch=x<fromX||x-fromX<=toX-x?from:to;var outside=ch==from?fromOutside:toOutside;var xDiff=x-(ch==from?fromX:toX);if(toOutside&&!bidi&&!/\s/.test(lineObj.text.charAt(ch))&&xDiff>0&&ch<lineObj.text.length&&preparedMeasure.view.measure.heights.length>1){var charSize=measureCharPrepared(cm,preparedMeasure,ch,"right");if(innerOff<=charSize.bottom&&innerOff>=charSize.top&&Math.abs(x-charSize.right)<xDiff){outside=false;ch++;xDiff=x-charSize.right}}while(isExtendingChar(lineObj.text.charAt(ch))){++ch}var pos=PosWithInfo(lineNo,ch,outside,xDiff<-1?-1:xDiff>1?1:0);return pos}var step=Math.ceil(dist/2),middle=from+step;if(bidi){middle=from;for(var i=0;i<step;++i){middle=moveVisually(lineObj,middle,1)}}var middleX=getX(middle);if(middleX>x){to=middle;toX=middleX;if(toOutside=wrongLine){toX+=1e3}dist=step}else{from=middle;fromX=middleX;fromOutside=wrongLine;dist-=step}}}var measureText;function textHeight(display){if(display.cachedTextHeight!=null){return display.cachedTextHeight}if(measureText==null){measureText=elt("pre");for(var i=0;i<49;++i){measureText.appendChild(document.createTextNode("x"));measureText.appendChild(elt("br"))}measureText.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;if(height>3){display.cachedTextHeight=height}removeChildren(display.measure);return height||1}function charWidth(display){if(display.cachedCharWidth!=null){return display.cachedCharWidth}var anchor=elt("span","xxxxxxxxxx");var pre=elt("pre",[anchor]);removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/10;if(width>2){display.cachedCharWidth=width}return width||10}function getDimensions(cm){var d=cm.display,left={},width={};var gutterLeft=d.gutters.clientLeft;for(var n=d.gutters.firstChild,i=0;n;n=n.nextSibling,++i){left[cm.options.gutters[i]]=n.offsetLeft+n.clientLeft+gutterLeft;width[cm.options.gutters[i]]=n.clientWidth}return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth}}function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left}function estimateHeight(cm){var th=textHeight(cm.display),wrapping=cm.options.lineWrapping;var perLine=wrapping&&Math.max(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line)){return 0}var widgetsHeight=0;if(line.widgets){for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].height){widgetsHeight+=line.widgets[i].height}}}if(wrapping){return widgetsHeight+(Math.ceil(line.text.length/perLine)||1)*th}else{return widgetsHeight+th}}}function estimateLineHeights(cm){var doc=cm.doc,est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);if(estHeight!=line.height){updateLineHeight(line,estHeight)}})}function posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal&&e_target(e).getAttribute("cm-not-content")=="true"){return null}var x,y,space=display.lineSpace.getBoundingClientRect();try{x=e.clientX-space.left;y=e.clientY-space.top}catch(e){return null}var coords=coordsChar(cm,x,y),line;if(forRect&&coords.xRel==1&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,Math.max(0,Math.round((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff))}return coords}function findViewIndex(cm,n){if(n>=cm.display.viewTo){return null}n-=cm.display.viewFrom;if(n<0){return null}var view=cm.display.view;for(var i=0;i<view.length;i++){n-=view[i].size;if(n<0){return i}}}function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection())}function prepareSelection(cm,primary){var doc=cm.doc,result={};var curFragment=result.cursors=document.createDocumentFragment();var selFragment=result.selection=document.createDocumentFragment();for(var i=0;i<doc.sel.ranges.length;i++){if(primary===false&&i==doc.sel.primIndex){continue}var range=doc.sel.ranges[i];if(range.from().line>=cm.display.viewTo||range.to().line<cm.display.viewFrom){continue}var collapsed=range.empty();if(collapsed||cm.options.showCursorWhenSelecting){drawSelectionCursor(cm,range.head,curFragment)}if(!collapsed){drawSelectionRange(cm,range,selFragment)}}return result}function drawSelectionCursor(cm,head,output){var pos=cursorCoords(cm,head,"div",null,null,!cm.options.singleCursorHeightPerLine);var cursor=output.appendChild(elt("div"," ","CodeMirror-cursor"));cursor.style.left=pos.left+"px";cursor.style.top=pos.top+"px";cursor.style.height=Math.max(0,pos.bottom-pos.top)*cm.options.cursorHeight+"px";if(pos.other){var otherCursor=output.appendChild(elt("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));otherCursor.style.display="";otherCursor.style.left=pos.other.left+"px";otherCursor.style.top=pos.other.top+"px";otherCursor.style.height=(pos.other.bottom-pos.other.top)*.85+"px"}}function drawSelectionRange(cm,range,output){var display=cm.display,doc=cm.doc;var fragment=document.createDocumentFragment();var padding=paddingH(cm.display),leftSide=padding.left;var rightSide=Math.max(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right;function add(left,top,width,bottom){if(top<0){top=0}top=Math.round(top);bottom=Math.round(bottom);fragment.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+left+"px;\n                             top: "+top+"px; width: "+(width==null?rightSide-left:width)+"px;\n                             height: "+(bottom-top)+"px"))}function drawForLine(line,fromArg,toArg){var lineObj=getLine(doc,line);var lineLen=lineObj.text.length;var start,end;function coords(ch,bias){return charCoords(cm,Pos(line,ch),"div",lineObj,bias)}iterateBidiSections(getOrder(lineObj),fromArg||0,toArg==null?lineLen:toArg,function(from,to,dir){var leftPos=coords(from,"left"),rightPos,left,right;if(from==to){rightPos=leftPos;left=right=leftPos.left}else{rightPos=coords(to-1,"right");if(dir=="rtl"){var tmp=leftPos;leftPos=rightPos;rightPos=tmp}left=leftPos.left;right=rightPos.right}if(fromArg==null&&from==0){left=leftSide}if(rightPos.top-leftPos.top>3){add(left,leftPos.top,null,leftPos.bottom);left=leftSide;if(leftPos.bottom<rightPos.top){add(left,leftPos.bottom,null,rightPos.top)}}if(toArg==null&&to==lineLen){right=rightSide}if(!start||leftPos.top<start.top||leftPos.top==start.top&&leftPos.left<start.left){start=leftPos}if(!end||rightPos.bottom>end.bottom||rightPos.bottom==end.bottom&&rightPos.right>end.right){end=rightPos}if(left<leftSide+1){left=leftSide}add(left,rightPos.top,right-left,rightPos.bottom)});return{start:start,end:end}}var sFrom=range.from(),sTo=range.to();if(sFrom.line==sTo.line){drawForLine(sFrom.line,sFrom.ch,sTo.ch)}else{var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line);var singleVLine=visualLine(fromLine)==visualLine(toLine);var leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end;var rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;if(singleVLine){if(leftEnd.top<rightStart.top-2){add(leftEnd.right,leftEnd.top,null,leftEnd.bottom);add(leftSide,rightStart.top,rightStart.left,rightStart.bottom)}else{add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom)}}if(leftEnd.bottom<rightStart.top){add(leftSide,leftEnd.bottom,null,rightStart.top)}}output.appendChild(fragment)}function restartBlink(cm){if(!cm.state.focused){return}var display=cm.display;clearInterval(display.blinker);var on=true;display.cursorDiv.style.visibility="";if(cm.options.cursorBlinkRate>0){display.blinker=setInterval(function(){return display.cursorDiv.style.visibility=(on=!on)?"":"hidden"},cm.options.cursorBlinkRate)}else if(cm.options.cursorBlinkRate<0){display.cursorDiv.style.visibility="hidden"}}function ensureFocus(cm){if(!cm.state.focused){cm.display.input.focus();onFocus(cm)}}function delayBlurEvent(cm){cm.state.delayingBlurEvent=true;setTimeout(function(){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=false;onBlur(cm)}},100)}function onFocus(cm,e){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=false}if(cm.options.readOnly=="nocursor"){return}if(!cm.state.focused){signal(cm,"focus",cm,e);cm.state.focused=true;addClass(cm.display.wrapper,"CodeMirror-focused");if(!cm.curOp&&cm.display.selForContextMenu!=cm.doc.sel){cm.display.input.reset();if(webkit){setTimeout(function(){return cm.display.input.reset(true)},20)}}cm.display.input.receivedFocus()}restartBlink(cm)}function onBlur(cm,e){if(cm.state.delayingBlurEvent){return}if(cm.state.focused){signal(cm,"blur",cm,e);cm.state.focused=false;rmClass(cm.display.wrapper,"CodeMirror-focused")}clearInterval(cm.display.blinker);setTimeout(function(){if(!cm.state.focused){cm.display.shift=false}},150)}function alignHorizontally(cm){var display=cm.display,view=display.view;if(!display.alignWidgets&&(!display.gutters.firstChild||!cm.options.fixedGutter)){return}var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft;var gutterW=display.gutters.offsetWidth,left=comp+"px";for(var i=0;i<view.length;i++){if(!view[i].hidden){if(cm.options.fixedGutter){if(view[i].gutter){view[i].gutter.style.left=left}if(view[i].gutterBackground){view[i].gutterBackground.style.left=left}}var align=view[i].alignable;if(align){for(var j=0;j<align.length;j++){align[j].style.left=left}}}}if(cm.options.fixedGutter){display.gutters.style.left=comp+gutterW+"px"}}function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers){return false}var doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt("div",[elt("div",last)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;display.lineGutter.style.width="";display.lineNumInnerWidth=Math.max(innerW,display.lineGutter.offsetWidth-padding)+1;display.lineNumWidth=display.lineNumInnerWidth+padding;display.lineNumChars=display.lineNumInnerWidth?last.length:-1;display.lineGutter.style.width=display.lineNumWidth+"px";updateGutterSpace(cm);return true}return false}function updateHeightsInViewport(cm){var display=cm.display;var prevBottom=display.lineDiv.offsetTop;for(var i=0;i<display.view.length;i++){var cur=display.view[i],height=void 0;if(cur.hidden){continue}if(ie&&ie_version<8){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom;prevBottom=bot}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top}var diff=cur.line.height-height;if(height<2){height=textHeight(display)}if(diff>.001||diff<-.001){updateLineHeight(cur.line,height);updateWidgetHeight(cur.line);if(cur.rest){for(var j=0;j<cur.rest.length;j++){updateWidgetHeight(cur.rest[j])}}}}}function updateWidgetHeight(line){if(line.widgets){for(var i=0;i<line.widgets.length;++i){line.widgets[i].height=line.widgets[i].node.parentNode.offsetHeight}}}function visibleLines(display,doc,viewport){var top=viewport&&viewport.top!=null?Math.max(0,viewport.top):display.scroller.scrollTop;top=Math.floor(top-paddingTop(display));var bottom=viewport&&viewport.bottom!=null?viewport.bottom:top+display.wrapper.clientHeight;var from=lineAtHeight(doc,top),to=lineAtHeight(doc,bottom);if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line,ensureTo=viewport.ensure.to.line;if(ensureFrom<from){from=ensureFrom;to=lineAtHeight(doc,heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight)}else if(Math.min(ensureTo,doc.lastLine())>=to){from=lineAtHeight(doc,heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight);to=ensureTo}}return{from:from,to:Math.max(to,from+1)}}function setScrollTop(cm,val){if(Math.abs(cm.doc.scrollTop-val)<2){return}cm.doc.scrollTop=val;if(!gecko){updateDisplaySimple(cm,{top:val})}if(cm.display.scroller.scrollTop!=val){cm.display.scroller.scrollTop=val}cm.display.scrollbars.setScrollTop(val);if(gecko){updateDisplaySimple(cm)}startWorker(cm,100)}function setScrollLeft(cm,val,isScroller){if(isScroller?val==cm.doc.scrollLeft:Math.abs(cm.doc.scrollLeft-val)<2){return}val=Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth);cm.doc.scrollLeft=val;alignHorizontally(cm);if(cm.display.scroller.scrollLeft!=val){cm.display.scroller.scrollLeft=val}cm.display.scrollbars.setScrollLeft(val)}var wheelSamples=0;var wheelPixelsPerUnit=null;if(ie){wheelPixelsPerUnit=-.53}else if(gecko){wheelPixelsPerUnit=15}else if(chrome){wheelPixelsPerUnit=-.7}else if(safari){wheelPixelsPerUnit=-1/3}function wheelEventDelta(e){var dx=e.wheelDeltaX,dy=e.wheelDeltaY;if(dx==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS){dx=e.detail}if(dy==null&&e.detail&&e.axis==e.VERTICAL_AXIS){dy=e.detail}else if(dy==null){dy=e.wheelDelta}return{x:dx,y:dy}}function wheelEventPixels(e){var delta=wheelEventDelta(e);delta.x*=wheelPixelsPerUnit;delta.y*=wheelPixelsPerUnit;return delta}function onScrollWheel(cm,e){var delta=wheelEventDelta(e),dx=delta.x,dy=delta.y;var display=cm.display,scroll=display.scroller;var canScrollX=scroll.scrollWidth>scroll.clientWidth;var canScrollY=scroll.scrollHeight>scroll.clientHeight;if(!(dx&&canScrollX||dy&&canScrollY)){return}if(dy&&mac&&webkit){outer:for(var cur=e.target,view=display.view;cur!=scroll;cur=cur.parentNode){for(var i=0;i<view.length;i++){if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer}}}}if(dx&&!gecko&&!presto&&wheelPixelsPerUnit!=null){if(dy&&canScrollY){setScrollTop(cm,Math.max(0,Math.min(scroll.scrollTop+dy*wheelPixelsPerUnit,scroll.scrollHeight-scroll.clientHeight)))}setScrollLeft(cm,Math.max(0,Math.min(scroll.scrollLeft+dx*wheelPixelsPerUnit,scroll.scrollWidth-scroll.clientWidth)));if(!dy||dy&&canScrollY){e_preventDefault(e)}display.wheelStartX=null;return}if(dy&&wheelPixelsPerUnit!=null){var pixels=dy*wheelPixelsPerUnit;var top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;if(pixels<0){top=Math.max(0,top+pixels-50)}else{bot=Math.min(cm.doc.height,bot+pixels+50)}updateDisplaySimple(cm,{top:top,bottom:bot})}if(wheelSamples<20){if(display.wheelStartX==null){display.wheelStartX=scroll.scrollLeft;display.wheelStartY=scroll.scrollTop;display.wheelDX=dx;display.wheelDY=dy;setTimeout(function(){if(display.wheelStartX==null){return}var movedX=scroll.scrollLeft-display.wheelStartX;var movedY=scroll.scrollTop-display.wheelStartY;var sample=movedY&&display.wheelDY&&movedY/display.wheelDY||movedX&&display.wheelDX&&movedX/display.wheelDX;display.wheelStartX=display.wheelStartY=null;if(!sample){return}wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1);++wheelSamples},200)}else{display.wheelDX+=dx;display.wheelDY+=dy}}}function measureForScrollbars(cm){var d=cm.display,gutterW=d.gutters.offsetWidth;var docH=Math.round(cm.doc.height+paddingVert(cm.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW}}function NativeScrollbars(place,scroll,cm){this.cm=cm;var vert=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");var horiz=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");place(vert);place(horiz);on(vert,"scroll",function(){if(vert.clientHeight){scroll(vert.scrollTop,"vertical")}});on(horiz,"scroll",function(){if(horiz.clientWidth){scroll(horiz.scrollLeft,"horizontal")}});this.checkedZeroWidth=false;if(ie&&ie_version<8){this.horiz.style.minHeight=this.vert.style.minWidth="18px"}}NativeScrollbars.prototype=copyObj({update:function(measure){var needsH=measure.scrollWidth>measure.clientWidth+1;var needsV=measure.scrollHeight>measure.clientHeight+1;var sWidth=measure.nativeBarWidth;if(needsV){this.vert.style.display="block";this.vert.style.bottom=needsH?sWidth+"px":"0";var totalHeight=measure.viewHeight-(needsH?sWidth:0);this.vert.firstChild.style.height=Math.max(0,measure.scrollHeight-measure.clientHeight+totalHeight)+"px"}else{this.vert.style.display="";this.vert.firstChild.style.height="0"}if(needsH){this.horiz.style.display="block";this.horiz.style.right=needsV?sWidth+"px":"0";this.horiz.style.left=measure.barLeft+"px";var totalWidth=measure.viewWidth-measure.barLeft-(needsV?sWidth:0);this.horiz.firstChild.style.width=measure.scrollWidth-measure.clientWidth+totalWidth+"px"}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0"}if(!this.checkedZeroWidth&&measure.clientHeight>0){if(sWidth==0){this.zeroWidthHack()}this.checkedZeroWidth=true}return{right:needsV?sWidth:0,bottom:needsH?sWidth:0}},setScrollLeft:function(pos){if(this.horiz.scrollLeft!=pos){this.horiz.scrollLeft=pos}if(this.disableHoriz){this.enableZeroWidthBar(this.horiz,this.disableHoriz)}},setScrollTop:function(pos){if(this.vert.scrollTop!=pos){this.vert.scrollTop=pos}if(this.disableVert){this.enableZeroWidthBar(this.vert,this.disableVert)}},zeroWidthHack:function(){var w=mac&&!mac_geMountainLion?"12px":"18px";this.horiz.style.height=this.vert.style.width=w;this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new Delayed;this.disableVert=new Delayed},enableZeroWidthBar:function(bar,delay){bar.style.pointerEvents="auto";function maybeDisable(){var box=bar.getBoundingClientRect();var elt=document.elementFromPoint(box.left+1,box.bottom-1);if(elt!=bar){bar.style.pointerEvents="none"}else{delay.set(1e3,maybeDisable)}}delay.set(1e3,maybeDisable)},clear:function(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz);parent.removeChild(this.vert)}},NativeScrollbars.prototype);function NullScrollbars(){}NullScrollbars.prototype=copyObj({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},NullScrollbars.prototype);function updateScrollbars(cm,measure){if(!measure){measure=measureForScrollbars(cm)}var startWidth=cm.display.barWidth,startHeight=cm.display.barHeight;updateScrollbarsInner(cm,measure);for(var i=0;i<4&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++){if(startWidth!=cm.display.barWidth&&cm.options.lineWrapping){updateHeightsInViewport(cm)}updateScrollbarsInner(cm,measureForScrollbars(cm));startWidth=cm.display.barWidth;startHeight=cm.display.barHeight}}function updateScrollbarsInner(cm,measure){var d=cm.display;var sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=(d.barWidth=sizes.right)+"px";d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+"px";d.heightForcer.style.borderBottom=sizes.bottom+"px solid transparent";if(sizes.right&&sizes.bottom){d.scrollbarFiller.style.display="block";d.scrollbarFiller.style.height=sizes.bottom+"px";d.scrollbarFiller.style.width=sizes.right+"px"}else{d.scrollbarFiller.style.display=""}if(sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter){d.gutterFiller.style.display="block";d.gutterFiller.style.height=sizes.bottom+"px";d.gutterFiller.style.width=measure.gutterWidth+"px"}else{d.gutterFiller.style.display=""}}var scrollbarModel={native:NativeScrollbars,null:NullScrollbars};function initScrollbars(cm){if(cm.display.scrollbars){cm.display.scrollbars.clear();if(cm.display.scrollbars.addClass){rmClass(cm.display.wrapper,cm.display.scrollbars.addClass)}}cm.display.scrollbars=new scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller);on(node,"mousedown",function(){if(cm.state.focused){setTimeout(function(){return cm.display.input.focus()},0)}});node.setAttribute("cm-not-content","true")},function(pos,axis){if(axis=="horizontal"){setScrollLeft(cm,pos)}else{setScrollTop(cm,pos)}},cm);if(cm.display.scrollbars.addClass){addClass(cm.display.wrapper,cm.display.scrollbars.addClass)}}function maybeScrollWindow(cm,coords){if(signalDOMEvent(cm,"scrollCursorIntoView")){return}var display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;if(coords.top+box.top<0){doScroll=true}else if(coords.bottom+box.top>(window.innerHeight||document.documentElement.clientHeight)){doScroll=false}if(doScroll!=null&&!phantom){var scrollNode=elt("div","​",null,"position: absolute;\n                         top: "+(coords.top-display.viewOffset-paddingTop(cm.display))+"px;\n                         height: "+(coords.bottom-coords.top+scrollGap(cm)+display.barHeight)+"px;\n                         left: "+coords.left+"px; width: 2px;");
cm.display.lineSpace.appendChild(scrollNode);scrollNode.scrollIntoView(doScroll);cm.display.lineSpace.removeChild(scrollNode)}}function scrollPosIntoView(cm,pos,end,margin){if(margin==null){margin=0}var coords;for(var limit=0;limit<5;limit++){var changed=false;coords=cursorCoords(cm,pos);var endCoords=!end||end==pos?coords:cursorCoords(cm,end);var scrollPos=calculateScrollPos(cm,Math.min(coords.left,endCoords.left),Math.min(coords.top,endCoords.top)-margin,Math.max(coords.left,endCoords.left),Math.max(coords.bottom,endCoords.bottom)+margin);var startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;if(scrollPos.scrollTop!=null){setScrollTop(cm,scrollPos.scrollTop);if(Math.abs(cm.doc.scrollTop-startTop)>1){changed=true}}if(scrollPos.scrollLeft!=null){setScrollLeft(cm,scrollPos.scrollLeft);if(Math.abs(cm.doc.scrollLeft-startLeft)>1){changed=true}}if(!changed){break}}return coords}function scrollIntoView(cm,x1,y1,x2,y2){var scrollPos=calculateScrollPos(cm,x1,y1,x2,y2);if(scrollPos.scrollTop!=null){setScrollTop(cm,scrollPos.scrollTop)}if(scrollPos.scrollLeft!=null){setScrollLeft(cm,scrollPos.scrollLeft)}}function calculateScrollPos(cm,x1,y1,x2,y2){var display=cm.display,snapMargin=textHeight(cm.display);if(y1<0){y1=0}var screentop=cm.curOp&&cm.curOp.scrollTop!=null?cm.curOp.scrollTop:display.scroller.scrollTop;var screen=displayHeight(cm),result={};if(y2-y1>screen){y2=y1+screen}var docBottom=cm.doc.height+paddingVert(display);var atTop=y1<snapMargin,atBottom=y2>docBottom-snapMargin;if(y1<screentop){result.scrollTop=atTop?0:y1}else if(y2>screentop+screen){var newTop=Math.min(y1,(atBottom?docBottom:y2)-screen);if(newTop!=screentop){result.scrollTop=newTop}}var screenleft=cm.curOp&&cm.curOp.scrollLeft!=null?cm.curOp.scrollLeft:display.scroller.scrollLeft;var screenw=displayWidth(cm)-(cm.options.fixedGutter?display.gutters.offsetWidth:0);var tooWide=x2-x1>screenw;if(tooWide){x2=x1+screenw}if(x1<10){result.scrollLeft=0}else if(x1<screenleft){result.scrollLeft=Math.max(0,x1-(tooWide?0:10))}else if(x2>screenw+screenleft-3){result.scrollLeft=x2+(tooWide?0:10)-screenw}return result}function addToScrollPos(cm,left,top){if(left!=null||top!=null){resolveScrollToPos(cm)}if(left!=null){cm.curOp.scrollLeft=(cm.curOp.scrollLeft==null?cm.doc.scrollLeft:cm.curOp.scrollLeft)+left}if(top!=null){cm.curOp.scrollTop=(cm.curOp.scrollTop==null?cm.doc.scrollTop:cm.curOp.scrollTop)+top}}function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor(),from=cur,to=cur;if(!cm.options.lineWrapping){from=cur.ch?Pos(cur.line,cur.ch-1):cur;to=Pos(cur.line,cur.ch+1)}cm.curOp.scrollToPos={from:from,to:to,margin:cm.options.cursorScrollMargin,isCursor:true}}function resolveScrollToPos(cm){var range=cm.curOp.scrollToPos;if(range){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range.from),to=estimateCoords(cm,range.to);var sPos=calculateScrollPos(cm,Math.min(from.left,to.left),Math.min(from.top,to.top)-range.margin,Math.max(from.right,to.right),Math.max(from.bottom,to.bottom)+range.margin);cm.scrollTo(sPos.scrollLeft,sPos.scrollTop)}}var nextOpId=0;function startOperation(cm){cm.curOp={cm:cm,viewChanged:false,startHeight:cm.doc.height,forceUpdate:false,updateInput:null,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:false,id:++nextOpId};pushOperation(cm.curOp)}function endOperation(cm){var op=cm.curOp;finishOperation(op,function(group){for(var i=0;i<group.ops.length;i++){group.ops[i].cm.curOp=null}endOperations(group)})}function endOperations(group){var ops=group.ops;for(var i=0;i<ops.length;i++){endOperation_R1(ops[i])}for(var i$1=0;i$1<ops.length;i$1++){endOperation_W1(ops[i$1])}for(var i$2=0;i$2<ops.length;i$2++){endOperation_R2(ops[i$2])}for(var i$3=0;i$3<ops.length;i$3++){endOperation_W2(ops[i$3])}for(var i$4=0;i$4<ops.length;i$4++){endOperation_finish(ops[i$4])}}function endOperation_R1(op){var cm=op.cm,display=cm.display;maybeClipScrollbars(cm);if(op.updateMaxLine){findMaxLine(cm)}op.mustUpdate=op.viewChanged||op.forceUpdate||op.scrollTop!=null||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping;op.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate)}function endOperation_W1(op){op.updatedDisplay=op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update)}function endOperation_R2(op){var cm=op.cm,display=cm.display;if(op.updatedDisplay){updateHeightsInViewport(cm)}op.barMeasure=measureForScrollbars(cm);if(display.maxLineChanged&&!cm.options.lineWrapping){op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3;cm.display.sizerWidth=op.adjustWidthTo;op.barMeasure.scrollWidth=Math.max(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth);op.maxScrollLeft=Math.max(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm))}if(op.updatedDisplay||op.selectionChanged){op.preparedSelection=display.input.prepareSelection(op.focus)}}function endOperation_W2(op){var cm=op.cm;if(op.adjustWidthTo!=null){cm.display.sizer.style.minWidth=op.adjustWidthTo+"px";if(op.maxScrollLeft<cm.doc.scrollLeft){setScrollLeft(cm,Math.min(cm.display.scroller.scrollLeft,op.maxScrollLeft),true)}cm.display.maxLineChanged=false}var takeFocus=op.focus&&op.focus==activeElt()&&(!document.hasFocus||document.hasFocus());if(op.preparedSelection){cm.display.input.showSelection(op.preparedSelection,takeFocus)}if(op.updatedDisplay||op.startHeight!=cm.doc.height){updateScrollbars(cm,op.barMeasure)}if(op.updatedDisplay){setDocumentHeight(cm,op.barMeasure)}if(op.selectionChanged){restartBlink(cm)}if(cm.state.focused&&op.updateInput){cm.display.input.reset(op.typing)}if(takeFocus){ensureFocus(op.cm)}}function endOperation_finish(op){var cm=op.cm,display=cm.display,doc=cm.doc;if(op.updatedDisplay){postUpdateDisplay(cm,op.update)}if(display.wheelStartX!=null&&(op.scrollTop!=null||op.scrollLeft!=null||op.scrollToPos)){display.wheelStartX=display.wheelStartY=null}if(op.scrollTop!=null&&(display.scroller.scrollTop!=op.scrollTop||op.forceScroll)){doc.scrollTop=Math.max(0,Math.min(display.scroller.scrollHeight-display.scroller.clientHeight,op.scrollTop));display.scrollbars.setScrollTop(doc.scrollTop);display.scroller.scrollTop=doc.scrollTop}if(op.scrollLeft!=null&&(display.scroller.scrollLeft!=op.scrollLeft||op.forceScroll)){doc.scrollLeft=Math.max(0,Math.min(display.scroller.scrollWidth-display.scroller.clientWidth,op.scrollLeft));display.scrollbars.setScrollLeft(doc.scrollLeft);display.scroller.scrollLeft=doc.scrollLeft;alignHorizontally(cm)}if(op.scrollToPos){var coords=scrollPosIntoView(cm,clipPos(doc,op.scrollToPos.from),clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);if(op.scrollToPos.isCursor&&cm.state.focused){maybeScrollWindow(cm,coords)}}var hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;if(hidden){for(var i=0;i<hidden.length;++i){if(!hidden[i].lines.length){signal(hidden[i],"hide")}}}if(unhidden){for(var i$1=0;i$1<unhidden.length;++i$1){if(unhidden[i$1].lines.length){signal(unhidden[i$1],"unhide")}}}if(display.wrapper.offsetHeight){doc.scrollTop=cm.display.scroller.scrollTop}if(op.changeObjs){signal(cm,"changes",cm,op.changeObjs)}if(op.update){op.update.finish()}}function runInOp(cm,f){if(cm.curOp){return f()}startOperation(cm);try{return f()}finally{endOperation(cm)}}function operation(cm,f){return function(){if(cm.curOp){return f.apply(cm,arguments)}startOperation(cm);try{return f.apply(cm,arguments)}finally{endOperation(cm)}}}function methodOp(f){return function(){if(this.curOp){return f.apply(this,arguments)}startOperation(this);try{return f.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp){return f.apply(this,arguments)}startOperation(cm);try{return f.apply(this,arguments)}finally{endOperation(cm)}}}function regChange(cm,from,to,lendiff){if(from==null){from=cm.doc.first}if(to==null){to=cm.doc.first+cm.doc.size}if(!lendiff){lendiff=0}var display=cm.display;if(lendiff&&to<display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>from)){display.updateLineNumbers=from}cm.curOp.viewChanged=true;if(from>=display.viewTo){if(sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo){resetView(cm)}}else if(to<=display.viewFrom){if(sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom){resetView(cm)}else{display.viewFrom+=lendiff;display.viewTo+=lendiff}}else if(from<=display.viewFrom&&to>=display.viewTo){resetView(cm)}else if(from<=display.viewFrom){var cut=viewCuttingPoint(cm,to,to+lendiff,1);if(cut){display.view=display.view.slice(cut.index);display.viewFrom=cut.lineN;display.viewTo+=lendiff}else{resetView(cm)}}else if(to>=display.viewTo){var cut$1=viewCuttingPoint(cm,from,from,-1);if(cut$1){display.view=display.view.slice(0,cut$1.index);display.viewTo=cut$1.lineN}else{resetView(cm)}}else{var cutTop=viewCuttingPoint(cm,from,from,-1);var cutBot=viewCuttingPoint(cm,to,to+lendiff,1);if(cutTop&&cutBot){display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index));display.viewTo+=lendiff}else{resetView(cm)}}var ext=display.externalMeasured;if(ext){if(to<ext.lineN){ext.lineN+=lendiff}else if(from<ext.lineN+ext.size){display.externalMeasured=null}}}function regLineChange(cm,line,type){cm.curOp.viewChanged=true;var display=cm.display,ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size){display.externalMeasured=null}if(line<display.viewFrom||line>=display.viewTo){return}var lineView=display.view[findViewIndex(cm,line)];if(lineView.node==null){return}var arr=lineView.changes||(lineView.changes=[]);if(indexOf(arr,type)==-1){arr.push(type)}}function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first;cm.display.view=[];cm.display.viewOffset=0}function viewCuttingPoint(cm,oldN,newN,dir){var index=findViewIndex(cm,oldN),diff,view=cm.display.view;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size){return{index:index,lineN:newN}}var n=cm.display.viewFrom;for(var i=0;i<index;i++){n+=view[i].size}if(n!=oldN){if(dir>0){if(index==view.length-1){return null}diff=n+view[index].size-oldN;index++}else{diff=n-oldN}oldN+=diff;newN+=diff}while(visualLineNo(cm.doc,newN)!=newN){if(index==(dir<0?0:view.length-1)){return null}newN+=dir*view[index-(dir<0?1:0)].size;index+=dir}return{index:index,lineN:newN}}function adjustView(cm,from,to){var display=cm.display,view=display.view;if(view.length==0||from>=display.viewTo||to<=display.viewFrom){display.view=buildViewArray(cm,from,to);display.viewFrom=from}else{if(display.viewFrom>from){display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view)}else if(display.viewFrom<from){display.view=display.view.slice(findViewIndex(cm,from))}display.viewFrom=from;if(display.viewTo<to){display.view=display.view.concat(buildViewArray(cm,display.viewTo,to))}else if(display.viewTo>to){display.view=display.view.slice(0,findViewIndex(cm,to))}}display.viewTo=to}function countDirtyView(cm){var view=cm.display.view,dirty=0;for(var i=0;i<view.length;i++){var lineView=view[i];if(!lineView.hidden&&(!lineView.node||lineView.changes)){++dirty}}return dirty}function startWorker(cm,time){if(cm.doc.mode.startState&&cm.doc.frontier<cm.display.viewTo){cm.state.highlight.set(time,bind(highlightWorker,cm))}}function highlightWorker(cm){var doc=cm.doc;if(doc.frontier<doc.first){doc.frontier=doc.first}if(doc.frontier>=cm.display.viewTo){return}var end=+new Date+cm.options.workTime;var state=copyState(doc.mode,getStateBefore(cm,doc.frontier));var changedLines=[];doc.iter(doc.frontier,Math.min(doc.first+doc.size,cm.display.viewTo+500),function(line){if(doc.frontier>=cm.display.viewFrom){var oldStyles=line.styles,tooLong=line.text.length>cm.options.maxHighlightLength;var highlighted=highlightLine(cm,line,tooLong?copyState(doc.mode,state):state,true);line.styles=highlighted.styles;var oldCls=line.styleClasses,newCls=highlighted.classes;if(newCls){line.styleClasses=newCls}else if(oldCls){line.styleClasses=null}var ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass);for(var i=0;!ischange&&i<oldStyles.length;++i){ischange=oldStyles[i]!=line.styles[i]}if(ischange){changedLines.push(doc.frontier)}line.stateAfter=tooLong?state:copyState(doc.mode,state)}else{if(line.text.length<=cm.options.maxHighlightLength){processLine(cm,line.text,state)}line.stateAfter=doc.frontier%5==0?copyState(doc.mode,state):null}++doc.frontier;if(+new Date>end){startWorker(cm,cm.options.workDelay);return true}});if(changedLines.length){runInOp(cm,function(){for(var i=0;i<changedLines.length;i++){regLineChange(cm,changedLines[i],"text")}})}}function DisplayUpdate(cm,viewport,force){var display=cm.display;this.viewport=viewport;this.visible=visibleLines(display,cm.doc,viewport);this.editorIsHidden=!display.wrapper.offsetWidth;this.wrapperHeight=display.wrapper.clientHeight;this.wrapperWidth=display.wrapper.clientWidth;this.oldDisplayWidth=displayWidth(cm);this.force=force;this.dims=getDimensions(cm);this.events=[]}DisplayUpdate.prototype.signal=function(emitter,type){if(hasHandler(emitter,type)){this.events.push(arguments)}};DisplayUpdate.prototype.finish=function(){var this$1=this;for(var i=0;i<this.events.length;i++){signal.apply(null,this$1.events[i])}};function maybeClipScrollbars(cm){var display=cm.display;if(!display.scrollbarsClipped&&display.scroller.offsetWidth){display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth;display.heightForcer.style.height=scrollGap(cm)+"px";display.sizer.style.marginBottom=-display.nativeBarWidth+"px";display.sizer.style.borderRightWidth=scrollGap(cm)+"px";display.scrollbarsClipped=true}}function updateDisplayIfNeeded(cm,update){var display=cm.display,doc=cm.doc;if(update.editorIsHidden){resetView(cm);return false}if(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&countDirtyView(cm)==0){return false}if(maybeUpdateLineNumberWidth(cm)){resetView(cm);update.dims=getDimensions(cm)}var end=doc.first+doc.size;var from=Math.max(update.visible.from-cm.options.viewportMargin,doc.first);var to=Math.min(end,update.visible.to+cm.options.viewportMargin);if(display.viewFrom<from&&from-display.viewFrom<20){from=Math.max(doc.first,display.viewFrom)}if(display.viewTo>to&&display.viewTo-to<20){to=Math.min(end,display.viewTo)}if(sawCollapsedSpans){from=visualLineNo(cm.doc,from);to=visualLineEndNo(cm.doc,to)}var different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;adjustView(cm,from,to);display.viewOffset=heightAtLine(getLine(cm.doc,display.viewFrom));cm.display.mover.style.top=display.viewOffset+"px";var toUpdate=countDirtyView(cm);if(!different&&toUpdate==0&&!update.force&&display.renderedView==display.view&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo)){return false}var focused=activeElt();if(toUpdate>4){display.lineDiv.style.display="none"}patchDisplay(cm,display.updateLineNumbers,update.dims);if(toUpdate>4){display.lineDiv.style.display=""}display.renderedView=display.view;if(focused&&activeElt()!=focused&&focused.offsetHeight){focused.focus()}removeChildren(display.cursorDiv);removeChildren(display.selectionDiv);display.gutters.style.height=display.sizer.style.minHeight=0;if(different){display.lastWrapHeight=update.wrapperHeight;display.lastWrapWidth=update.wrapperWidth;startWorker(cm,400)}display.updateLineNumbers=null;return true}function postUpdateDisplay(cm,update){var viewport=update.viewport;for(var first=true;;first=false){if(!first||!cm.options.lineWrapping||update.oldDisplayWidth==displayWidth(cm)){if(viewport&&viewport.top!=null){viewport={top:Math.min(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)}}update.visible=visibleLines(cm.display,cm.doc,viewport);if(update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo){break}}if(!updateDisplayIfNeeded(cm,update)){break}updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure)}update.signal(cm,"update",cm);if(cm.display.viewFrom!=cm.display.reportedViewFrom||cm.display.viewTo!=cm.display.reportedViewTo){update.signal(cm,"viewportChange",cm,cm.display.viewFrom,cm.display.viewTo);cm.display.reportedViewFrom=cm.display.viewFrom;cm.display.reportedViewTo=cm.display.viewTo}}function updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm);postUpdateDisplay(cm,update);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);update.finish()}}function patchDisplay(cm,updateNumbersFrom,dims){var display=cm.display,lineNumbers=cm.options.lineNumbers;var container=display.lineDiv,cur=container.firstChild;function rm(node){var next=node.nextSibling;if(webkit&&mac&&cm.display.currentWheelTarget==node){node.style.display="none"}else{node.parentNode.removeChild(node)}return next}var view=display.view,lineN=display.viewFrom;for(var i=0;i<view.length;i++){var lineView=view[i];if(lineView.hidden){}else if(!lineView.node||lineView.node.parentNode!=container){var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur)}else{while(cur!=lineView.node){cur=rm(cur)}var updateNumber=lineNumbers&&updateNumbersFrom!=null&&updateNumbersFrom<=lineN&&lineView.lineNumber;if(lineView.changes){if(indexOf(lineView.changes,"gutter")>-1){updateNumber=false}updateLineForChanges(cm,lineView,lineN,dims)}if(updateNumber){removeChildren(lineView.lineNumber);lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)))}cur=lineView.node.nextSibling}lineN+=lineView.size}while(cur){cur=rm(cur)}}function updateGutterSpace(cm){var width=cm.display.gutters.offsetWidth;cm.display.sizer.style.marginLeft=width+"px"}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+"px";cm.display.heightForcer.style.top=measure.docHeight+"px";cm.display.gutters.style.height=measure.docHeight+cm.display.barHeight+scrollGap(cm)+"px"}function updateGutters(cm){var gutters=cm.display.gutters,specs=cm.options.gutters;removeChildren(gutters);var i=0;for(;i<specs.length;++i){var gutterClass=specs[i];var gElt=gutters.appendChild(elt("div",null,"CodeMirror-gutter "+gutterClass));if(gutterClass=="CodeMirror-linenumbers"){cm.display.lineGutter=gElt;gElt.style.width=(cm.display.lineNumWidth||1)+"px"}}gutters.style.display=i?"":"none";updateGutterSpace(cm)}function setGuttersForLineNumbers(options){var found=indexOf(options.gutters,"CodeMirror-linenumbers");if(found==-1&&options.lineNumbers){options.gutters=options.gutters.concat(["CodeMirror-linenumbers"])}else if(found>-1&&!options.lineNumbers){options.gutters=options.gutters.slice(0);options.gutters.splice(found,1)}}function Selection(ranges,primIndex){this.ranges=ranges;this.primIndex=primIndex}Selection.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(other){var this$1=this;if(other==this){return true}if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length){return false}for(var i=0;i<this.ranges.length;i++){var here=this$1.ranges[i],there=other.ranges[i];if(cmp(here.anchor,there.anchor)!=0||cmp(here.head,there.head)!=0){return false}}return true},deepCopy:function(){var this$1=this;var out=[];for(var i=0;i<this.ranges.length;i++){out[i]=new Range(copyPos(this$1.ranges[i].anchor),copyPos(this$1.ranges[i].head))}return new Selection(out,this.primIndex)},somethingSelected:function(){var this$1=this;for(var i=0;i<this.ranges.length;i++){if(!this$1.ranges[i].empty()){return true}}return false},contains:function(pos,end){var this$1=this;if(!end){end=pos}for(var i=0;i<this.ranges.length;i++){var range=this$1.ranges[i];if(cmp(end,range.from())>=0&&cmp(pos,range.to())<=0){return i}}return-1}};function Range(anchor,head){this.anchor=anchor;this.head=head}Range.prototype={from:function(){return minPos(this.anchor,this.head)},to:function(){return maxPos(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};function normalizeSelection(ranges,primIndex){var prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from())});primIndex=indexOf(ranges,prim);for(var i=1;i<ranges.length;i++){var cur=ranges[i],prev=ranges[i-1];if(cmp(prev.to(),cur.from())>=0){var from=minPos(prev.from(),cur.from()),to=maxPos(prev.to(),cur.to());var inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;if(i<=primIndex){--primIndex}ranges.splice(--i,2,new Range(inv?to:from,inv?from:to))}}return new Selection(ranges,primIndex)}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0)}function changeEnd(change){if(!change.text){return change.to}return Pos(change.from.line+change.text.length-1,lst(change.text).length+(change.text.length==1?change.from.ch:0))}function adjustForChange(pos,change){if(cmp(pos,change.from)<0){return pos}if(cmp(pos,change.to)<=0){return changeEnd(change)}var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;if(pos.line==change.to.line){ch+=changeEnd(change).ch-change.to.ch}return Pos(line,ch)}function computeSelAfterChange(doc,change){var out=[];for(var i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)))}return normalizeSelection(out,doc.sel.primIndex)}function offsetPos(pos,old,nw){if(pos.line==old.line){return Pos(nw.line,pos.ch-old.ch+nw.ch)}else{return Pos(nw.line+(pos.line-old.line),pos.ch)}}function computeReplacedSel(doc,changes,hint){var out=[];var oldPrev=Pos(doc.first,0),newPrev=oldPrev;for(var i=0;i<changes.length;i++){var change=changes[i];var from=offsetPos(change.from,oldPrev,newPrev);var to=offsetPos(changeEnd(change),oldPrev,newPrev);oldPrev=change.to;newPrev=to;if(hint=="around"){var range=doc.sel.ranges[i],inv=cmp(range.head,range.anchor)<0;out[i]=new Range(inv?to:from,inv?from:to)}else{out[i]=new Range(from,from)}}return new Selection(out,doc.sel.primIndex)}function loadMode(cm){cm.doc.mode=getMode(cm.options,cm.doc.modeOption);resetModeState(cm)}function resetModeState(cm){cm.doc.iter(function(line){if(line.stateAfter){line.stateAfter=null}if(line.styles){line.styles=null}});cm.doc.frontier=cm.doc.first;startWorker(cm,100);cm.state.modeGen++;if(cm.curOp){regChange(cm)}}function isWholeLineUpdate(doc,change){return change.from.ch==0&&change.to.ch==0&&lst(change.text)==""&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore)}function updateDoc(doc,change,markedSpans,estimateHeight){function spansFor(n){return markedSpans?markedSpans[n]:null}function update(line,text,spans){updateLine(line,text,spans,estimateHeight);signalLater(line,"change",line,change)}function linesFor(start,end){var result=[];for(var i=start;i<end;++i){result.push(new Line(text[i],spansFor(i),estimateHeight))}return result}var from=change.from,to=change.to,text=change.text;var firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line);var lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line;if(change.full){doc.insert(0,linesFor(0,text.length));doc.remove(text.length,doc.size-text.length)}else if(isWholeLineUpdate(doc,change)){var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans);if(nlines){doc.remove(from.line,nlines)}if(added.length){doc.insert(from.line,added)}}else if(firstLine==lastLine){if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans)}else{var added$1=linesFor(1,text.length-1);added$1.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight));update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));doc.insert(from.line+1,added$1)}}else if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0));doc.remove(from.line+1,nlines)}else{update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);var added$2=linesFor(1,text.length-1);if(nlines>1){doc.remove(from.line+1,nlines-1)}doc.insert(from.line+1,added$2)}signalLater(doc,"change",doc,change)}function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked){for(var i=0;i<doc.linked.length;++i){var rel=doc.linked[i];if(rel.doc==skip){continue}var shared=sharedHist&&rel.sharedHist;if(sharedHistOnly&&!shared){continue}f(rel.doc,shared);propagate(rel.doc,doc,shared)}}}propagate(doc,null,true)}function attachDoc(cm,doc){if(doc.cm){throw new Error("This document is already in use.")}cm.doc=doc;doc.cm=cm;estimateLineHeights(cm);loadMode(cm);if(!cm.options.lineWrapping){findMaxLine(cm)}cm.options.mode=doc.modeOption;regChange(cm)}function History(startGen){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=startGen||1}function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);linkedDocs(doc,function(doc){return attachLocalSpans(doc,histChange,change.from.line,change.to.line+1)},true);return histChange}function clearSelectionEvents(array){while(array.length){var last=lst(array);if(last.ranges){array.pop()}else{break}}}function lastChangeEvent(hist,force){if(force){clearSelectionEvents(hist.done);return lst(hist.done)}else if(hist.done.length&&!lst(hist.done).ranges){return lst(hist.done)}else if(hist.done.length>1&&!hist.done[hist.done.length-2].ranges){hist.done.pop();return lst(hist.done)}}function addChangeToHistory(doc,change,selAfter,opId){var hist=doc.history;hist.undone.length=0;var time=+new Date,cur;var last;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&(change.origin.charAt(0)=="+"&&doc.cm&&hist.lastModTime>time-doc.cm.options.historyEventDelay||change.origin.charAt(0)=="*"))&&(cur=lastChangeEvent(hist,hist.lastOp==opId))){last=lst(cur.changes);if(cmp(change.from,change.to)==0&&cmp(change.from,last.to)==0){last.to=changeEnd(change)}else{cur.changes.push(historyChangeFromChange(doc,change))}}else{var before=lst(hist.done);if(!before||!before.ranges){pushSelectionToHistory(doc.sel,hist.done)}cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation};hist.done.push(cur);while(hist.done.length>hist.undoDepth){hist.done.shift();if(!hist.done[0].ranges){hist.done.shift()}}}hist.done.push(selAfter);hist.generation=++hist.maxGeneration;hist.lastModTime=hist.lastSelTime=time;hist.lastOp=hist.lastSelOp=opId;hist.lastOrigin=hist.lastSelOrigin=change.origin;if(!last){signal(doc,"historyAdded")}}function selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return ch=="*"||ch=="+"&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500)}function addSelectionToHistory(doc,sel,opId,options){var hist=doc.history,origin=options&&options.origin;if(opId==hist.lastSelOp||origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel))){hist.done[hist.done.length-1]=sel}else{pushSelectionToHistory(sel,hist.done)}hist.lastSelTime=+new Date;hist.lastSelOrigin=origin;hist.lastSelOp=opId;if(options&&options.clearRedo!==false){clearSelectionEvents(hist.undone)}}function pushSelectionToHistory(sel,dest){var top=lst(dest);if(!(top&&top.ranges&&top.equals(sel))){dest.push(sel)}}function attachLocalSpans(doc,change,from,to){var existing=change["spans_"+doc.id],n=0;doc.iter(Math.max(doc.first,from),Math.min(doc.first+doc.size,to),function(line){if(line.markedSpans){(existing||(existing=change["spans_"+doc.id]={}))[n]=line.markedSpans}++n})}function removeClearedSpans(spans){if(!spans){return null}var out;for(var i=0;i<spans.length;++i){if(spans[i].marker.explicitlyCleared){if(!out){out=spans.slice(0,i)}}else if(out){out.push(spans[i])}}return!out?spans:out.length?out:null}function getOldSpans(doc,change){var found=change["spans_"+doc.id];if(!found){return null}var nw=[];for(var i=0;i<change.text.length;++i){nw.push(removeClearedSpans(found[i]))}return nw}function mergeOldSpans(doc,change){var old=getOldSpans(doc,change);var stretched=stretchSpansOverChange(doc,change);if(!old){return stretched}if(!stretched){return old}for(var i=0;i<old.length;++i){var oldCur=old[i],stretchCur=stretched[i];if(oldCur&&stretchCur){spans:for(var j=0;j<stretchCur.length;++j){var span=stretchCur[j];for(var k=0;k<oldCur.length;++k){if(oldCur[k].marker==span.marker){continue spans}}oldCur.push(span)}}else if(stretchCur){old[i]=stretchCur}}return old}function copyHistoryArray(events,newGroup,instantiateSel){var copy=[];for(var i=0;i<events.length;++i){var event=events[i];if(event.ranges){copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);continue}var changes=event.changes,newChanges=[];copy.push({changes:newChanges});for(var j=0;j<changes.length;++j){var change=changes[j],m=void 0;newChanges.push({from:change.from,to:change.to,text:change.text});if(newGroup){for(var prop in change){if(m=prop.match(/^spans_(\d+)$/)){if(indexOf(newGroup,Number(m[1]))>-1){lst(newChanges)[prop]=change[prop];delete change[prop]}}}}}}return copy}function extendRange(doc,range,head,other){if(doc.cm&&doc.cm.display.shift||doc.extend){var anchor=range.anchor;if(other){var posBefore=cmp(head,anchor)<0;if(posBefore!=cmp(other,anchor)<0){anchor=head;head=other}else if(posBefore!=cmp(head,other)<0){head=other}}return new Range(anchor,head)}else{return new Range(other||head,head)}}function extendSelection(doc,head,other,options){setSelection(doc,new Selection([extendRange(doc,doc.sel.primary(),head,other)],0),options)}function extendSelections(doc,heads,options){var out=[];for(var i=0;i<doc.sel.ranges.length;i++){out[i]=extendRange(doc,doc.sel.ranges[i],heads[i],null)}var newSel=normalizeSelection(out,doc.sel.primIndex);setSelection(doc,newSel,options)}function replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range;setSelection(doc,normalizeSelection(ranges,doc.sel.primIndex),options)}function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options)}function filterSelectionChange(doc,sel,options){var obj={ranges:sel.ranges,update:function(ranges){var this$1=this;this.ranges=[];for(var i=0;i<ranges.length;i++){this$1.ranges[i]=new Range(clipPos(doc,ranges[i].anchor),clipPos(doc,ranges[i].head))}},origin:options&&options.origin};signal(doc,"beforeSelectionChange",doc,obj);if(doc.cm){signal(doc.cm,"beforeSelectionChange",doc.cm,obj)}if(obj.ranges!=sel.ranges){return normalizeSelection(obj.ranges,obj.ranges.length-1)}else{return sel}}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done,last=lst(done);if(last&&last.ranges){done[done.length-1]=sel;setSelectionNoUndo(doc,sel,options)}else{setSelection(doc,sel,options)}}function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options);addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options);
}function setSelectionNoUndo(doc,sel,options){if(hasHandler(doc,"beforeSelectionChange")||doc.cm&&hasHandler(doc.cm,"beforeSelectionChange")){sel=filterSelectionChange(doc,sel,options)}var bias=options&&options.bias||(cmp(sel.primary().head,doc.sel.primary().head)<0?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,true));if(!(options&&options.scroll===false)&&doc.cm){ensureCursorVisible(doc.cm)}}function setSelectionInner(doc,sel){if(sel.equals(doc.sel)){return}doc.sel=sel;if(doc.cm){doc.cm.curOp.updateInput=doc.cm.curOp.selectionChanged=true;signalCursorActivity(doc.cm)}signalLater(doc,"cursorActivity",doc)}function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,false),sel_dontScroll)}function skipAtomicInSelection(doc,sel,bias,mayClear){var out;for(var i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];var old=sel.ranges.length==doc.sel.ranges.length&&doc.sel.ranges[i];var newAnchor=skipAtomic(doc,range.anchor,old&&old.anchor,bias,mayClear);var newHead=skipAtomic(doc,range.head,old&&old.head,bias,mayClear);if(out||newAnchor!=range.anchor||newHead!=range.head){if(!out){out=sel.ranges.slice(0,i)}out[i]=new Range(newAnchor,newHead)}}return out?normalizeSelection(out,sel.primIndex):sel}function skipAtomicInner(doc,pos,oldPos,dir,mayClear){var line=getLine(doc,pos.line);if(line.markedSpans){for(var i=0;i<line.markedSpans.length;++i){var sp=line.markedSpans[i],m=sp.marker;if((sp.from==null||(m.inclusiveLeft?sp.from<=pos.ch:sp.from<pos.ch))&&(sp.to==null||(m.inclusiveRight?sp.to>=pos.ch:sp.to>pos.ch))){if(mayClear){signal(m,"beforeCursorEnter");if(m.explicitlyCleared){if(!line.markedSpans){break}else{--i;continue}}}if(!m.atomic){continue}if(oldPos){var near=m.find(dir<0?1:-1),diff=void 0;if(dir<0?m.inclusiveRight:m.inclusiveLeft){near=movePos(doc,near,-dir,near&&near.line==pos.line?line:null)}if(near&&near.line==pos.line&&(diff=cmp(near,oldPos))&&(dir<0?diff<0:diff>0)){return skipAtomicInner(doc,near,pos,dir,mayClear)}}var far=m.find(dir<0?-1:1);if(dir<0?m.inclusiveLeft:m.inclusiveRight){far=movePos(doc,far,dir,far.line==pos.line?line:null)}return far?skipAtomicInner(doc,far,pos,dir,mayClear):null}}}return pos}function skipAtomic(doc,pos,oldPos,bias,mayClear){var dir=bias||1;var found=skipAtomicInner(doc,pos,oldPos,dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,dir,true)||skipAtomicInner(doc,pos,oldPos,-dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,-dir,true);if(!found){doc.cantEdit=true;return Pos(doc.first,0)}return found}function movePos(doc,pos,dir,line){if(dir<0&&pos.ch==0){if(pos.line>doc.first){return clipPos(doc,Pos(pos.line-1))}else{return null}}else if(dir>0&&pos.ch==(line||getLine(doc,pos.line)).text.length){if(pos.line<doc.first+doc.size-1){return Pos(pos.line+1,0)}else{return null}}else{return new Pos(pos.line,pos.ch+dir)}}function selectAll(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll)}function filterChange(doc,change,update){var obj={canceled:false,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function(){return obj.canceled=true}};if(update){obj.update=function(from,to,text,origin){if(from){obj.from=clipPos(doc,from)}if(to){obj.to=clipPos(doc,to)}if(text){obj.text=text}if(origin!==undefined){obj.origin=origin}}}signal(doc,"beforeChange",doc,obj);if(doc.cm){signal(doc.cm,"beforeChange",doc.cm,obj)}if(obj.canceled){return null}return{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin}}function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp){return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly)}if(doc.cm.state.suppressEdits){return}}if(hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange")){change=filterChange(doc,change,true);if(!change){return}}var split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);if(split){for(var i=split.length-1;i>=0;--i){makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[""]:change.text})}}else{makeChangeInner(doc,change)}}function makeChangeInner(doc,change){if(change.text.length==1&&change.text[0]==""&&cmp(change.from,change.to)==0){return}var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN);makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change))})}function makeChangeFromHistory(doc,type,allowSelectionOnly){if(doc.cm&&doc.cm.state.suppressEdits&&!allowSelectionOnly){return}var hist=doc.history,event,selAfter=doc.sel;var source=type=="undo"?hist.done:hist.undone,dest=type=="undo"?hist.undone:hist.done;var i=0;for(;i<source.length;i++){event=source[i];if(allowSelectionOnly?event.ranges&&!event.equals(doc.sel):!event.ranges){break}}if(i==source.length){return}hist.lastOrigin=hist.lastSelOrigin=null;for(;;){event=source.pop();if(event.ranges){pushSelectionToHistory(event,dest);if(allowSelectionOnly&&!event.equals(doc.sel)){setSelection(doc,event,{clearRedo:false});return}selAfter=event}else{break}}var antiChanges=[];pushSelectionToHistory(selAfter,dest);dest.push({changes:antiChanges,generation:hist.generation});hist.generation=event.generation||++hist.maxGeneration;var filter=hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange");var loop=function(i){var change=event.changes[i];change.origin=type;if(filter&&!filterChange(doc,change,false)){source.length=0;return{}}antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change));if(!i&&doc.cm){doc.cm.scrollIntoView({from:change.from,to:changeEnd(change)})}var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change))})};for(var i$1=event.changes.length-1;i$1>=0;--i$1){var returned=loop(i$1);if(returned)return returned.v}}function shiftDoc(doc,distance){if(distance==0){return}doc.first+=distance;doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch))}),doc.sel.primIndex);if(doc.cm){regChange(doc.cm,doc.first,doc.first-distance,distance);for(var d=doc.cm.display,l=d.viewFrom;l<d.viewTo;l++){regLineChange(doc.cm,l,"gutter")}}}function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp){return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans)}if(change.to.line<doc.first){shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));return}if(change.from.line>doc.lastLine()){return}if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift);change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin}}var last=doc.lastLine();if(change.to.line>last){change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin}}change.removed=getBetween(doc,change.from,change.to);if(!selAfter){selAfter=computeSelAfterChange(doc,change)}if(doc.cm){makeChangeSingleDocInEditor(doc.cm,change,spans)}else{updateDoc(doc,change,spans)}setSelectionNoUndo(doc,selAfter,sel_dontScroll)}function makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc,display=cm.display,from=change.from,to=change.to;var recomputeMaxLength=false,checkWidthStart=from.line;if(!cm.options.lineWrapping){checkWidthStart=lineNo(visualLine(getLine(doc,from.line)));doc.iter(checkWidthStart,to.line+1,function(line){if(line==display.maxLine){recomputeMaxLength=true;return true}})}if(doc.sel.contains(change.from,change.to)>-1){signalCursorActivity(cm)}updateDoc(doc,change,spans,estimateHeight(cm));if(!cm.options.lineWrapping){doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);if(len>display.maxLineLength){display.maxLine=line;display.maxLineLength=len;display.maxLineChanged=true;recomputeMaxLength=false}});if(recomputeMaxLength){cm.curOp.updateMaxLine=true}}doc.frontier=Math.min(doc.frontier,from.line);startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;if(change.full){regChange(cm)}else if(from.line==to.line&&change.text.length==1&&!isWholeLineUpdate(cm.doc,change)){regLineChange(cm,from.line,"text")}else{regChange(cm,from.line,to.line+1,lendiff)}var changesHandler=hasHandler(cm,"changes"),changeHandler=hasHandler(cm,"change");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,removed:change.removed,origin:change.origin};if(changeHandler){signalLater(cm,"change",cm,obj)}if(changesHandler){(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj)}}cm.display.selForContextMenu=null}function replaceRange(doc,code,from,to,origin){if(!to){to=from}if(cmp(to,from)<0){var tmp=to;to=from;from=tmp}if(typeof code=="string"){code=doc.splitLines(code)}makeChange(doc,{from:from,to:to,text:code,origin:origin})}function rebaseHistSelSingle(pos,from,to,diff){if(to<pos.line){pos.line+=diff}else if(from<pos.line){pos.line=from;pos.ch=0}}function rebaseHistArray(array,from,to,diff){for(var i=0;i<array.length;++i){var sub=array[i],ok=true;if(sub.ranges){if(!sub.copied){sub=array[i]=sub.deepCopy();sub.copied=true}for(var j=0;j<sub.ranges.length;j++){rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff);rebaseHistSelSingle(sub.ranges[j].head,from,to,diff)}continue}for(var j$1=0;j$1<sub.changes.length;++j$1){var cur=sub.changes[j$1];if(to<cur.from.line){cur.from=Pos(cur.from.line+diff,cur.from.ch);cur.to=Pos(cur.to.line+diff,cur.to.ch)}else if(from<=cur.to.line){ok=false;break}}if(!ok){array.splice(0,i+1);i=0}}}function rebaseHist(hist,change){var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff);rebaseHistArray(hist.undone,from,to,diff)}function changeLine(doc,handle,changeType,op){var no=handle,line=handle;if(typeof handle=="number"){line=getLine(doc,clipLine(doc,handle))}else{no=lineNo(handle)}if(no==null){return null}if(op(line,no)&&doc.cm){regLineChange(doc.cm,no,changeType)}return line}function LeafChunk(lines){var this$1=this;this.lines=lines;this.parent=null;var height=0;for(var i=0;i<lines.length;++i){lines[i].parent=this$1;height+=lines[i].height}this.height=height}LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(at,n){var this$1=this;for(var i=at,e=at+n;i<e;++i){var line=this$1.lines[i];this$1.height-=line.height;cleanUpLine(line);signalLater(line,"delete")}this.lines.splice(at,n)},collapse:function(lines){lines.push.apply(lines,this.lines)},insertInner:function(at,lines,height){var this$1=this;this.height+=height;this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));for(var i=0;i<lines.length;++i){lines[i].parent=this$1}},iterN:function(at,n,op){var this$1=this;for(var e=at+n;at<e;++at){if(op(this$1.lines[at])){return true}}}};function BranchChunk(children){var this$1=this;this.children=children;var size=0,height=0;for(var i=0;i<children.length;++i){var ch=children[i];size+=ch.chunkSize();height+=ch.height;ch.parent=this$1}this.size=size;this.height=height;this.parent=null}BranchChunk.prototype={chunkSize:function(){return this.size},removeInner:function(at,n){var this$1=this;this.size-=n;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<sz){var rm=Math.min(n,sz-at),oldHeight=child.height;child.removeInner(at,rm);this$1.height-=oldHeight-child.height;if(sz==rm){this$1.children.splice(i--,1);child.parent=null}if((n-=rm)==0){break}at=0}else{at-=sz}}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof LeafChunk))){var lines=[];this.collapse(lines);this.children=[new LeafChunk(lines)];this.children[0].parent=this}},collapse:function(lines){var this$1=this;for(var i=0;i<this.children.length;++i){this$1.children[i].collapse(lines)}},insertInner:function(at,lines,height){var this$1=this;this.size+=lines.length;this.height+=height;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<=sz){child.insertInner(at,lines,height);if(child.lines&&child.lines.length>50){var remaining=child.lines.length%25+25;for(var pos=remaining;pos<child.lines.length;){var leaf=new LeafChunk(child.lines.slice(pos,pos+=25));child.height-=leaf.height;this$1.children.splice(++i,0,leaf);leaf.parent=this$1}child.lines=child.lines.slice(0,remaining);this$1.maybeSpill()}break}at-=sz}},maybeSpill:function(){if(this.children.length<=10){return}var me=this;do{var spilled=me.children.splice(me.children.length-5,5);var sibling=new BranchChunk(spilled);if(!me.parent){var copy=new BranchChunk(me.children);copy.parent=me;me.children=[copy,sibling];me=copy}else{me.size-=sibling.size;me.height-=sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling)}sibling.parent=me.parent}while(me.children.length>10);me.parent.maybeSpill()},iterN:function(at,n,op){var this$1=this;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<sz){var used=Math.min(n,sz-at);if(child.iterN(at,used,op)){return true}if((n-=used)==0){break}at=0}else{at-=sz}}}};function LineWidget(doc,node,options){var this$1=this;if(options){for(var opt in options){if(options.hasOwnProperty(opt)){this$1[opt]=options[opt]}}}this.doc=doc;this.node=node}eventMixin(LineWidget);function adjustScrollWhenAboveVisible(cm,line,diff){if(heightAtLine(line)<(cm.curOp&&cm.curOp.scrollTop||cm.doc.scrollTop)){addToScrollPos(cm,null,diff)}}LineWidget.prototype.clear=function(){var this$1=this;var cm=this.doc.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);if(no==null||!ws){return}for(var i=0;i<ws.length;++i){if(ws[i]==this$1){ws.splice(i--,1)}}if(!ws.length){line.widgets=null}var height=widgetHeight(this);updateLineHeight(line,Math.max(0,line.height-height));if(cm){runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height);regLineChange(cm,no,"widget")})}};LineWidget.prototype.changed=function(){var oldH=this.height,cm=this.doc.cm,line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;if(!diff){return}updateLineHeight(line,line.height+diff);if(cm){runInOp(cm,function(){cm.curOp.forceUpdate=true;adjustScrollWhenAboveVisible(cm,line,diff)})}};function addLineWidget(doc,handle,node,options){var widget=new LineWidget(doc,node,options);var cm=doc.cm;if(cm&&widget.noHScroll){cm.display.alignWidgets=true}changeLine(doc,handle,"widget",function(line){var widgets=line.widgets||(line.widgets=[]);if(widget.insertAt==null){widgets.push(widget)}else{widgets.splice(Math.min(widgets.length-1,Math.max(0,widget.insertAt)),0,widget)}widget.line=line;if(cm&&!lineIsHidden(doc,line)){var aboveVisible=heightAtLine(line)<doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget));if(aboveVisible){addToScrollPos(cm,null,widget.height)}cm.curOp.forceUpdate=true}return true});return widget}var nextMarkerId=0;function TextMarker(doc,type){this.lines=[];this.type=type;this.doc=doc;this.id=++nextMarkerId}eventMixin(TextMarker);TextMarker.prototype.clear=function(){var this$1=this;if(this.explicitlyCleared){return}var cm=this.doc.cm,withOp=cm&&!cm.curOp;if(withOp){startOperation(cm)}if(hasHandler(this,"clear")){var found=this.find();if(found){signalLater(this,"clear",found.from,found.to)}}var min=null,max=null;for(var i=0;i<this.lines.length;++i){var line=this$1.lines[i];var span=getMarkedSpanFor(line.markedSpans,this$1);if(cm&&!this$1.collapsed){regLineChange(cm,lineNo(line),"text")}else if(cm){if(span.to!=null){max=lineNo(line)}if(span.from!=null){min=lineNo(line)}}line.markedSpans=removeMarkedSpan(line.markedSpans,span);if(span.from==null&&this$1.collapsed&&!lineIsHidden(this$1.doc,line)&&cm){updateLineHeight(line,textHeight(cm.display))}}if(cm&&this.collapsed&&!cm.options.lineWrapping){for(var i$1=0;i$1<this.lines.length;++i$1){var visual=visualLine(this$1.lines[i$1]),len=lineLength(visual);if(len>cm.display.maxLineLength){cm.display.maxLine=visual;cm.display.maxLineLength=len;cm.display.maxLineChanged=true}}}if(min!=null&&cm&&this.collapsed){regChange(cm,min,max+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(cm){reCheckSelection(cm.doc)}}if(cm){signalLater(cm,"markerCleared",cm,this)}if(withOp){endOperation(cm)}if(this.parent){this.parent.clear()}};TextMarker.prototype.find=function(side,lineObj){var this$1=this;if(side==null&&this.type=="bookmark"){side=1}var from,to;for(var i=0;i<this.lines.length;++i){var line=this$1.lines[i];var span=getMarkedSpanFor(line.markedSpans,this$1);if(span.from!=null){from=Pos(lineObj?line:lineNo(line),span.from);if(side==-1){return from}}if(span.to!=null){to=Pos(lineObj?line:lineNo(line),span.to);if(side==1){return to}}}return from&&{from:from,to:to}};TextMarker.prototype.changed=function(){var pos=this.find(-1,true),widget=this,cm=this.doc.cm;if(!pos||!cm){return}runInOp(cm,function(){var line=pos.line,lineN=lineNo(pos.line);var view=findViewForLine(cm,lineN);if(view){clearLineMeasurementCacheFor(view);cm.curOp.selectionChanged=cm.curOp.forceUpdate=true}cm.curOp.updateMaxLine=true;if(!lineIsHidden(widget.doc,line)&&widget.height!=null){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;if(dHeight){updateLineHeight(line,line.height+dHeight)}}})};TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;if(!op.maybeHiddenMarkers||indexOf(op.maybeHiddenMarkers,this)==-1){(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(line)};TextMarker.prototype.detachLine=function(line){this.lines.splice(indexOf(this.lines,line),1);if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this)}};function markText(doc,from,to,options,type){if(options&&options.shared){return markTextShared(doc,from,to,options,type)}if(doc.cm&&!doc.cm.curOp){return operation(doc.cm,markText)(doc,from,to,options,type)}var marker=new TextMarker(doc,type),diff=cmp(from,to);if(options){copyObj(options,marker,false)}if(diff>0||diff==0&&marker.clearWhenEmpty!==false){return marker}if(marker.replacedWith){marker.collapsed=true;marker.widgetNode=elt("span",[marker.replacedWith],"CodeMirror-widget");if(!options.handleMouseEvents){marker.widgetNode.setAttribute("cm-ignore-events","true")}if(options.insertLeft){marker.widgetNode.insertLeft=true}}if(marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker)){throw new Error("Inserting collapsed marker partially overlapping an existing one")}seeCollapsedSpans()}if(marker.addToHistory){addChangeToHistory(doc,{from:from,to:to,origin:"markText"},doc.sel,NaN)}var curLine=from.line,cm=doc.cm,updateMaxLine;doc.iter(curLine,to.line+1,function(line){if(cm&&marker.collapsed&&!cm.options.lineWrapping&&visualLine(line)==cm.display.maxLine){updateMaxLine=true}if(marker.collapsed&&curLine!=from.line){updateLineHeight(line,0)}addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null));++curLine});if(marker.collapsed){doc.iter(from.line,to.line+1,function(line){if(lineIsHidden(doc,line)){updateLineHeight(line,0)}})}if(marker.clearOnEnter){on(marker,"beforeCursorEnter",function(){return marker.clear()})}if(marker.readOnly){seeReadOnlySpans();if(doc.history.done.length||doc.history.undone.length){doc.clearHistory()}}if(marker.collapsed){marker.id=++nextMarkerId;marker.atomic=true}if(cm){if(updateMaxLine){cm.curOp.updateMaxLine=true}if(marker.collapsed){regChange(cm,from.line,to.line+1)}else if(marker.className||marker.title||marker.startStyle||marker.endStyle||marker.css){for(var i=from.line;i<=to.line;i++){regLineChange(cm,i,"text")}}if(marker.atomic){reCheckSelection(cm.doc)}signalLater(cm,"markerAdded",cm,marker)}return marker}function SharedTextMarker(markers,primary){var this$1=this;this.markers=markers;this.primary=primary;for(var i=0;i<markers.length;++i){markers[i].parent=this$1}}eventMixin(SharedTextMarker);SharedTextMarker.prototype.clear=function(){var this$1=this;if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var i=0;i<this.markers.length;++i){this$1.markers[i].clear()}signalLater(this,"clear")};SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj)};function markTextShared(doc,from,to,options,type){options=copyObj(options);options.shared=false;var markers=[markText(doc,from,to,options,type)],primary=markers[0];var widget=options.widgetNode;linkedDocs(doc,function(doc){if(widget){options.widgetNode=widget.cloneNode(true)}markers.push(markText(doc,clipPos(doc,from),clipPos(doc,to),options,type));for(var i=0;i<doc.linked.length;++i){if(doc.linked[i].isParent){return}}primary=lst(markers)});return new SharedTextMarker(markers,primary)}function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent})}function copySharedMarkers(doc,markers){for(var i=0;i<markers.length;i++){var marker=markers[i],pos=marker.find();var mFrom=doc.clipPos(pos.from),mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=markText(doc,mFrom,mTo,marker.primary,marker.primary.type);marker.markers.push(subMark);subMark.parent=marker}}}function detachSharedMarkers(markers){var loop=function(i){var marker=markers[i],linked=[marker.primary.doc];linkedDocs(marker.primary.doc,function(d){return linked.push(d)});for(var j=0;j<marker.markers.length;j++){var subMarker=marker.markers[j];if(indexOf(linked,subMarker.doc)==-1){subMarker.parent=null;marker.markers.splice(j--,1)}}};for(var i=0;i<markers.length;i++)loop(i)}var nextDocId=0;var Doc=function(text,mode,firstLine,lineSep){if(!(this instanceof Doc)){return new Doc(text,mode,firstLine,lineSep)}if(firstLine==null){firstLine=0}BranchChunk.call(this,[new LeafChunk([new Line("",null)])]);this.first=firstLine;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.frontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start);this.history=new History(null);this.id=++nextDocId;this.modeOption=mode;this.lineSep=lineSep;this.extend=false;if(typeof text=="string"){text=this.splitLines(text)}updateDoc(this,{from:start,to:start,text:text});setSelection(this,simpleSelection(start),sel_dontScroll)};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,iter:function(from,to,op){if(op){this.iterN(from-this.first,to-from,op)}else{this.iterN(this.first,this.first+this.size,from)}},insert:function(at,lines){var height=0;for(var i=0;i<lines.length;++i){height+=lines[i].height}this.insertInner(at-this.first,lines,height)},remove:function(at,n){this.removeInner(at-this.first,n)},getValue:function(lineSep){var lines=getLines(this,this.first,this.first+this.size);if(lineSep===false){return lines}return lines.join(lineSep||this.lineSeparator())},setValue:docMethodOp(function(code){var top=Pos(this.first,0),last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:this.splitLines(code),origin:"setValue",full:true},true);setSelection(this,simpleSelection(top))}),replaceRange:function(code,from,to,origin){from=clipPos(this,from);to=to?clipPos(this,to):from;replaceRange(this,code,from,to,origin)},getRange:function(from,to,lineSep){var lines=getBetween(this,clipPos(this,from),clipPos(this,to));if(lineSep===false){return lines}return lines.join(lineSep||this.lineSeparator())},getLine:function(line){var l=this.getLineHandle(line);return l&&l.text},getLineHandle:function(line){if(isLine(this,line)){return getLine(this,line)}},getLineNumber:function(line){return lineNo(line)},getLineHandleVisualStart:function(line){if(typeof line=="number"){line=getLine(this,line)}return visualLine(line)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(pos){return clipPos(this,pos)},getCursor:function(start){var range=this.sel.primary(),pos;if(start==null||start=="head"){pos=range.head}else if(start=="anchor"){pos=range.anchor}else if(start=="end"||start=="to"||start===false){pos=range.to()}else{pos=range.from()}return pos},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,clipPos(this,typeof line=="number"?Pos(line,ch||0):line),null,options)}),setSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,clipPos(this,anchor),clipPos(this,head||anchor),options)}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,clipPos(this,head),other&&clipPos(this,other),options)}),extendSelections:docMethodOp(function(heads,options){extendSelections(this,clipPosArray(this,heads),options)}),extendSelectionsBy:docMethodOp(function(f,options){var heads=map(this.sel.ranges,f);extendSelections(this,clipPosArray(this,heads),options)}),setSelections:docMethodOp(function(ranges,primary,options){var this$1=this;if(!ranges.length){return}var out=[];for(var i=0;i<ranges.length;i++){out[i]=new Range(clipPos(this$1,ranges[i].anchor),clipPos(this$1,ranges[i].head))}if(primary==null){primary=Math.min(ranges.length-1,this.sel.primIndex)}setSelection(this,normalizeSelection(out,primary),options)}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(clipPos(this,anchor),clipPos(this,head||anchor)));setSelection(this,normalizeSelection(ranges,ranges.length-1),options)}),getSelection:function(lineSep){var this$1=this;var ranges=this.sel.ranges,lines;for(var i=0;i<ranges.length;i++){var sel=getBetween(this$1,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):sel}if(lineSep===false){return lines}else{return lines.join(lineSep||this.lineSeparator())}},getSelections:function(lineSep){var this$1=this;var parts=[],ranges=this.sel.ranges;for(var i=0;i<ranges.length;i++){var sel=getBetween(this$1,ranges[i].from(),ranges[i].to());if(lineSep!==false){sel=sel.join(lineSep||this$1.lineSeparator())}parts[i]=sel}return parts},replaceSelection:function(code,collapse,origin){var dup=[];for(var i=0;i<this.sel.ranges.length;i++){dup[i]=code}this.replaceSelections(dup,collapse,origin||"+input")},replaceSelections:docMethodOp(function(code,collapse,origin){var this$1=this;var changes=[],sel=this.sel;for(var i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];changes[i]={from:range.from(),to:range.to(),text:this$1.splitLines(code[i]),origin:origin}}var newSel=collapse&&collapse!="end"&&computeReplacedSel(this,changes,collapse);for(var i$1=changes.length-1;i$1>=0;i$1--){makeChange(this$1,changes[i$1])}if(newSel){setSelectionReplaceHistory(this,newSel)}else if(this.cm){ensureCursorVisible(this.cm)}}),undo:docMethodOp(function(){makeChangeFromHistory(this,"undo")}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo")}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",true)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",true)}),setExtending:function(val){this.extend=val},getExtending:function(){return this.extend},historySize:function(){var hist=this.history,done=0,undone=0;for(var i=0;i<hist.done.length;i++){if(!hist.done[i].ranges){++done}}for(var i$1=0;i$1<hist.undone.length;i$1++){if(!hist.undone[i$1].ranges){++undone}}return{undo:done,redo:undone}},clearHistory:function(){this.history=new History(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(true)},changeGeneration:function(forceSplit){if(forceSplit){this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null}return this.history.generation},isClean:function(gen){return this.history.generation==(gen||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(histData){var hist=this.history=new History(this.history.maxGeneration);hist.done=copyHistoryArray(histData.done.slice(0),null,true);hist.undone=copyHistoryArray(histData.undone.slice(0),null,true)},addLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where=="gutter"?"gutter":"class",function(line){var prop=where=="text"?"textClass":where=="background"?"bgClass":where=="gutter"?"gutterClass":"wrapClass";if(!line[prop]){line[prop]=cls}else if(classTest(cls).test(line[prop])){return false}else{line[prop]+=" "+cls}return true})}),removeLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where=="gutter"?"gutter":"class",function(line){var prop=where=="text"?"textClass":where=="background"?"bgClass":where=="gutter"?"gutterClass":"wrapClass";var cur=line[prop];if(!cur){return false}else if(cls==null){line[prop]=null}else{var found=cur.match(classTest(cls));if(!found){return false}var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(!found.index||end==cur.length?"":" ")+cur.slice(end)||null}return true})}),addLineWidget:docMethodOp(function(handle,node,options){return addLineWidget(this,handle,node,options)}),removeLineWidget:function(widget){widget.clear()},markText:function(from,to,options){return markText(this,clipPos(this,from),clipPos(this,to),options,options&&options.type||"range")},setBookmark:function(pos,options){var realOpts={replacedWith:options&&(options.nodeType==null?options.widget:options),insertLeft:options&&options.insertLeft,clearWhenEmpty:false,shared:options&&options.shared,handleMouseEvents:options&&options.handleMouseEvents};pos=clipPos(this,pos);return markText(this,pos,pos,realOpts,"bookmark")},findMarksAt:function(pos){pos=clipPos(this,pos);var markers=[],spans=getLine(this,pos.line).markedSpans;if(spans){for(var i=0;i<spans.length;++i){var span=spans[i];if((span.from==null||span.from<=pos.ch)&&(span.to==null||span.to>=pos.ch)){markers.push(span.marker.parent||span.marker)}}}return markers},findMarks:function(from,to,filter){from=clipPos(this,from);to=clipPos(this,to);var found=[],lineNo=from.line;this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans){for(var i=0;i<spans.length;i++){var span=spans[i];if(!(span.to!=null&&lineNo==from.line&&from.ch>=span.to||span.from==null&&lineNo!=from.line||span.from!=null&&lineNo==to.line&&span.from>=to.ch)&&(!filter||filter(span.marker))){found.push(span.marker.parent||span.marker)}}}++lineNo});return found},getAllMarks:function(){var markers=[];this.iter(function(line){var sps=line.markedSpans;if(sps){for(var i=0;i<sps.length;++i){if(sps[i].from!=null){markers.push(sps[i].marker)}}}});return markers},posFromIndex:function(off){var ch,lineNo=this.first,sepSize=this.lineSeparator().length;this.iter(function(line){var sz=line.text.length+sepSize;if(sz>off){ch=off;return true}off-=sz;++lineNo});return clipPos(this,Pos(lineNo,ch))},indexFromPos:function(coords){coords=clipPos(this,coords);var index=coords.ch;if(coords.line<this.first||coords.ch<0){return 0}var sepSize=this.lineSeparator().length;this.iter(this.first,coords.line,function(line){index+=line.text.length+sepSize});return index},copy:function(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);doc.scrollTop=this.scrollTop;doc.scrollLeft=this.scrollLeft;doc.sel=this.sel;doc.extend=false;if(copyHistory){doc.history.undoDepth=this.history.undoDepth;doc.setHistory(this.getHistory());
}return doc},linkedDoc:function(options){if(!options){options={}}var from=this.first,to=this.first+this.size;if(options.from!=null&&options.from>from){from=options.from}if(options.to!=null&&options.to<to){to=options.to}var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from,this.lineSep);if(options.sharedHist){copy.history=this.history}(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist});copy.linked=[{doc:this,isParent:true,sharedHist:options.sharedHist}];copySharedMarkers(copy,findSharedMarkers(this));return copy},unlinkDoc:function(other){var this$1=this;if(other instanceof CodeMirror){other=other.doc}if(this.linked){for(var i=0;i<this.linked.length;++i){var link=this$1.linked[i];if(link.doc!=other){continue}this$1.linked.splice(i,1);other.unlinkDoc(this$1);detachSharedMarkers(findSharedMarkers(this$1));break}}if(other.history==this.history){var splitIds=[other.id];linkedDocs(other,function(doc){return splitIds.push(doc.id)},true);other.history=new History(null);other.history.done=copyHistoryArray(this.history.done,splitIds);other.history.undone=copyHistoryArray(this.history.undone,splitIds)}},iterLinkedDocs:function(f){linkedDocs(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(str){if(this.lineSep){return str.split(this.lineSep)}return splitLinesAuto(str)},lineSeparator:function(){return this.lineSep||"\n"}});Doc.prototype.eachLine=Doc.prototype.iter;var lastDrop=0;function onDrop(e){var cm=this;clearDragCursor(cm);if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e)){return}e_preventDefault(e);if(ie){lastDrop=+new Date}var pos=posFromMouse(cm,e,true),files=e.dataTransfer.files;if(!pos||cm.isReadOnly()){return}if(files&&files.length&&window.FileReader&&window.File){var n=files.length,text=Array(n),read=0;var loadFile=function(file,i){if(cm.options.allowDropFileTypes&&indexOf(cm.options.allowDropFileTypes,file.type)==-1){return}var reader=new FileReader;reader.onload=operation(cm,function(){var content=reader.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(content)){content=""}text[i]=content;if(++read==n){pos=clipPos(cm.doc,pos);var change={from:pos,to:pos,text:cm.doc.splitLines(text.join(cm.doc.lineSeparator())),origin:"paste"};makeChange(cm.doc,change);setSelectionReplaceHistory(cm.doc,simpleSelection(pos,changeEnd(change)))}});reader.readAsText(file)};for(var i=0;i<n;++i){loadFile(files[i],i)}}else{if(cm.state.draggingText&&cm.doc.sel.contains(pos)>-1){cm.state.draggingText(e);setTimeout(function(){return cm.display.input.focus()},20);return}try{var text$1=e.dataTransfer.getData("Text");if(text$1){var selected;if(cm.state.draggingText&&!cm.state.draggingText.copy){selected=cm.listSelections()}setSelectionNoUndo(cm.doc,simpleSelection(pos,pos));if(selected){for(var i$1=0;i$1<selected.length;++i$1){replaceRange(cm.doc,"",selected[i$1].anchor,selected[i$1].head,"drag")}}cm.replaceSelection(text$1,"around","paste");cm.display.input.focus()}}catch(e){}}}function onDragStart(cm,e){if(ie&&(!cm.state.draggingText||+new Date-lastDrop<100)){e_stop(e);return}if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e)){return}e.dataTransfer.setData("Text",cm.getSelection());e.dataTransfer.effectAllowed="copyMove";if(e.dataTransfer.setDragImage&&!safari){var img=elt("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(presto){img.width=img.height=1;cm.display.wrapper.appendChild(img);img._top=img.offsetTop}e.dataTransfer.setDragImage(img,0,0);if(presto){img.parentNode.removeChild(img)}}}function onDragOver(cm,e){var pos=posFromMouse(cm,e);if(!pos){return}var frag=document.createDocumentFragment();drawSelectionCursor(cm,pos,frag);if(!cm.display.dragCursor){cm.display.dragCursor=elt("div",null,"CodeMirror-cursors CodeMirror-dragcursors");cm.display.lineSpace.insertBefore(cm.display.dragCursor,cm.display.cursorDiv)}removeChildrenAndAdd(cm.display.dragCursor,frag)}function clearDragCursor(cm){if(cm.display.dragCursor){cm.display.lineSpace.removeChild(cm.display.dragCursor);cm.display.dragCursor=null}}function forEachCodeMirror(f){if(!document.body.getElementsByClassName){return}var byClass=document.body.getElementsByClassName("CodeMirror");for(var i=0;i<byClass.length;i++){var cm=byClass[i].CodeMirror;if(cm){f(cm)}}}var globalsRegistered=false;function ensureGlobalHandlers(){if(globalsRegistered){return}registerGlobalHandlers();globalsRegistered=true}function registerGlobalHandlers(){var resizeTimer;on(window,"resize",function(){if(resizeTimer==null){resizeTimer=setTimeout(function(){resizeTimer=null;forEachCodeMirror(onResize)},100)}});on(window,"blur",function(){return forEachCodeMirror(onBlur)})}function onResize(cm){var d=cm.display;if(d.lastWrapHeight==d.wrapper.clientHeight&&d.lastWrapWidth==d.wrapper.clientWidth){return}d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.scrollbarsClipped=false;cm.setSize()}var keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};for(var i=0;i<10;i++){keyNames[i+48]=keyNames[i+96]=String(i)}for(var i$1=65;i$1<=90;i$1++){keyNames[i$1]=String.fromCharCode(i$1)}for(var i$2=1;i$2<=12;i$2++){keyNames[i$2+111]=keyNames[i$2+63235]="F"+i$2}var keyMap={};keyMap.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};keyMap.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};keyMap.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"};keyMap.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]};keyMap["default"]=mac?keyMap.macDefault:keyMap.pcDefault;function normalizeKeyName(name){var parts=name.split(/-(?!$)/);name=parts[parts.length-1];var alt,ctrl,shift,cmd;for(var i=0;i<parts.length-1;i++){var mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod)){cmd=true}else if(/^a(lt)?$/i.test(mod)){alt=true}else if(/^(c|ctrl|control)$/i.test(mod)){ctrl=true}else if(/^s(hift)?$/i.test(mod)){shift=true}else{throw new Error("Unrecognized modifier name: "+mod)}}if(alt){name="Alt-"+name}if(ctrl){name="Ctrl-"+name}if(cmd){name="Cmd-"+name}if(shift){name="Shift-"+name}return name}function normalizeKeyMap(keymap){var copy={};for(var keyname in keymap){if(keymap.hasOwnProperty(keyname)){var value=keymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname)){continue}if(value=="..."){delete keymap[keyname];continue}var keys=map(keyname.split(" "),normalizeKeyName);for(var i=0;i<keys.length;i++){var val=void 0,name=void 0;if(i==keys.length-1){name=keys.join(" ");val=value}else{name=keys.slice(0,i+1).join(" ");val="..."}var prev=copy[name];if(!prev){copy[name]=val}else if(prev!=val){throw new Error("Inconsistent bindings for "+name)}}delete keymap[keyname]}}for(var prop in copy){keymap[prop]=copy[prop]}return keymap}function lookupKey(key,map,handle,context){map=getKeyMap(map);var found=map.call?map.call(key,context):map[key];if(found===false){return"nothing"}if(found==="..."){return"multi"}if(found!=null&&handle(found)){return"handled"}if(map.fallthrough){if(Object.prototype.toString.call(map.fallthrough)!="[object Array]"){return lookupKey(key,map.fallthrough,handle,context)}for(var i=0;i<map.fallthrough.length;i++){var result=lookupKey(key,map.fallthrough[i],handle,context);if(result){return result}}}}function isModifierKey(value){var name=typeof value=="string"?value:keyNames[value.keyCode];return name=="Ctrl"||name=="Alt"||name=="Shift"||name=="Mod"}function keyName(event,noShift){if(presto&&event.keyCode==34&&event["char"]){return false}var base=keyNames[event.keyCode],name=base;if(name==null||event.altGraphKey){return false}if(event.altKey&&base!="Alt"){name="Alt-"+name}if((flipCtrlCmd?event.metaKey:event.ctrlKey)&&base!="Ctrl"){name="Ctrl-"+name}if((flipCtrlCmd?event.ctrlKey:event.metaKey)&&base!="Cmd"){name="Cmd-"+name}if(!noShift&&event.shiftKey&&base!="Shift"){name="Shift-"+name}return name}function getKeyMap(val){return typeof val=="string"?keyMap[val]:val}function deleteNearSelection(cm,compute){var ranges=cm.doc.sel.ranges,kill=[];for(var i=0;i<ranges.length;i++){var toKill=compute(ranges[i]);while(kill.length&&cmp(toKill.from,lst(kill).to)<=0){var replaced=kill.pop();if(cmp(replaced.from,toKill.from)<0){toKill.from=replaced.from;break}}kill.push(toKill)}runInOp(cm,function(){for(var i=kill.length-1;i>=0;i--){replaceRange(cm.doc,"",kill[i].from,kill[i].to,"+delete")}ensureCursorVisible(cm)})}var commands={selectAll:selectAll,singleSelection:function(cm){return cm.setSelection(cm.getCursor("anchor"),cm.getCursor("head"),sel_dontScroll)},killLine:function(cm){return deleteNearSelection(cm,function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;if(range.head.ch==len&&range.head.line<cm.lastLine()){return{from:range.head,to:Pos(range.head.line+1,0)}}else{return{from:range.head,to:Pos(range.head.line,len)}}}else{return{from:range.from(),to:range.to()}}})},deleteLine:function(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:clipPos(cm.doc,Pos(range.to().line+1,0))}})},delLineLeft:function(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:range.from()}})},delWrappedLineLeft:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5;var leftPos=cm.coordsChar({left:0,top:top},"div");return{from:leftPos,to:range.from()}})},delWrappedLineRight:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5;var rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");return{from:range.from(),to:rightPos}})},undo:function(cm){return cm.undo()},redo:function(cm){return cm.redo()},undoSelection:function(cm){return cm.undoSelection()},redoSelection:function(cm){return cm.redoSelection()},goDocStart:function(cm){return cm.extendSelection(Pos(cm.firstLine(),0))},goDocEnd:function(cm){return cm.extendSelection(Pos(cm.lastLine()))},goLineStart:function(cm){return cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(cm){return cm.extendSelectionsBy(function(range){return lineStartSmart(cm,range.head)},{origin:"+move",bias:1})},goLineEnd:function(cm){return cm.extendSelectionsBy(function(range){return lineEnd(cm,range.head.line)},{origin:"+move",bias:-1})},goLineRight:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div")},sel_move)},goLineLeft:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5;return cm.coordsChar({left:0,top:top},"div")},sel_move)},goLineLeftSmart:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5;var pos=cm.coordsChar({left:0,top:top},"div");if(pos.ch<cm.getLine(pos.line).search(/\S/)){return lineStartSmart(cm,range.head)}return pos},sel_move)},goLineUp:function(cm){return cm.moveV(-1,"line")},goLineDown:function(cm){return cm.moveV(1,"line")},goPageUp:function(cm){return cm.moveV(-1,"page")},goPageDown:function(cm){return cm.moveV(1,"page")},goCharLeft:function(cm){return cm.moveH(-1,"char")},goCharRight:function(cm){return cm.moveH(1,"char")},goColumnLeft:function(cm){return cm.moveH(-1,"column")},goColumnRight:function(cm){return cm.moveH(1,"column")},goWordLeft:function(cm){return cm.moveH(-1,"word")},goGroupRight:function(cm){return cm.moveH(1,"group")},goGroupLeft:function(cm){return cm.moveH(-1,"group")},goWordRight:function(cm){return cm.moveH(1,"word")},delCharBefore:function(cm){return cm.deleteH(-1,"char")},delCharAfter:function(cm){return cm.deleteH(1,"char")},delWordBefore:function(cm){return cm.deleteH(-1,"word")},delWordAfter:function(cm){return cm.deleteH(1,"word")},delGroupBefore:function(cm){return cm.deleteH(-1,"group")},delGroupAfter:function(cm){return cm.deleteH(1,"group")},indentAuto:function(cm){return cm.indentSelection("smart")},indentMore:function(cm){return cm.indentSelection("add")},indentLess:function(cm){return cm.indentSelection("subtract")},insertTab:function(cm){return cm.replaceSelection("\t")},insertSoftTab:function(cm){var spaces=[],ranges=cm.listSelections(),tabSize=cm.options.tabSize;for(var i=0;i<ranges.length;i++){var pos=ranges[i].from();var col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(spaceStr(tabSize-col%tabSize))}cm.replaceSelections(spaces)},defaultTab:function(cm){if(cm.somethingSelected()){cm.indentSelection("add")}else{cm.execCommand("insertTab")}},transposeChars:function(cm){return runInOp(cm,function(){var ranges=cm.listSelections(),newSel=[];for(var i=0;i<ranges.length;i++){if(!ranges[i].empty()){continue}var cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;if(line){if(cur.ch==line.length){cur=new Pos(cur.line,cur.ch-1)}if(cur.ch>0){cur=new Pos(cur.line,cur.ch+1);cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,"+transpose")}else if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;if(prev){cur=new Pos(cur.line,1);cm.replaceRange(line.charAt(0)+cm.doc.lineSeparator()+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),cur,"+transpose")}}}newSel.push(new Range(cur,cur))}cm.setSelections(newSel)})},newlineAndIndent:function(cm){return runInOp(cm,function(){var sels=cm.listSelections();for(var i=sels.length-1;i>=0;i--){cm.replaceRange(cm.doc.lineSeparator(),sels[i].anchor,sels[i].head,"+input")}sels=cm.listSelections();for(var i$1=0;i$1<sels.length;i$1++){cm.indentLine(sels[i$1].from().line,null,true)}ensureCursorVisible(cm)})},openLine:function(cm){return cm.replaceSelection("\n","start")},toggleOverwrite:function(cm){return cm.toggleOverwrite()}};function lineStart(cm,lineN){var line=getLine(cm.doc,lineN);var visual=visualLine(line);if(visual!=line){lineN=lineNo(visual)}var order=getOrder(visual);var ch=!order?0:order[0].level%2?lineRight(visual):lineLeft(visual);return Pos(lineN,ch)}function lineEnd(cm,lineN){var merged,line=getLine(cm.doc,lineN);while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;lineN=null}var order=getOrder(line);var ch=!order?line.text.length:order[0].level%2?lineLeft(line):lineRight(line);return Pos(lineN==null?lineNo(line):lineN,ch)}function lineStartSmart(cm,pos){var start=lineStart(cm,pos.line);var line=getLine(cm.doc,start.line);var order=getOrder(line);if(!order||order[0].level==0){var firstNonWS=Math.max(0,line.text.search(/\S/));var inWS=pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch;return Pos(start.line,inWS?0:firstNonWS)}return start}function doHandleBinding(cm,bound,dropShift){if(typeof bound=="string"){bound=commands[bound];if(!bound){return false}}cm.display.input.ensurePolled();var prevShift=cm.display.shift,done=false;try{if(cm.isReadOnly()){cm.state.suppressEdits=true}if(dropShift){cm.display.shift=false}done=bound(cm)!=Pass}finally{cm.display.shift=prevShift;cm.state.suppressEdits=false}return done}function lookupKeyForEditor(cm,name,handle){for(var i=0;i<cm.state.keyMaps.length;i++){var result=lookupKey(name,cm.state.keyMaps[i],handle,cm);if(result){return result}}return cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm)||lookupKey(name,cm.options.keyMap,handle,cm)}var stopSeq=new Delayed;function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name)){return"handled"}stopSeq.set(50,function(){if(cm.state.keySeq==seq){cm.state.keySeq=null;cm.display.input.reset()}});name=seq+" "+name}var result=lookupKeyForEditor(cm,name,handle);if(result=="multi"){cm.state.keySeq=name}if(result=="handled"){signalLater(cm,"keyHandled",cm,name,e)}if(result=="handled"||result=="multi"){e_preventDefault(e);restartBlink(cm)}if(seq&&!result&&/\'$/.test(name)){e_preventDefault(e);return true}return!!result}function handleKeyBinding(cm,e){var name=keyName(e,true);if(!name){return false}if(e.shiftKey&&!cm.state.keySeq){return dispatchKey(cm,"Shift-"+name,e,function(b){return doHandleBinding(cm,b,true)})||dispatchKey(cm,name,e,function(b){if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion){return doHandleBinding(cm,b)}})}else{return dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b)})}}function handleCharBinding(cm,e,ch){return dispatchKey(cm,"'"+ch+"'",e,function(b){return doHandleBinding(cm,b,true)})}var lastStoppedKey=null;function onKeyDown(e){var cm=this;cm.curOp.focus=activeElt();if(signalDOMEvent(cm,e)){return}if(ie&&ie_version<11&&e.keyCode==27){e.returnValue=false}var code=e.keyCode;cm.display.shift=code==16||e.shiftKey;var handled=handleKeyBinding(cm,e);if(presto){lastStoppedKey=handled?code:null;if(!handled&&code==88&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey)){cm.replaceSelection("",null,"cut")}}if(code==18&&!/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className)){showCrossHair(cm)}}function showCrossHair(cm){var lineDiv=cm.display.lineDiv;addClass(lineDiv,"CodeMirror-crosshair");function up(e){if(e.keyCode==18||!e.altKey){rmClass(lineDiv,"CodeMirror-crosshair");off(document,"keyup",up);off(document,"mouseover",up)}}on(document,"keyup",up);on(document,"mouseover",up)}function onKeyUp(e){if(e.keyCode==16){this.doc.sel.shift=false}signalDOMEvent(this,e)}function onKeyPress(e){var cm=this;if(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey){return}var keyCode=e.keyCode,charCode=e.charCode;if(presto&&keyCode==lastStoppedKey){lastStoppedKey=null;e_preventDefault(e);return}if(presto&&(!e.which||e.which<10)&&handleKeyBinding(cm,e)){return}var ch=String.fromCharCode(charCode==null?keyCode:charCode);if(ch=="\b"){return}if(handleCharBinding(cm,e,ch)){return}cm.display.input.onKeyPress(e)}function onMouseDown(e){var cm=this,display=cm.display;if(signalDOMEvent(cm,e)||display.activeTouch&&display.input.supportsTouch()){return}display.shift=e.shiftKey;if(eventInWidget(display,e)){if(!webkit){display.scroller.draggable=false;setTimeout(function(){return display.scroller.draggable=true},100)}return}if(clickInGutter(cm,e)){return}var start=posFromMouse(cm,e);window.focus();switch(e_button(e)){case 1:if(cm.state.selectingText){cm.state.selectingText(e)}else if(start){leftButtonDown(cm,e,start)}else if(e_target(e)==display.scroller){e_preventDefault(e)}break;case 2:if(webkit){cm.state.lastMiddleDown=+new Date}if(start){extendSelection(cm.doc,start)}setTimeout(function(){return display.input.focus()},20);e_preventDefault(e);break;case 3:if(captureRightClick){onContextMenu(cm,e)}else{delayBlurEvent(cm)}break}}var lastClick;var lastDoubleClick;function leftButtonDown(cm,e,start){if(ie){setTimeout(bind(ensureFocus,cm),0)}else{cm.curOp.focus=activeElt()}var now=+new Date,type;if(lastDoubleClick&&lastDoubleClick.time>now-400&&cmp(lastDoubleClick.pos,start)==0){type="triple"}else if(lastClick&&lastClick.time>now-400&&cmp(lastClick.pos,start)==0){type="double";lastDoubleClick={time:now,pos:start}}else{type="single";lastClick={time:now,pos:start}}var sel=cm.doc.sel,modifier=mac?e.metaKey:e.ctrlKey,contained;if(cm.options.dragDrop&&dragAndDrop&&!cm.isReadOnly()&&type=="single"&&(contained=sel.contains(start))>-1&&(cmp((contained=sel.ranges[contained]).from(),start)<0||start.xRel>0)&&(cmp(contained.to(),start)>0||start.xRel<0)){leftButtonStartDrag(cm,e,start,modifier)}else{leftButtonSelect(cm,e,start,type,modifier)}}function leftButtonStartDrag(cm,e,start,modifier){var display=cm.display,startTime=+new Date;var dragEnd=operation(cm,function(e2){if(webkit){display.scroller.draggable=false}cm.state.draggingText=false;off(document,"mouseup",dragEnd);off(display.scroller,"drop",dragEnd);if(Math.abs(e.clientX-e2.clientX)+Math.abs(e.clientY-e2.clientY)<10){e_preventDefault(e2);if(!modifier&&+new Date-200<startTime){extendSelection(cm.doc,start)}if(webkit||ie&&ie_version==9){setTimeout(function(){document.body.focus();display.input.focus()},20)}else{display.input.focus()}}});if(webkit){display.scroller.draggable=true}cm.state.draggingText=dragEnd;dragEnd.copy=mac?e.altKey:e.ctrlKey;if(display.scroller.dragDrop){display.scroller.dragDrop()}on(document,"mouseup",dragEnd);on(display.scroller,"drop",dragEnd)}function leftButtonSelect(cm,e,start,type,addNew){var display=cm.display,doc=cm.doc;e_preventDefault(e);var ourRange,ourIndex,startSel=doc.sel,ranges=startSel.ranges;if(addNew&&!e.shiftKey){ourIndex=doc.sel.contains(start);if(ourIndex>-1){ourRange=ranges[ourIndex]}else{ourRange=new Range(start,start)}}else{ourRange=doc.sel.primary();ourIndex=doc.sel.primIndex}if(chromeOS?e.shiftKey&&e.metaKey:e.altKey){type="rect";if(!addNew){ourRange=new Range(start,start)}start=posFromMouse(cm,e,true,true);ourIndex=-1}else if(type=="double"){var word=cm.findWordAt(start);if(cm.display.shift||doc.extend){ourRange=extendRange(doc,ourRange,word.anchor,word.head)}else{ourRange=word}}else if(type=="triple"){var line=new Range(Pos(start.line,0),clipPos(doc,Pos(start.line+1,0)));if(cm.display.shift||doc.extend){ourRange=extendRange(doc,ourRange,line.anchor,line.head)}else{ourRange=line}}else{ourRange=extendRange(doc,ourRange,start)}if(!addNew){ourIndex=0;setSelection(doc,new Selection([ourRange],0),sel_mouse);startSel=doc.sel}else if(ourIndex==-1){ourIndex=ranges.length;setSelection(doc,normalizeSelection(ranges.concat([ourRange]),ourIndex),{scroll:false,origin:"*mouse"})}else if(ranges.length>1&&ranges[ourIndex].empty()&&type=="single"&&!e.shiftKey){setSelection(doc,normalizeSelection(ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0),{scroll:false,origin:"*mouse"});startSel=doc.sel}else{replaceOneSelection(doc,ourIndex,ourRange,sel_mouse)}var lastPos=start;function extendTo(pos){if(cmp(lastPos,pos)==0){return}lastPos=pos;if(type=="rect"){var ranges=[],tabSize=cm.options.tabSize;var startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize);var posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize);var left=Math.min(startCol,posCol),right=Math.max(startCol,posCol);for(var line=Math.min(start.line,pos.line),end=Math.min(cm.lastLine(),Math.max(start.line,pos.line));line<=end;line++){var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);if(left==right){ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos)))}else if(text.length>leftPos){ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))))}}if(!ranges.length){ranges.push(new Range(start,start))}setSelection(doc,normalizeSelection(startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:"*mouse",scroll:false});cm.scrollIntoView(pos)}else{var oldRange=ourRange;var anchor=oldRange.anchor,head=pos;if(type!="single"){var range;if(type=="double"){range=cm.findWordAt(pos)}else{range=new Range(Pos(pos.line,0),clipPos(doc,Pos(pos.line+1,0)))}if(cmp(range.anchor,anchor)>0){head=range.head;anchor=minPos(oldRange.from(),range.anchor)}else{head=range.anchor;anchor=maxPos(oldRange.to(),range.head)}}var ranges$1=startSel.ranges.slice(0);ranges$1[ourIndex]=new Range(clipPos(doc,anchor),head);setSelection(doc,normalizeSelection(ranges$1,ourIndex),sel_mouse)}}var editorSize=display.wrapper.getBoundingClientRect();var counter=0;function extend(e){var curCount=++counter;var cur=posFromMouse(cm,e,true,type=="rect");if(!cur){return}if(cmp(cur,lastPos)!=0){cm.curOp.focus=activeElt();extendTo(cur);var visible=visibleLines(display,doc);if(cur.line>=visible.to||cur.line<visible.from){setTimeout(operation(cm,function(){if(counter==curCount){extend(e)}}),150)}}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:0;if(outside){setTimeout(operation(cm,function(){if(counter!=curCount){return}display.scroller.scrollTop+=outside;extend(e)}),50)}}}function done(e){cm.state.selectingText=false;counter=Infinity;e_preventDefault(e);display.input.focus();off(document,"mousemove",move);off(document,"mouseup",up);doc.history.lastSelOrigin=null}var move=operation(cm,function(e){if(!e_button(e)){done(e)}else{extend(e)}});var up=operation(cm,done);cm.state.selectingText=up;on(document,"mousemove",move);on(document,"mouseup",up)}function gutterEvent(cm,e,type,prevent){var mX,mY;try{mX=e.clientX;mY=e.clientY}catch(e){return false}if(mX>=Math.floor(cm.display.gutters.getBoundingClientRect().right)){return false}if(prevent){e_preventDefault(e)}var display=cm.display;var lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type)){return e_defaultPrevented(e)}mY-=lineBox.top-display.viewOffset;for(var i=0;i<cm.options.gutters.length;++i){var g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=mX){var line=lineAtHeight(cm.doc,mY);var gutter=cm.options.gutters[i];signal(cm,type,cm,line,gutter,e);return e_defaultPrevented(e)}}}function clickInGutter(cm,e){return gutterEvent(cm,e,"gutterClick",true)}function onContextMenu(cm,e){if(eventInWidget(cm.display,e)||contextMenuInGutter(cm,e)){return}if(signalDOMEvent(cm,e,"contextmenu")){return}cm.display.input.onContextMenu(e)}function contextMenuInGutter(cm,e){if(!hasHandler(cm,"gutterContextMenu")){return false}return gutterEvent(cm,e,"gutterContextMenu",false)}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+cm.options.theme.replace(/(^|\s)\s*/g," cm-s-");clearCaches(cm)}var Init={toString:function(){return"CodeMirror.Init"}};var defaults={};var optionHandlers={};function defineOptions(CodeMirror){var optionHandlers=CodeMirror.optionHandlers;function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt;if(handle){optionHandlers[name]=notOnInit?function(cm,val,old){if(old!=Init){handle(cm,val,old)}}:handle}}CodeMirror.defineOption=option;CodeMirror.Init=Init;option("value","",function(cm,val){return cm.setValue(val)},true);option("mode",null,function(cm,val){cm.doc.modeOption=val;loadMode(cm)},true);option("indentUnit",2,loadMode,true);option("indentWithTabs",false);option("smartIndent",true);option("tabSize",4,function(cm){resetModeState(cm);clearCaches(cm);regChange(cm)},true);option("lineSeparator",null,function(cm,val){cm.doc.lineSep=val;if(!val){return}var newBreaks=[],lineNo=cm.doc.first;cm.doc.iter(function(line){for(var pos=0;;){var found=line.text.indexOf(val,pos);if(found==-1){break}pos=found+val.length;newBreaks.push(Pos(lineNo,found))}lineNo++});for(var i=newBreaks.length-1;i>=0;i--){replaceRange(cm.doc,val,newBreaks[i],Pos(newBreaks[i].line,newBreaks[i].ch+val.length))}});option("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(cm,val,old){cm.state.specialChars=new RegExp(val.source+(val.test("\t")?"":"|\t"),"g");if(old!=Init){cm.refresh()}});option("specialCharPlaceholder",defaultSpecialCharPlaceholder,function(cm){return cm.refresh()},true);option("electricChars",true);option("inputStyle",mobile?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},true);option("spellcheck",false,function(cm,val){return cm.getInputField().spellcheck=val},true);option("rtlMoveVisually",!windows);option("wholeLineUpdateBefore",true);option("theme","default",function(cm){themeChanged(cm);guttersChanged(cm)},true);option("keyMap","default",function(cm,val,old){var next=getKeyMap(val);var prev=old!=Init&&getKeyMap(old);if(prev&&prev.detach){prev.detach(cm,next)}if(next.attach){next.attach(cm,prev||null)}});option("extraKeys",null);option("lineWrapping",false,wrappingChanged,true);option("gutters",[],function(cm){setGuttersForLineNumbers(cm.options);guttersChanged(cm)},true);option("fixedGutter",true,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+"px":"0";cm.refresh()},true);option("coverGutterNextToScrollbar",false,function(cm){return updateScrollbars(cm)},true);option("scrollbarStyle","native",function(cm){initScrollbars(cm);updateScrollbars(cm);cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)},true);option("lineNumbers",false,function(cm){setGuttersForLineNumbers(cm.options);guttersChanged(cm)},true);option("firstLineNumber",1,guttersChanged,true);option("lineNumberFormatter",function(integer){return integer},guttersChanged,true);option("showCursorWhenSelecting",false,updateSelection,true);option("resetSelectionOnContextMenu",true);option("lineWiseCopyCut",true);option("readOnly",false,function(cm,val){if(val=="nocursor"){onBlur(cm);cm.display.input.blur();cm.display.disabled=true}else{cm.display.disabled=false}cm.display.input.readOnlyChanged(val)});option("disableInput",false,function(cm,val){if(!val){cm.display.input.reset()}},true);option("dragDrop",true,dragDropChanged);option("allowDropFileTypes",null);option("cursorBlinkRate",530);option("cursorScrollMargin",0);option("cursorHeight",1,updateSelection,true);option("singleCursorHeightPerLine",true,updateSelection,true);option("workTime",100);option("workDelay",100);option("flattenSpans",true,resetModeState,true);option("addModeClass",false,resetModeState,true);option("pollInterval",100);option("undoDepth",200,function(cm,val){return cm.doc.history.undoDepth=val});option("historyEventDelay",1250);option("viewportMargin",10,function(cm){return cm.refresh()},true);option("maxHighlightLength",1e4,resetModeState,true);option("moveInputWithCursor",true,function(cm,val){if(!val){cm.display.input.resetPosition()}});option("tabindex",null,function(cm,val){return cm.display.input.getField().tabIndex=val||""});option("autofocus",null)}function guttersChanged(cm){updateGutters(cm);regChange(cm);setTimeout(function(){return alignHorizontally(cm);
},20)}function dragDropChanged(cm,value,old){var wasOn=old&&old!=Init;if(!value!=!wasOn){var funcs=cm.display.dragFunctions;var toggle=value?on:off;toggle(cm.display.scroller,"dragstart",funcs.start);toggle(cm.display.scroller,"dragenter",funcs.enter);toggle(cm.display.scroller,"dragover",funcs.over);toggle(cm.display.scroller,"dragleave",funcs.leave);toggle(cm.display.scroller,"drop",funcs.drop)}}function wrappingChanged(cm){if(cm.options.lineWrapping){addClass(cm.display.wrapper,"CodeMirror-wrap");cm.display.sizer.style.minWidth="";cm.display.sizerWidth=null}else{rmClass(cm.display.wrapper,"CodeMirror-wrap");findMaxLine(cm)}estimateLineHeights(cm);regChange(cm);clearCaches(cm);setTimeout(function(){return updateScrollbars(cm)},100)}function CodeMirror(place,options){var this$1=this;if(!(this instanceof CodeMirror)){return new CodeMirror(place,options)}this.options=options=options?copyObj(options):{};copyObj(defaults,options,false);setGuttersForLineNumbers(options);var doc=options.value;if(typeof doc=="string"){doc=new Doc(doc,options.mode,null,options.lineSeparator)}this.doc=doc;var input=new CodeMirror.inputStyles[options.inputStyle](this);var display=this.display=new Display(place,doc,input);display.wrapper.CodeMirror=this;updateGutters(this);themeChanged(this);if(options.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}if(options.autofocus&&!mobile){display.input.focus()}initScrollbars(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,delayingBlurEvent:false,focused:false,suppressEdits:false,pasteIncoming:false,cutIncoming:false,selectingText:false,draggingText:false,highlight:new Delayed,keySeq:null,specialChars:null};if(ie&&ie_version<11){setTimeout(function(){return this$1.display.input.reset(true)},20)}registerEventHandlers(this);ensureGlobalHandlers();startOperation(this);this.curOp.forceUpdate=true;attachDoc(this,doc);if(options.autofocus&&!mobile||this.hasFocus()){setTimeout(bind(onFocus,this),20)}else{onBlur(this)}for(var opt in optionHandlers){if(optionHandlers.hasOwnProperty(opt)){optionHandlers[opt](this$1,options[opt],Init)}}maybeUpdateLineNumberWidth(this);if(options.finishInit){options.finishInit(this)}for(var i=0;i<initHooks.length;++i){initHooks[i](this$1)}endOperation(this);if(webkit&&options.lineWrapping&&getComputedStyle(display.lineDiv).textRendering=="optimizelegibility"){display.lineDiv.style.textRendering="auto"}}CodeMirror.defaults=defaults;CodeMirror.optionHandlers=optionHandlers;function registerEventHandlers(cm){var d=cm.display;on(d.scroller,"mousedown",operation(cm,onMouseDown));if(ie&&ie_version<11){on(d.scroller,"dblclick",operation(cm,function(e){if(signalDOMEvent(cm,e)){return}var pos=posFromMouse(cm,e);if(!pos||clickInGutter(cm,e)||eventInWidget(cm.display,e)){return}e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head)}))}else{on(d.scroller,"dblclick",function(e){return signalDOMEvent(cm,e)||e_preventDefault(e)})}if(!captureRightClick){on(d.scroller,"contextmenu",function(e){return onContextMenu(cm,e)})}var touchFinished,prevTouch={end:0};function finishTouch(){if(d.activeTouch){touchFinished=setTimeout(function(){return d.activeTouch=null},1e3);prevTouch=d.activeTouch;prevTouch.end=+new Date}}function isMouseLikeTouchEvent(e){if(e.touches.length!=1){return false}var touch=e.touches[0];return touch.radiusX<=1&&touch.radiusY<=1}function farAway(touch,other){if(other.left==null){return true}var dx=other.left-touch.left,dy=other.top-touch.top;return dx*dx+dy*dy>20*20}on(d.scroller,"touchstart",function(e){if(!signalDOMEvent(cm,e)&&!isMouseLikeTouchEvent(e)){clearTimeout(touchFinished);var now=+new Date;d.activeTouch={start:now,moved:false,prev:now-prevTouch.end<=300?prevTouch:null};if(e.touches.length==1){d.activeTouch.left=e.touches[0].pageX;d.activeTouch.top=e.touches[0].pageY}}});on(d.scroller,"touchmove",function(){if(d.activeTouch){d.activeTouch.moved=true}});on(d.scroller,"touchend",function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&touch.left!=null&&!touch.moved&&new Date-touch.start<300){var pos=cm.coordsChar(d.activeTouch,"page"),range;if(!touch.prev||farAway(touch,touch.prev)){range=new Range(pos,pos)}else if(!touch.prev.prev||farAway(touch,touch.prev.prev)){range=cm.findWordAt(pos)}else{range=new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)))}cm.setSelection(range.anchor,range.head);cm.focus();e_preventDefault(e)}finishTouch()});on(d.scroller,"touchcancel",finishTouch);on(d.scroller,"scroll",function(){if(d.scroller.clientHeight){setScrollTop(cm,d.scroller.scrollTop);setScrollLeft(cm,d.scroller.scrollLeft,true);signal(cm,"scroll",cm)}});on(d.scroller,"mousewheel",function(e){return onScrollWheel(cm,e)});on(d.scroller,"DOMMouseScroll",function(e){return onScrollWheel(cm,e)});on(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0});d.dragFunctions={enter:function(e){if(!signalDOMEvent(cm,e)){e_stop(e)}},over:function(e){if(!signalDOMEvent(cm,e)){onDragOver(cm,e);e_stop(e)}},start:function(e){return onDragStart(cm,e)},drop:operation(cm,onDrop),leave:function(e){if(!signalDOMEvent(cm,e)){clearDragCursor(cm)}}};var inp=d.input.getField();on(inp,"keyup",function(e){return onKeyUp.call(cm,e)});on(inp,"keydown",operation(cm,onKeyDown));on(inp,"keypress",operation(cm,onKeyPress));on(inp,"focus",function(e){return onFocus(cm,e)});on(inp,"blur",function(e){return onBlur(cm,e)})}var initHooks=[];CodeMirror.defineInitHook=function(f){return initHooks.push(f)};function indentLine(cm,n,how,aggressive){var doc=cm.doc,state;if(how==null){how="add"}if(how=="smart"){if(!doc.mode.indent){how="prev"}else{state=getStateBefore(cm,n)}}var tabSize=cm.options.tabSize;var line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);if(line.stateAfter){line.stateAfter=null}var curSpaceString=line.text.match(/^\s*/)[0],indentation;if(!aggressive&&!/\S/.test(line.text)){indentation=0;how="not"}else if(how=="smart"){indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text);if(indentation==Pass||indentation>150){if(!aggressive){return}how="prev"}}if(how=="prev"){if(n>doc.first){indentation=countColumn(getLine(doc,n-1).text,null,tabSize)}else{indentation=0}}else if(how=="add"){indentation=curSpace+cm.options.indentUnit}else if(how=="subtract"){indentation=curSpace-cm.options.indentUnit}else if(typeof how=="number"){indentation=curSpace+how}indentation=Math.max(0,indentation);var indentString="",pos=0;if(cm.options.indentWithTabs){for(var i=Math.floor(indentation/tabSize);i;--i){pos+=tabSize;indentString+="\t"}}if(pos<indentation){indentString+=spaceStr(indentation-pos)}if(indentString!=curSpaceString){replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),"+input");line.stateAfter=null;return true}else{for(var i$1=0;i$1<doc.sel.ranges.length;i$1++){var range=doc.sel.ranges[i$1];if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos$1=Pos(n,curSpaceString.length);replaceOneSelection(doc,i$1,new Range(pos$1,pos$1));break}}}}var lastCopied=null;function setLastCopied(newLastCopied){lastCopied=newLastCopied}function applyTextInput(cm,inserted,deleted,sel,origin){var doc=cm.doc;cm.display.shift=false;if(!sel){sel=doc.sel}var paste=cm.state.pasteIncoming||origin=="paste";var textLines=splitLinesAuto(inserted),multiPaste=null;if(paste&&sel.ranges.length>1){if(lastCopied&&lastCopied.text.join("\n")==inserted){if(sel.ranges.length%lastCopied.text.length==0){multiPaste=[];for(var i=0;i<lastCopied.text.length;i++){multiPaste.push(doc.splitLines(lastCopied.text[i]))}}}else if(textLines.length==sel.ranges.length){multiPaste=map(textLines,function(l){return[l]})}}var updateInput;for(var i$1=sel.ranges.length-1;i$1>=0;i$1--){var range=sel.ranges[i$1];var from=range.from(),to=range.to();if(range.empty()){if(deleted&&deleted>0){from=Pos(from.line,from.ch-deleted)}else if(cm.state.overwrite&&!paste){to=Pos(to.line,Math.min(getLine(doc,to.line).text.length,to.ch+lst(textLines).length))}else if(lastCopied&&lastCopied.lineWise&&lastCopied.text.join("\n")==inserted){from=to=Pos(from.line,0)}}updateInput=cm.curOp.updateInput;var changeEvent={from:from,to:to,text:multiPaste?multiPaste[i$1%multiPaste.length]:textLines,origin:origin||(paste?"paste":cm.state.cutIncoming?"cut":"+input")};makeChange(cm.doc,changeEvent);signalLater(cm,"inputRead",cm,changeEvent)}if(inserted&&!paste){triggerElectric(cm,inserted)}ensureCursorVisible(cm);cm.curOp.updateInput=updateInput;cm.curOp.typing=true;cm.state.pasteIncoming=cm.state.cutIncoming=false}function handlePaste(e,cm){var pasted=e.clipboardData&&e.clipboardData.getData("Text");if(pasted){e.preventDefault();if(!cm.isReadOnly()&&!cm.options.disableInput){runInOp(cm,function(){return applyTextInput(cm,pasted,0,null,"paste")})}return true}}function triggerElectric(cm,inserted){if(!cm.options.electricChars||!cm.options.smartIndent){return}var sel=cm.doc.sel;for(var i=sel.ranges.length-1;i>=0;i--){var range=sel.ranges[i];if(range.head.ch>100||i&&sel.ranges[i-1].head.line==range.head.line){continue}var mode=cm.getModeAt(range.head);var indented=false;if(mode.electricChars){for(var j=0;j<mode.electricChars.length;j++){if(inserted.indexOf(mode.electricChars.charAt(j))>-1){indented=indentLine(cm,range.head.line,"smart");break}}}else if(mode.electricInput){if(mode.electricInput.test(getLine(cm.doc,range.head.line).text.slice(0,range.head.ch))){indented=indentLine(cm,range.head.line,"smart")}}if(indented){signalLater(cm,"electricInput",cm,range.head.line)}}}function copyableRanges(cm){var text=[],ranges=[];for(var i=0;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line;var lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange);text.push(cm.getRange(lineRange.anchor,lineRange.head))}return{text:text,ranges:ranges}}function disableBrowserMagic(field,spellcheck){field.setAttribute("autocorrect","off");field.setAttribute("autocapitalize","off");field.setAttribute("spellcheck",!!spellcheck)}function hiddenTextarea(){var te=elt("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none");var div=elt("div",[te],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");if(webkit){te.style.width="1000px"}else{te.setAttribute("wrap","off")}if(ios){te.style.border="1px solid black"}disableBrowserMagic(te);return div}function addEditorMethods(CodeMirror){var optionHandlers=CodeMirror.optionHandlers;var helpers=CodeMirror.helpers={};CodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus();this.display.input.focus()},setOption:function(option,value){var options=this.options,old=options[option];if(options[option]==value&&option!="mode"){return}options[option]=value;if(optionHandlers.hasOwnProperty(option)){operation(this,optionHandlers[option])(this,value,old)}},getOption:function(option){return this.options[option]},getDoc:function(){return this.doc},addKeyMap:function(map,bottom){this.state.keyMaps[bottom?"push":"unshift"](getKeyMap(map))},removeKeyMap:function(map){var maps=this.state.keyMaps;for(var i=0;i<maps.length;++i){if(maps[i]==map||maps[i].name==map){maps.splice(i,1);return true}}},addOverlay:methodOp(function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState){throw new Error("Overlays may not be stateful.")}insertSorted(this.state.overlays,{mode:mode,modeSpec:spec,opaque:options&&options.opaque,priority:options&&options.priority||0},function(overlay){return overlay.priority});this.state.modeGen++;regChange(this)}),removeOverlay:methodOp(function(spec){var this$1=this;var overlays=this.state.overlays;for(var i=0;i<overlays.length;++i){var cur=overlays[i].modeSpec;if(cur==spec||typeof spec=="string"&&cur.name==spec){overlays.splice(i,1);this$1.state.modeGen++;regChange(this$1);return}}}),indentLine:methodOp(function(n,dir,aggressive){if(typeof dir!="string"&&typeof dir!="number"){if(dir==null){dir=this.options.smartIndent?"smart":"prev"}else{dir=dir?"add":"subtract"}}if(isLine(this.doc,n)){indentLine(this,n,dir,aggressive)}}),indentSelection:methodOp(function(how){var this$1=this;var ranges=this.doc.sel.ranges,end=-1;for(var i=0;i<ranges.length;i++){var range=ranges[i];if(!range.empty()){var from=range.from(),to=range.to();var start=Math.max(end,from.line);end=Math.min(this$1.lastLine(),to.line-(to.ch?0:1))+1;for(var j=start;j<end;++j){indentLine(this$1,j,how)}var newRanges=this$1.doc.sel.ranges;if(from.ch==0&&ranges.length==newRanges.length&&newRanges[i].from().ch>0){replaceOneSelection(this$1.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll)}}else if(range.head.line>end){indentLine(this$1,range.head.line,how,true);end=range.head.line;if(i==this$1.doc.sel.primIndex){ensureCursorVisible(this$1)}}}}),getTokenAt:function(pos,precise){return takeToken(this,pos,precise)},getLineTokens:function(line,precise){return takeToken(this,Pos(line),precise,true)},getTokenTypeAt:function(pos){pos=clipPos(this.doc,pos);var styles=getLineStyles(this,getLine(this.doc,pos.line));var before=0,after=(styles.length-1)/2,ch=pos.ch;var type;if(ch==0){type=styles[2]}else{for(;;){var mid=before+after>>1;if((mid?styles[mid*2-1]:0)>=ch){after=mid}else if(styles[mid*2+1]<ch){before=mid+1}else{type=styles[mid*2+2];break}}}var cut=type?type.indexOf("overlay "):-1;return cut<0?type:cut==0?null:type.slice(0,cut-1)},getModeAt:function(pos){var mode=this.doc.mode;if(!mode.innerMode){return mode}return CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode},getHelper:function(pos,type){return this.getHelpers(pos,type)[0]},getHelpers:function(pos,type){var this$1=this;var found=[];if(!helpers.hasOwnProperty(type)){return found}var help=helpers[type],mode=this.getModeAt(pos);if(typeof mode[type]=="string"){if(help[mode[type]]){found.push(help[mode[type]])}}else if(mode[type]){for(var i=0;i<mode[type].length;i++){var val=help[mode[type][i]];if(val){found.push(val)}}}else if(mode.helperType&&help[mode.helperType]){found.push(help[mode.helperType])}else if(help[mode.name]){found.push(help[mode.name])}for(var i$1=0;i$1<help._global.length;i$1++){var cur=help._global[i$1];if(cur.pred(mode,this$1)&&indexOf(found,cur.val)==-1){found.push(cur.val)}}return found},getStateAfter:function(line,precise){var doc=this.doc;line=clipLine(doc,line==null?doc.first+doc.size-1:line);return getStateBefore(this,line+1,precise)},cursorCoords:function(start,mode){var pos,range=this.doc.sel.primary();if(start==null){pos=range.head}else if(typeof start=="object"){pos=clipPos(this.doc,start)}else{pos=start?range.from():range.to()}return cursorCoords(this,pos,mode||"page")},charCoords:function(pos,mode){return charCoords(this,clipPos(this.doc,pos),mode||"page")},coordsChar:function(coords,mode){coords=fromCoordSystem(this,coords,mode||"page");return coordsChar(this,coords.left,coords.top)},lineAtHeight:function(height,mode){height=fromCoordSystem(this,{top:height,left:0},mode||"page").top;return lineAtHeight(this.doc,height+this.display.viewOffset)},heightAtLine:function(line,mode){var end=false,lineObj;if(typeof line=="number"){var last=this.doc.first+this.doc.size-1;if(line<this.doc.first){line=this.doc.first}else if(line>last){line=last;end=true}lineObj=getLine(this.doc,line)}else{lineObj=line}return intoCoordSystem(this,lineObj,{top:0,left:0},mode||"page").top+(end?this.doc.height-heightAtLine(lineObj):0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},setGutterMarker:methodOp(function(line,gutterID,value){return changeLine(this.doc,line,"gutter",function(line){var markers=line.gutterMarkers||(line.gutterMarkers={});markers[gutterID]=value;if(!value&&isEmpty(markers)){line.gutterMarkers=null}return true})}),clearGutter:methodOp(function(gutterID){var this$1=this;var doc=this.doc,i=doc.first;doc.iter(function(line){if(line.gutterMarkers&&line.gutterMarkers[gutterID]){line.gutterMarkers[gutterID]=null;regLineChange(this$1,i,"gutter");if(isEmpty(line.gutterMarkers)){line.gutterMarkers=null}}++i})}),lineInfo:function(line){var n;if(typeof line=="number"){if(!isLine(this.doc,line)){return null}n=line;line=getLine(this.doc,line);if(!line){return null}}else{n=lineNo(line);if(n==null){return null}}return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(pos,node,scroll,vert,horiz){var display=this.display;pos=cursorCoords(this,clipPos(this.doc,pos));var top=pos.bottom,left=pos.left;node.style.position="absolute";node.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(node);display.sizer.appendChild(node);if(vert=="over"){top=pos.top}else if(vert=="above"||vert=="near"){var vspace=Math.max(display.wrapper.clientHeight,this.doc.height),hspace=Math.max(display.sizer.clientWidth,display.lineSpace.clientWidth);if((vert=="above"||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight){top=pos.top-node.offsetHeight}else if(pos.bottom+node.offsetHeight<=vspace){top=pos.bottom}if(left+node.offsetWidth>hspace){left=hspace-node.offsetWidth}}node.style.top=top+"px";node.style.left=node.style.right="";if(horiz=="right"){left=display.sizer.clientWidth-node.offsetWidth;node.style.right="0px"}else{if(horiz=="left"){left=0}else if(horiz=="middle"){left=(display.sizer.clientWidth-node.offsetWidth)/2}node.style.left=left+"px"}if(scroll){scrollIntoView(this,left,top,left+node.offsetWidth,top+node.offsetHeight)}},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,execCommand:function(cmd){if(commands.hasOwnProperty(cmd)){return commands[cmd].call(null,this)}},triggerElectric:methodOp(function(text){triggerElectric(this,text)}),findPosH:function(from,amount,unit,visually){var this$1=this;var dir=1;if(amount<0){dir=-1;amount=-amount}var cur=clipPos(this.doc,from);for(var i=0;i<amount;++i){cur=findPosH(this$1.doc,cur,dir,unit,visually);if(cur.hitSide){break}}return cur},moveH:methodOp(function(dir,unit){var this$1=this;this.extendSelectionsBy(function(range){if(this$1.display.shift||this$1.doc.extend||range.empty()){return findPosH(this$1.doc,range.head,dir,unit,this$1.options.rtlMoveVisually)}else{return dir<0?range.from():range.to()}},sel_move)}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel,doc=this.doc;if(sel.somethingSelected()){doc.replaceSelection("",null,"+delete")}else{deleteNearSelection(this,function(range){var other=findPosH(doc,range.head,dir,unit,false);return dir<0?{from:other,to:range.head}:{from:range.head,to:other}})}}),findPosV:function(from,amount,unit,goalColumn){var this$1=this;var dir=1,x=goalColumn;if(amount<0){dir=-1;amount=-amount}var cur=clipPos(this.doc,from);for(var i=0;i<amount;++i){var coords=cursorCoords(this$1,cur,"div");if(x==null){x=coords.left}else{coords.left=x}cur=findPosV(this$1,coords,dir,unit);if(cur.hitSide){break}}return cur},moveV:methodOp(function(dir,unit){var this$1=this;var doc=this.doc,goals=[];var collapse=!this.display.shift&&!doc.extend&&doc.sel.somethingSelected();doc.extendSelectionsBy(function(range){if(collapse){return dir<0?range.from():range.to()}var headPos=cursorCoords(this$1,range.head,"div");if(range.goalColumn!=null){headPos.left=range.goalColumn}goals.push(headPos.left);var pos=findPosV(this$1,headPos,dir,unit);if(unit=="page"&&range==doc.sel.primary()){addToScrollPos(this$1,null,charCoords(this$1,pos,"div").top-headPos.top)}return pos},sel_move);if(goals.length){for(var i=0;i<doc.sel.ranges.length;i++){doc.sel.ranges[i].goalColumn=goals[i]}}}),findWordAt:function(pos){var doc=this.doc,line=getLine(doc,pos.line).text;var start=pos.ch,end=pos.ch;if(line){var helper=this.getHelper(pos,"wordChars");if((pos.xRel<0||end==line.length)&&start){--start}else{++end}var startChar=line.charAt(start);var check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper)}:/\s/.test(startChar)?function(ch){return/\s/.test(ch)}:function(ch){return!/\s/.test(ch)&&!isWordChar(ch)};while(start>0&&check(line.charAt(start-1))){--start}while(end<line.length&&check(line.charAt(end))){++end}}return new Range(Pos(pos.line,start),Pos(pos.line,end))},toggleOverwrite:function(value){if(value!=null&&value==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){addClass(this.display.cursorDiv,"CodeMirror-overwrite")}else{rmClass(this.display.cursorDiv,"CodeMirror-overwrite")}signal(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==activeElt()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:methodOp(function(x,y){if(x!=null||y!=null){resolveScrollToPos(this)}if(x!=null){this.curOp.scrollLeft=x}if(y!=null){this.curOp.scrollTop=y}}),getScrollInfo:function(){var scroller=this.display.scroller;return{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(range,margin){if(range==null){range={from:this.doc.sel.primary().head,to:null};if(margin==null){margin=this.options.cursorScrollMargin}}else if(typeof range=="number"){range={from:Pos(range,0),to:null}}else if(range.from==null){range={from:range,to:null}}if(!range.to){range.to=range.from}range.margin=margin||0;if(range.from.line!=null){resolveScrollToPos(this);this.curOp.scrollToPos=range}else{var sPos=calculateScrollPos(this,Math.min(range.from.left,range.to.left),Math.min(range.from.top,range.to.top)-range.margin,Math.max(range.from.right,range.to.right),Math.max(range.from.bottom,range.to.bottom)+range.margin);this.scrollTo(sPos.scrollLeft,sPos.scrollTop)}}),setSize:methodOp(function(width,height){var this$1=this;var interpret=function(val){return typeof val=="number"||/^\d+$/.test(String(val))?val+"px":val};if(width!=null){this.display.wrapper.style.width=interpret(width)}if(height!=null){this.display.wrapper.style.height=interpret(height)}if(this.options.lineWrapping){clearLineMeasurementCache(this)}var lineNo=this.display.viewFrom;this.doc.iter(lineNo,this.display.viewTo,function(line){if(line.widgets){for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].noHScroll){regLineChange(this$1,lineNo,"widget");break}}}++lineNo});this.curOp.forceUpdate=true;signal(this,"refresh",this)}),operation:function(f){return runInOp(this,f)},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;regChange(this);this.curOp.forceUpdate=true;clearCaches(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);updateGutterSpace(this);if(oldHeight==null||Math.abs(oldHeight-textHeight(this.display))>.5){estimateLineHeights(this)}signal(this,"refresh",this)}),swapDoc:methodOp(function(doc){var old=this.doc;old.cm=null;attachDoc(this,doc);clearCaches(this);this.display.input.reset();this.scrollTo(doc.scrollLeft,doc.scrollTop);this.curOp.forceScroll=true;signalLater(this,"swapDoc",this,old);return old}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};eventMixin(CodeMirror);CodeMirror.registerHelper=function(type,name,value){if(!helpers.hasOwnProperty(type)){helpers[type]=CodeMirror[type]={_global:[]}}helpers[type][name]=value};CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value);helpers[type]._global.push({pred:predicate,val:value})}}function findPosH(doc,pos,dir,unit,visually){var line=pos.line,ch=pos.ch,origDir=dir;var lineObj=getLine(doc,line);function findNextLine(){var l=line+dir;if(l<doc.first||l>=doc.first+doc.size){return false}line=l;return lineObj=getLine(doc,l)}function moveOnce(boundToLine){var next=(visually?moveVisually:moveLogically)(lineObj,ch,dir,true);if(next==null){if(!boundToLine&&findNextLine()){if(visually){ch=(dir<0?lineRight:lineLeft)(lineObj)}else{ch=dir<0?lineObj.text.length:0}}else{return false}}else{ch=next}return true}if(unit=="char"){moveOnce()}else if(unit=="column"){moveOnce(true)}else if(unit=="word"||unit=="group"){var sawType=null,group=unit=="group";var helper=doc.cm&&doc.cm.getHelper(pos,"wordChars");for(var first=true;;first=false){if(dir<0&&!moveOnce(!first)){break}var cur=lineObj.text.charAt(ch)||"\n";var type=isWordChar(cur,helper)?"w":group&&cur=="\n"?"n":!group||/\s/.test(cur)?null:"p";if(group&&!first&&!type){type="s"}if(sawType&&sawType!=type){if(dir<0){dir=1;moveOnce()}break}if(type){sawType=type}if(dir>0&&!moveOnce(!first)){break}}}var result=skipAtomic(doc,Pos(line,ch),pos,origDir,true);if(!cmp(pos,result)){result.hitSide=true}return result}function findPosV(cm,pos,dir,unit){var doc=cm.doc,x=pos.left,y;if(unit=="page"){var pageSize=Math.min(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);var moveAmount=Math.max(pageSize-.5*textHeight(cm.display),3);y=(dir>0?pos.bottom:pos.top)+dir*moveAmount}else if(unit=="line"){y=dir>0?pos.bottom+3:pos.top-3}var target;for(;;){target=coordsChar(cm,x,y);if(!target.outside){break}if(dir<0?y<=0:y>=doc.height){target.hitSide=true;break}y+=dir*5}return target}function ContentEditableInput(cm){this.cm=cm;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Delayed;this.gracePeriod=false}ContentEditableInput.prototype=copyObj({init:function(display){var input=this,cm=input.cm;var div=input.div=display.lineDiv;disableBrowserMagic(div,cm.options.spellcheck);on(div,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm)){return}if(ie_version<=11){setTimeout(operation(cm,function(){if(!input.pollContent()){regChange(cm)}}),20)}});on(div,"compositionstart",function(e){var data=e.data;input.composing={sel:cm.doc.sel,data:data,startData:data};if(!data){return}var prim=cm.doc.sel.primary();var line=cm.getLine(prim.head.line);var found=line.indexOf(data,Math.max(0,prim.head.ch-data.length));if(found>-1&&found<=prim.head.ch){input.composing.sel=simpleSelection(Pos(prim.head.line,found),Pos(prim.head.line,found+data.length))}});on(div,"compositionupdate",function(e){return input.composing.data=e.data});on(div,"compositionend",function(e){var ours=input.composing;if(!ours){return}if(e.data!=ours.startData&&!/\u200b/.test(e.data)){ours.data=e.data}setTimeout(function(){if(!ours.handled){input.applyComposition(ours)}if(input.composing==ours){input.composing=null}},50)});on(div,"touchstart",function(){return input.forceCompositionEnd()});on(div,"input",function(){if(input.composing){return}if(cm.isReadOnly()||!input.pollContent()){runInOp(input.cm,function(){return regChange(cm)})}});function onCopyCut(e){if(signalDOMEvent(cm,e)){return}if(cm.somethingSelected()){setLastCopied({lineWise:false,text:cm.getSelections()});if(e.type=="cut"){cm.replaceSelection("",null,"cut")}}else if(!cm.options.lineWiseCopyCut){return}else{var ranges=copyableRanges(cm);setLastCopied({lineWise:true,text:ranges.text});if(e.type=="cut"){cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll);cm.replaceSelection("",null,"cut")})}}if(e.clipboardData){e.clipboardData.clearData();var content=lastCopied.text.join("\n");e.clipboardData.setData("Text",content);if(e.clipboardData.getData("Text")==content){e.preventDefault();return}}var kludge=hiddenTextarea(),te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild);te.value=lastCopied.text.join("\n");var hadFocus=document.activeElement;selectInput(te);setTimeout(function(){cm.display.lineSpace.removeChild(kludge);hadFocus.focus();if(hadFocus==div){input.showPrimarySelection()}},50)}on(div,"copy",onCopyCut);on(div,"cut",onCopyCut)},prepareSelection:function(){var result=prepareSelection(this.cm,false);result.focus=this.cm.state.focused;return result},showSelection:function(info,takeFocus){if(!info||!this.cm.display.view.length){return}if(info.focus||takeFocus){this.showPrimarySelection()}this.showMultipleSelections(info)},showPrimarySelection:function(){var sel=window.getSelection(),prim=this.cm.doc.sel.primary();var curAnchor=domToPos(this.cm,sel.anchorNode,sel.anchorOffset);var curFocus=domToPos(this.cm,sel.focusNode,sel.focusOffset);if(curAnchor&&!curAnchor.bad&&curFocus&&!curFocus.bad&&cmp(minPos(curAnchor,curFocus),prim.from())==0&&cmp(maxPos(curAnchor,curFocus),prim.to())==0){return}var start=posToDOM(this.cm,prim.from());var end=posToDOM(this.cm,prim.to());if(!start&&!end){return}var view=this.cm.display.view;var old=sel.rangeCount&&sel.getRangeAt(0);if(!start){start={node:view[0].measure.map[2],offset:0}}else if(!end){var measure=view[view.length-1].measure;var map=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map[map.length-1],offset:map[map.length-2]-map[map.length-3]}}var rng;try{rng=range(start.node,start.offset,end.offset,end.node)}catch(e){}if(rng){if(!gecko&&this.cm.state.focused){sel.collapse(start.node,start.offset);if(!rng.collapsed){sel.removeAllRanges();sel.addRange(rng)}}else{sel.removeAllRanges();sel.addRange(rng)}if(old&&sel.anchorNode==null){sel.addRange(old)}else if(gecko){this.startGracePeriod()}}this.rememberSelection()},startGracePeriod:function(){var this$1=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){this$1.gracePeriod=false;if(this$1.selectionChanged()){this$1.cm.operation(function(){return this$1.cm.curOp.selectionChanged=true})}},20)},showMultipleSelections:function(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors);removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection)},rememberSelection:function(){var sel=window.getSelection();this.lastAnchorNode=sel.anchorNode;this.lastAnchorOffset=sel.anchorOffset;this.lastFocusNode=sel.focusNode;this.lastFocusOffset=sel.focusOffset},selectionInEditor:function(){var sel=window.getSelection();if(!sel.rangeCount){return false}var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node)},focus:function(){if(this.cm.options.readOnly!="nocursor"){this.div.focus()}},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return true},receivedFocus:function(){var input=this;if(this.selectionInEditor()){this.pollSelection()}else{runInOp(this.cm,function(){return input.cm.curOp.selectionChanged=true})}function poll(){if(input.cm.state.focused){input.pollSelection();input.polling.set(input.cm.options.pollInterval,poll)}}this.polling.set(this.cm.options.pollInterval,poll)},selectionChanged:function(){var sel=window.getSelection();return sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var sel=window.getSelection(),cm=this.cm;this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset);var head=domToPos(cm,sel.focusNode,sel.focusOffset);if(anchor&&head){runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll);if(anchor.bad||head.bad){cm.curOp.selectionChanged=true}})}}},pollContent:function(){var cm=this.cm,display=cm.display,sel=cm.doc.sel.primary();var from=sel.from(),to=sel.to();if(from.line<display.viewFrom||to.line>display.viewTo-1){return false}var fromIndex,fromLine,fromNode;if(from.line==display.viewFrom||(fromIndex=findViewIndex(cm,from.line))==0){fromLine=lineNo(display.view[0].line);fromNode=display.view[0].node}else{fromLine=lineNo(display.view[fromIndex].line);fromNode=display.view[fromIndex-1].node.nextSibling}var toIndex=findViewIndex(cm,to.line);var toLine,toNode;if(toIndex==display.view.length-1){
toLine=display.viewTo-1;toNode=display.lineDiv.lastChild}else{toLine=lineNo(display.view[toIndex+1].line)-1;toNode=display.view[toIndex+1].node.previousSibling}var newText=cm.doc.splitLines(domTextBetween(cm,fromNode,toNode,fromLine,toLine));var oldText=getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));while(newText.length>1&&oldText.length>1){if(lst(newText)==lst(oldText)){newText.pop();oldText.pop();toLine--}else if(newText[0]==oldText[0]){newText.shift();oldText.shift();fromLine++}else{break}}var cutFront=0,cutEnd=0;var newTop=newText[0],oldTop=oldText[0],maxCutFront=Math.min(newTop.length,oldTop.length);while(cutFront<maxCutFront&&newTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront)){++cutFront}var newBot=lst(newText),oldBot=lst(oldText);var maxCutEnd=Math.min(newBot.length-(newText.length==1?cutFront:0),oldBot.length-(oldText.length==1?cutFront:0));while(cutEnd<maxCutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1)){++cutEnd}newText[newText.length-1]=newBot.slice(0,newBot.length-cutEnd);newText[0]=newText[0].slice(cutFront);var chFrom=Pos(fromLine,cutFront);var chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);if(newText.length>1||newText[0]||cmp(chFrom,chTo)){replaceRange(cm.doc,newText,chFrom,chTo,"+input");return true}},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){if(!this.composing||this.composing.handled){return}this.applyComposition(this.composing);this.composing.handled=true;this.div.blur();this.div.focus()},applyComposition:function(composing){if(this.cm.isReadOnly()){operation(this.cm,regChange)(this.cm)}else if(composing.data&&composing.data!=composing.startData){operation(this.cm,applyTextInput)(this.cm,composing.data,0,composing.sel)}},setUneditable:function(node){node.contentEditable="false"},onKeyPress:function(e){e.preventDefault();if(!this.cm.isReadOnly()){operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0)}},readOnlyChanged:function(val){this.div.contentEditable=String(val!="nocursor")},onContextMenu:nothing,resetPosition:nothing,needsContentAttribute:true},ContentEditableInput.prototype);function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden){return null}var line=getLine(cm.doc,pos.line);var info=mapFromLineView(view,line,pos.line);var order=getOrder(line),side="left";if(order){var partPos=getBidiPartAt(order,pos.ch);side=partPos%2?"right":"left"}var result=nodeAndOffsetInLineMap(info.map,pos.ch,side);result.offset=result.collapse=="right"?result.end:result.start;return result}function badPos(pos,bad){if(bad){pos.bad=true}return pos}function domTextBetween(cm,from,to,fromLine,toLine){var text="",closing=false,lineSep=cm.doc.lineSeparator();function recognizeMarker(id){return function(marker){return marker.id==id}}function walk(node){if(node.nodeType==1){var cmText=node.getAttribute("cm-text");if(cmText!=null){if(cmText==""){cmText=node.textContent.replace(/\u200b/g,"")}text+=cmText;return}var markerID=node.getAttribute("cm-marker"),range;if(markerID){var found=cm.findMarks(Pos(fromLine,0),Pos(toLine+1,0),recognizeMarker(+markerID));if(found.length&&(range=found[0].find())){text+=getBetween(cm.doc,range.from,range.to).join(lineSep)}return}if(node.getAttribute("contenteditable")=="false"){return}for(var i=0;i<node.childNodes.length;i++){walk(node.childNodes[i])}if(/^(pre|div|p)$/i.test(node.nodeName)){closing=true}}else if(node.nodeType==3){var val=node.nodeValue;if(!val){return}if(closing){text+=lineSep;closing=false}text+=val}}for(;;){walk(from);if(from==to){break}from=from.nextSibling}return text}function domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){lineNode=cm.display.lineDiv.childNodes[offset];if(!lineNode){return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),true)}node=null;offset=0}else{for(lineNode=node;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv){return null}if(lineNode.parentNode&&lineNode.parentNode==cm.display.lineDiv){break}}}for(var i=0;i<cm.display.view.length;i++){var lineView=cm.display.view[i];if(lineView.node==lineNode){return locateNodeInLineView(lineView,node,offset)}}}function locateNodeInLineView(lineView,node,offset){var wrapper=lineView.text.firstChild,bad=false;if(!node||!contains(wrapper,node)){return badPos(Pos(lineNo(lineView.line),0),true)}if(node==wrapper){bad=true;node=wrapper.childNodes[offset];offset=0;if(!node){var line=lineView.rest?lst(lineView.rest):lineView.line;return badPos(Pos(lineNo(line),line.text.length),bad)}}var textNode=node.nodeType==3?node:null,topNode=node;if(!textNode&&node.childNodes.length==1&&node.firstChild.nodeType==3){textNode=node.firstChild;if(offset){offset=textNode.nodeValue.length}}while(topNode.parentNode!=wrapper){topNode=topNode.parentNode}var measure=lineView.measure,maps=measure.maps;function find(textNode,topNode,offset){for(var i=-1;i<(maps?maps.length:0);i++){var map=i<0?measure.map:maps[i];for(var j=0;j<map.length;j+=3){var curNode=map[j+2];if(curNode==textNode||curNode==topNode){var line=lineNo(i<0?lineView.line:lineView.rest[i]);var ch=map[j]+offset;if(offset<0||curNode!=textNode){ch=map[j+(offset?1:0)]}return Pos(line,ch)}}}}var found=find(textNode,topNode,offset);if(found){return badPos(found,bad)}for(var after=topNode.nextSibling,dist=textNode?textNode.nodeValue.length-offset:0;after;after=after.nextSibling){found=find(after,after.firstChild,0);if(found){return badPos(Pos(found.line,found.ch-dist),bad)}else{dist+=after.textContent.length}}for(var before=topNode.previousSibling,dist$1=offset;before;before=before.previousSibling){found=find(before,before.firstChild,-1);if(found){return badPos(Pos(found.line,found.ch+dist$1),bad)}else{dist$1+=before.textContent.length}}}function TextareaInput(cm){this.cm=cm;this.prevInput="";this.pollingFast=false;this.polling=new Delayed;this.inaccurateSelection=false;this.hasSelection=false;this.composing=null}TextareaInput.prototype=copyObj({init:function(display){var this$1=this;var input=this,cm=this.cm;var div=this.wrapper=hiddenTextarea();var te=this.textarea=div.firstChild;display.wrapper.insertBefore(div,display.wrapper.firstChild);if(ios){te.style.width="0px"}on(te,"input",function(){if(ie&&ie_version>=9&&this$1.hasSelection){this$1.hasSelection=null}input.poll()});on(te,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm)){return}cm.state.pasteIncoming=true;input.fastPoll()});function prepareCopyCut(e){if(signalDOMEvent(cm,e)){return}if(cm.somethingSelected()){setLastCopied({lineWise:false,text:cm.getSelections()});if(input.inaccurateSelection){input.prevInput="";input.inaccurateSelection=false;te.value=lastCopied.text.join("\n");selectInput(te)}}else if(!cm.options.lineWiseCopyCut){return}else{var ranges=copyableRanges(cm);setLastCopied({lineWise:true,text:ranges.text});if(e.type=="cut"){cm.setSelections(ranges.ranges,null,sel_dontScroll)}else{input.prevInput="";te.value=ranges.text.join("\n");selectInput(te)}}if(e.type=="cut"){cm.state.cutIncoming=true}}on(te,"cut",prepareCopyCut);on(te,"copy",prepareCopyCut);on(display.scroller,"paste",function(e){if(eventInWidget(display,e)||signalDOMEvent(cm,e)){return}cm.state.pasteIncoming=true;input.focus()});on(display.lineSpace,"selectstart",function(e){if(!eventInWidget(display,e)){e_preventDefault(e)}});on(te,"compositionstart",function(){var start=cm.getCursor("from");if(input.composing){input.composing.range.clear()}input.composing={start:start,range:cm.markText(start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});on(te,"compositionend",function(){if(input.composing){input.poll();input.composing.range.clear();input.composing=null}})},prepareSelection:function(){var cm=this.cm,display=cm.display,doc=cm.doc;var result=prepareSelection(cm);if(cm.options.moveInputWithCursor){var headPos=cursorCoords(cm,doc.sel.primary().head,"div");var wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();result.teTop=Math.max(0,Math.min(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top));result.teLeft=Math.max(0,Math.min(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left))}return result},showSelection:function(drawn){var cm=this.cm,display=cm.display;removeChildrenAndAdd(display.cursorDiv,drawn.cursors);removeChildrenAndAdd(display.selectionDiv,drawn.selection);if(drawn.teTop!=null){this.wrapper.style.top=drawn.teTop+"px";this.wrapper.style.left=drawn.teLeft+"px"}},reset:function(typing){if(this.contextMenuPending){return}var minimal,selected,cm=this.cm,doc=cm.doc;if(cm.somethingSelected()){this.prevInput="";var range=doc.sel.primary();minimal=hasCopyEvent&&(range.to().line-range.from().line>100||(selected=cm.getSelection()).length>1e3);var content=minimal?"-":selected||cm.getSelection();this.textarea.value=content;if(cm.state.focused){selectInput(this.textarea)}if(ie&&ie_version>=9){this.hasSelection=content}}else if(!typing){this.prevInput=this.textarea.value="";if(ie&&ie_version>=9){this.hasSelection=null}}this.inaccurateSelection=minimal},getField:function(){return this.textarea},supportsTouch:function(){return false},focus:function(){if(this.cm.options.readOnly!="nocursor"&&(!mobile||activeElt()!=this.textarea)){try{this.textarea.focus()}catch(e){}}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var this$1=this;if(this.pollingFast){return}this.polling.set(this.cm.options.pollInterval,function(){this$1.poll();if(this$1.cm.state.focused){this$1.slowPoll()}})},fastPoll:function(){var missed=false,input=this;input.pollingFast=true;function p(){var changed=input.poll();if(!changed&&!missed){missed=true;input.polling.set(60,p)}else{input.pollingFast=false;input.slowPoll()}}input.polling.set(20,p)},poll:function(){var this$1=this;var cm=this.cm,input=this.textarea,prevInput=this.prevInput;if(this.contextMenuPending||!cm.state.focused||hasSelection(input)&&!prevInput&&!this.composing||cm.isReadOnly()||cm.options.disableInput||cm.state.keySeq){return false}var text=input.value;if(text==prevInput&&!cm.somethingSelected()){return false}if(ie&&ie_version>=9&&this.hasSelection===text||mac&&/[\uf700-\uf7ff]/.test(text)){cm.display.input.reset();return false}if(cm.doc.sel==cm.display.selForContextMenu){var first=text.charCodeAt(0);if(first==8203&&!prevInput){prevInput="​"}if(first==8666){this.reset();return this.cm.execCommand("undo")}}var same=0,l=Math.min(prevInput.length,text.length);while(same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same)){++same}runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same,null,this$1.composing?"*compose":null);if(text.length>1e3||text.indexOf("\n")>-1){input.value=this$1.prevInput=""}else{this$1.prevInput=text}if(this$1.composing){this$1.composing.range.clear();this$1.composing.range=cm.markText(this$1.composing.start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});return true},ensurePolled:function(){if(this.pollingFast&&this.poll()){this.pollingFast=false}},onKeyPress:function(){if(ie&&ie_version>=9){this.hasSelection=null}this.fastPoll()},onContextMenu:function(e){var input=this,cm=input.cm,display=cm.display,te=input.textarea;var pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;if(!pos||presto){return}var reset=cm.options.resetSelectionOnContextMenu;if(reset&&cm.doc.sel.contains(pos)==-1){operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll)}var oldCSS=te.style.cssText,oldWrapperCSS=input.wrapper.style.cssText;input.wrapper.style.cssText="position: absolute";var wrapperBox=input.wrapper.getBoundingClientRect();te.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-wrapperBox.top-5)+"px; left: "+(e.clientX-wrapperBox.left-5)+"px;\n      z-index: 1000; background: "+(ie?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var oldScrollY;if(webkit){oldScrollY=window.scrollY}display.input.focus();if(webkit){window.scrollTo(null,oldScrollY)}display.input.reset();if(!cm.somethingSelected()){te.value=input.prevInput=" "}input.contextMenuPending=true;display.selForContextMenu=cm.doc.sel;clearTimeout(display.detectingSelectAll);function prepareSelectAllHack(){if(te.selectionStart!=null){var selected=cm.somethingSelected();var extval="​"+(selected?te.value:"");te.value="⇚";te.value=extval;input.prevInput=selected?"":"​";te.selectionStart=1;te.selectionEnd=extval.length;display.selForContextMenu=cm.doc.sel}}function rehide(){input.contextMenuPending=false;input.wrapper.style.cssText=oldWrapperCSS;te.style.cssText=oldCSS;if(ie&&ie_version<9){display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos)}if(te.selectionStart!=null){if(!ie||ie&&ie_version<9){prepareSelectAllHack()}var i=0,poll=function(){if(display.selForContextMenu==cm.doc.sel&&te.selectionStart==0&&te.selectionEnd>0&&input.prevInput=="​"){operation(cm,selectAll)(cm)}else if(i++<10){display.detectingSelectAll=setTimeout(poll,500)}else{display.input.reset()}};display.detectingSelectAll=setTimeout(poll,200)}}if(ie&&ie_version>=9){prepareSelectAllHack()}if(captureRightClick){e_stop(e);var mouseup=function(){off(window,"mouseup",mouseup);setTimeout(rehide,20)};on(window,"mouseup",mouseup)}else{setTimeout(rehide,50)}},readOnlyChanged:function(val){if(!val){this.reset()}},setUneditable:nothing,needsContentAttribute:false},TextareaInput.prototype);function fromTextArea(textarea,options){options=options?copyObj(options):{};options.value=textarea.value;if(!options.tabindex&&textarea.tabIndex){options.tabindex=textarea.tabIndex}if(!options.placeholder&&textarea.placeholder){options.placeholder=textarea.placeholder}if(options.autofocus==null){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||textarea.getAttribute("autofocus")!=null&&hasFocus==document.body}function save(){textarea.value=cm.getValue()}var realSubmit;if(textarea.form){on(textarea.form,"submit",save);if(!options.leaveSubmitMethodAlone){var form=textarea.form;realSubmit=form.submit;try{var wrappedSubmit=form.submit=function(){save();form.submit=realSubmit;form.submit();form.submit=wrappedSubmit}}catch(e){}}}options.finishInit=function(cm){cm.save=save;cm.getTextArea=function(){return textarea};cm.toTextArea=function(){cm.toTextArea=isNaN;save();textarea.parentNode.removeChild(cm.getWrapperElement());textarea.style.display="";if(textarea.form){off(textarea.form,"submit",save);if(typeof textarea.form.submit=="function"){textarea.form.submit=realSubmit}}}};textarea.style.display="none";var cm=CodeMirror(function(node){return textarea.parentNode.insertBefore(node,textarea.nextSibling)},options);return cm}function addLegacyProps(CodeMirror){CodeMirror.off=off;CodeMirror.on=on;CodeMirror.wheelEventPixels=wheelEventPixels;CodeMirror.Doc=Doc;CodeMirror.splitLines=splitLinesAuto;CodeMirror.countColumn=countColumn;CodeMirror.findColumn=findColumn;CodeMirror.isWordChar=isWordCharBasic;CodeMirror.Pass=Pass;CodeMirror.signal=signal;CodeMirror.Line=Line;CodeMirror.changeEnd=changeEnd;CodeMirror.scrollbarModel=scrollbarModel;CodeMirror.Pos=Pos;CodeMirror.cmpPos=cmp;CodeMirror.modes=modes;CodeMirror.mimeModes=mimeModes;CodeMirror.resolveMode=resolveMode;CodeMirror.getMode=getMode;CodeMirror.modeExtensions=modeExtensions;CodeMirror.extendMode=extendMode;CodeMirror.copyState=copyState;CodeMirror.startState=startState;CodeMirror.innerMode=innerMode;CodeMirror.commands=commands;CodeMirror.keyMap=keyMap;CodeMirror.keyName=keyName;CodeMirror.isModifierKey=isModifierKey;CodeMirror.lookupKey=lookupKey;CodeMirror.normalizeKeyMap=normalizeKeyMap;CodeMirror.StringStream=StringStream;CodeMirror.SharedTextMarker=SharedTextMarker;CodeMirror.TextMarker=TextMarker;CodeMirror.LineWidget=LineWidget;CodeMirror.e_preventDefault=e_preventDefault;CodeMirror.e_stopPropagation=e_stopPropagation;CodeMirror.e_stop=e_stop;CodeMirror.addClass=addClass;CodeMirror.contains=contains;CodeMirror.rmClass=rmClass;CodeMirror.keyNames=keyNames}defineOptions(CodeMirror);addEditorMethods(CodeMirror);var dontDelegate="iter insert remove copy getEditor constructor".split(" ");for(var prop in Doc.prototype){if(Doc.prototype.hasOwnProperty(prop)&&indexOf(dontDelegate,prop)<0){CodeMirror.prototype[prop]=function(method){return function(){return method.apply(this.doc,arguments)}}(Doc.prototype[prop])}}eventMixin(Doc);CodeMirror.inputStyles={textarea:TextareaInput,contenteditable:ContentEditableInput};CodeMirror.defineMode=function(name){if(!CodeMirror.defaults.mode&&name!="null"){CodeMirror.defaults.mode=name}defineMode.apply(this,arguments)};CodeMirror.defineMIME=defineMIME;CodeMirror.defineMode("null",function(){return{token:function(stream){return stream.skipToEnd()}}});CodeMirror.defineMIME("text/plain","null");CodeMirror.defineExtension=function(name,func){CodeMirror.prototype[name]=func};CodeMirror.defineDocExtension=function(name,func){Doc.prototype[name]=func};CodeMirror.fromTextArea=fromTextArea;addLegacyProps(CodeMirror);CodeMirror.version="5.20.2";return CodeMirror})},{}],5:[function(require,module,exports){(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../xml/xml"),require("../meta"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../xml/xml","../meta"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.defineMode("markdown",function(cmCfg,modeCfg){var htmlMode=CodeMirror.getMode(cmCfg,"text/html");var htmlModeMissing=htmlMode.name=="null";function getMode(name){if(CodeMirror.findModeByName){var found=CodeMirror.findModeByName(name);if(found)name=found.mime||found.mimes[0]}var mode=CodeMirror.getMode(cmCfg,name);return mode.name=="null"?null:mode}if(modeCfg.highlightFormatting===undefined)modeCfg.highlightFormatting=false;if(modeCfg.maxBlockquoteDepth===undefined)modeCfg.maxBlockquoteDepth=0;if(modeCfg.underscoresBreakWords===undefined)modeCfg.underscoresBreakWords=true;if(modeCfg.taskLists===undefined)modeCfg.taskLists=false;if(modeCfg.strikethrough===undefined)modeCfg.strikethrough=false;if(modeCfg.tokenTypeOverrides===undefined)modeCfg.tokenTypeOverrides={};var tokenTypes={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var tokenType in tokenTypes){if(tokenTypes.hasOwnProperty(tokenType)&&modeCfg.tokenTypeOverrides[tokenType]){tokenTypes[tokenType]=modeCfg.tokenTypeOverrides[tokenType]}}var hrRE=/^([*\-_])(?:\s*\1){2,}\s*$/,ulRE=/^[*\-+]\s+/,olRE=/^[0-9]+([.)])\s+/,taskListRE=/^\[(x| )\](?=\s)/,atxHeaderRE=modeCfg.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,setextHeaderRE=/^ *(?:\={1,}|-{1,})\s*$/,textRE=/^[^#!\[\]*_\\<>` "'(~]+/,fencedCodeRE=new RegExp("^("+(modeCfg.fencedCodeBlocks===true?"~~~+|```+":modeCfg.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)");function switchInline(stream,state,f){state.f=state.inline=f;return f(stream,state)}function switchBlock(stream,state,f){state.f=state.block=f;return f(stream,state)}function lineIsEmpty(line){return!line||!/\S/.test(line.string)}function blankLine(state){state.linkTitle=false;state.em=false;state.strong=false;state.strikethrough=false;state.quote=0;state.indentedCode=false;if(htmlModeMissing&&state.f==htmlBlock){state.f=inlineNormal;state.block=blockNormal}state.trailingSpace=0;state.trailingSpaceNewLine=false;state.prevLine=state.thisLine;state.thisLine=null;return null}function blockNormal(stream,state){var sol=stream.sol();var prevLineIsList=state.list!==false,prevLineIsIndentedCode=state.indentedCode;state.indentedCode=false;if(prevLineIsList){if(state.indentationDiff>=0){if(state.indentationDiff<4){state.indentation-=state.indentationDiff}state.list=null}else if(state.indentation>0){state.list=null}else{state.list=false}}var match=null;if(state.indentationDiff>=4){stream.skipToEnd();if(prevLineIsIndentedCode||lineIsEmpty(state.prevLine)){state.indentation-=4;state.indentedCode=true;return tokenTypes.code}else{return null}}else if(stream.eatSpace()){return null}else if((match=stream.match(atxHeaderRE))&&match[1].length<=6){state.header=match[1].length;if(modeCfg.highlightFormatting)state.formatting="header";state.f=state.inline;return getType(state)}else if(!lineIsEmpty(state.prevLine)&&!state.quote&&!prevLineIsList&&!prevLineIsIndentedCode&&(match=stream.match(setextHeaderRE))){state.header=match[0].charAt(0)=="="?1:2;if(modeCfg.highlightFormatting)state.formatting="header";state.f=state.inline;return getType(state)}else if(stream.eat(">")){state.quote=sol?1:state.quote+1;if(modeCfg.highlightFormatting)state.formatting="quote";stream.eatSpace();return getType(state)}else if(stream.peek()==="["){return switchInline(stream,state,footnoteLink)}else if(stream.match(hrRE,true)){state.hr=true;return tokenTypes.hr}else if((lineIsEmpty(state.prevLine)||prevLineIsList)&&(stream.match(ulRE,false)||stream.match(olRE,false))){var listType=null;if(stream.match(ulRE,true)){listType="ul"}else{stream.match(olRE,true);listType="ol"}state.indentation=stream.column()+stream.current().length;state.list=true;while(state.listStack&&stream.column()<state.listStack[state.listStack.length-1]){state.listStack.pop()}state.listStack.push(state.indentation);if(modeCfg.taskLists&&stream.match(taskListRE,false)){state.taskList=true}state.f=state.inline;if(modeCfg.highlightFormatting)state.formatting=["list","list-"+listType];return getType(state)}else if(modeCfg.fencedCodeBlocks&&(match=stream.match(fencedCodeRE,true))){state.fencedChars=match[1];state.localMode=getMode(match[2]);if(state.localMode)state.localState=CodeMirror.startState(state.localMode);state.f=state.block=local;if(modeCfg.highlightFormatting)state.formatting="code-block";state.code=-1;return getType(state)}return switchInline(stream,state,state.inline)}function htmlBlock(stream,state){var style=htmlMode.token(stream,state.htmlState);if(!htmlModeMissing){var inner=CodeMirror.innerMode(htmlMode,state.htmlState);if(inner.mode.name=="xml"&&inner.state.tagStart===null&&(!inner.state.context&&inner.state.tokenize.isInText)||state.md_inside&&stream.current().indexOf(">")>-1){state.f=inlineNormal;state.block=blockNormal;state.htmlState=null}}return style}function local(stream,state){if(state.fencedChars&&stream.match(state.fencedChars,false)){state.localMode=state.localState=null;state.f=state.block=leavingLocal;return null}else if(state.localMode){return state.localMode.token(stream,state.localState)}else{stream.skipToEnd();return tokenTypes.code}}function leavingLocal(stream,state){stream.match(state.fencedChars);state.block=blockNormal;state.f=inlineNormal;state.fencedChars=null;if(modeCfg.highlightFormatting)state.formatting="code-block";state.code=1;var returnType=getType(state);state.code=0;return returnType}function getType(state){var styles=[];if(state.formatting){styles.push(tokenTypes.formatting);if(typeof state.formatting==="string")state.formatting=[state.formatting];for(var i=0;i<state.formatting.length;i++){styles.push(tokenTypes.formatting+"-"+state.formatting[i]);if(state.formatting[i]==="header"){styles.push(tokenTypes.formatting+"-"+state.formatting[i]+"-"+state.header)}if(state.formatting[i]==="quote"){if(!modeCfg.maxBlockquoteDepth||modeCfg.maxBlockquoteDepth>=state.quote){styles.push(tokenTypes.formatting+"-"+state.formatting[i]+"-"+state.quote)}else{styles.push("error")}}}}if(state.taskOpen){styles.push("meta");return styles.length?styles.join(" "):null}if(state.taskClosed){styles.push("property");return styles.length?styles.join(" "):null}if(state.linkHref){styles.push(tokenTypes.linkHref,"url")}else{if(state.strong){styles.push(tokenTypes.strong)}if(state.em){styles.push(tokenTypes.em)}if(state.strikethrough){styles.push(tokenTypes.strikethrough)}if(state.linkText){styles.push(tokenTypes.linkText)}if(state.code){styles.push(tokenTypes.code)}if(state.image){styles.push(tokenTypes.image)}if(state.imageAltText){styles.push(tokenTypes.imageAltText,"link")}if(state.imageMarker){styles.push(tokenTypes.imageMarker)}}if(state.header){styles.push(tokenTypes.header,tokenTypes.header+"-"+state.header)}if(state.quote){styles.push(tokenTypes.quote);if(!modeCfg.maxBlockquoteDepth||modeCfg.maxBlockquoteDepth>=state.quote){styles.push(tokenTypes.quote+"-"+state.quote)}else{styles.push(tokenTypes.quote+"-"+modeCfg.maxBlockquoteDepth)}}if(state.list!==false){var listMod=(state.listStack.length-1)%3;if(!listMod){styles.push(tokenTypes.list1)}else if(listMod===1){styles.push(tokenTypes.list2)}else{styles.push(tokenTypes.list3)}}if(state.trailingSpaceNewLine){styles.push("trailing-space-new-line")}else if(state.trailingSpace){styles.push("trailing-space-"+(state.trailingSpace%2?"a":"b"))}return styles.length?styles.join(" "):null}function handleText(stream,state){if(stream.match(textRE,true)){return getType(state)}return undefined}function inlineNormal(stream,state){var style=state.text(stream,state);if(typeof style!=="undefined")return style;if(state.list){state.list=null;return getType(state)}if(state.taskList){var taskOpen=stream.match(taskListRE,true)[1]!=="x";if(taskOpen)state.taskOpen=true;else state.taskClosed=true;if(modeCfg.highlightFormatting)state.formatting="task";state.taskList=false;return getType(state)}state.taskOpen=false;state.taskClosed=false;if(state.header&&stream.match(/^#+$/,true)){if(modeCfg.highlightFormatting)state.formatting="header";return getType(state)}var sol=stream.sol();var ch=stream.next();if(state.linkTitle){state.linkTitle=false;var matchCh=ch;if(ch==="("){matchCh=")"}matchCh=(matchCh+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var regex="^\\s*(?:[^"+matchCh+"\\\\]+|\\\\\\\\|\\\\.)"+matchCh;if(stream.match(new RegExp(regex),true)){return tokenTypes.linkHref}}if(ch==="`"){var previousFormatting=state.formatting;if(modeCfg.highlightFormatting)state.formatting="code";stream.eatWhile("`");var count=stream.current().length;if(state.code==0){state.code=count;return getType(state)}else if(count==state.code){var t=getType(state);state.code=0;return t}else{state.formatting=previousFormatting;return getType(state)}}else if(state.code){return getType(state)}if(ch==="\\"){stream.next();if(modeCfg.highlightFormatting){var type=getType(state);var formattingEscape=tokenTypes.formatting+"-escape";return type?type+" "+formattingEscape:formattingEscape}}if(ch==="!"&&stream.match(/\[[^\]]*\] ?(?:\(|\[)/,false)){state.imageMarker=true;state.image=true;if(modeCfg.highlightFormatting)state.formatting="image";return getType(state)}if(ch==="["&&state.imageMarker){state.imageMarker=false;state.imageAltText=true;if(modeCfg.highlightFormatting)state.formatting="image";return getType(state)}if(ch==="]"&&state.imageAltText){if(modeCfg.highlightFormatting)state.formatting="image";var type=getType(state);state.imageAltText=false;state.image=false;state.inline=state.f=linkHref;return type}if(ch==="["&&stream.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,false)&&!state.image){state.linkText=true;if(modeCfg.highlightFormatting)state.formatting="link";return getType(state)}if(ch==="]"&&state.linkText&&stream.match(/\(.*?\)| ?\[.*?\]/,false)){if(modeCfg.highlightFormatting)state.formatting="link";var type=getType(state);state.linkText=false;state.inline=state.f=linkHref;return type}if(ch==="<"&&stream.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,false)){state.f=state.inline=linkInline;if(modeCfg.highlightFormatting)state.formatting="link";var type=getType(state);if(type){type+=" "}else{type=""}return type+tokenTypes.linkInline}if(ch==="<"&&stream.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,false)){state.f=state.inline=linkInline;if(modeCfg.highlightFormatting)state.formatting="link";var type=getType(state);if(type){type+=" "}else{type=""}return type+tokenTypes.linkEmail}if(ch==="<"&&stream.match(/^(!--|\w)/,false)){var end=stream.string.indexOf(">",stream.pos);if(end!=-1){var atts=stream.string.substring(stream.start,end);if(/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(atts))state.md_inside=true}stream.backUp(1);state.htmlState=CodeMirror.startState(htmlMode);return switchBlock(stream,state,htmlBlock)}if(ch==="<"&&stream.match(/^\/\w*?>/)){state.md_inside=false;return"tag"}var ignoreUnderscore=false;if(!modeCfg.underscoresBreakWords){if(ch==="_"&&stream.peek()!=="_"&&stream.match(/(\w)/,false)){var prevPos=stream.pos-2;if(prevPos>=0){var prevCh=stream.string.charAt(prevPos);if(prevCh!=="_"&&prevCh.match(/(\w)/,false)){ignoreUnderscore=true}}}}if(ch==="*"||ch==="_"&&!ignoreUnderscore){if(sol&&stream.peek()===" "){}else if(state.strong===ch&&stream.eat(ch)){if(modeCfg.highlightFormatting)state.formatting="strong";var t=getType(state);state.strong=false;return t}else if(!state.strong&&stream.eat(ch)){state.strong=ch;if(modeCfg.highlightFormatting)state.formatting="strong";return getType(state)}else if(state.em===ch){if(modeCfg.highlightFormatting)state.formatting="em";var t=getType(state);state.em=false;return t}else if(!state.em){state.em=ch;if(modeCfg.highlightFormatting)state.formatting="em";return getType(state)}}else if(ch===" "){if(stream.eat("*")||stream.eat("_")){if(stream.peek()===" "){return getType(state)}else{stream.backUp(1)}}}if(modeCfg.strikethrough){if(ch==="~"&&stream.eatWhile(ch)){if(state.strikethrough){if(modeCfg.highlightFormatting)state.formatting="strikethrough";var t=getType(state);state.strikethrough=false;return t}else if(stream.match(/^[^\s]/,false)){state.strikethrough=true;if(modeCfg.highlightFormatting)state.formatting="strikethrough";return getType(state)}}else if(ch===" "){if(stream.match(/^~~/,true)){if(stream.peek()===" "){return getType(state)}else{stream.backUp(2)}}}}if(ch===" "){if(stream.match(/ +$/,false)){state.trailingSpace++}else if(state.trailingSpace){state.trailingSpaceNewLine=true}}return getType(state)}function linkInline(stream,state){var ch=stream.next();if(ch===">"){state.f=state.inline=inlineNormal;if(modeCfg.highlightFormatting)state.formatting="link";var type=getType(state);if(type){type+=" "}else{type=""}return type+tokenTypes.linkInline}stream.match(/^[^>]+/,true);return tokenTypes.linkInline}function linkHref(stream,state){if(stream.eatSpace()){return null}var ch=stream.next();if(ch==="("||ch==="["){state.f=state.inline=getLinkHrefInside(ch==="("?")":"]",0);if(modeCfg.highlightFormatting)state.formatting="link-string";state.linkHref=true;return getType(state)}return"error"}var linkRE={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\\]]|\\.)*\])*?(?=\])/};function getLinkHrefInside(endChar){return function(stream,state){var ch=stream.next();if(ch===endChar){state.f=state.inline=inlineNormal;if(modeCfg.highlightFormatting)state.formatting="link-string";var returnState=getType(state);state.linkHref=false;return returnState}stream.match(linkRE[endChar]);state.linkHref=true;return getType(state)}}function footnoteLink(stream,state){if(stream.match(/^([^\]\\]|\\.)*\]:/,false)){state.f=footnoteLinkInside;stream.next();if(modeCfg.highlightFormatting)state.formatting="link";state.linkText=true;return getType(state)}return switchInline(stream,state,inlineNormal)}function footnoteLinkInside(stream,state){if(stream.match(/^\]:/,true)){state.f=state.inline=footnoteUrl;if(modeCfg.highlightFormatting)state.formatting="link";var returnType=getType(state);state.linkText=false;return returnType}stream.match(/^([^\]\\]|\\.)+/,true);return tokenTypes.linkText}function footnoteUrl(stream,state){if(stream.eatSpace()){return null}stream.match(/^[^\s]+/,true);if(stream.peek()===undefined){state.linkTitle=true}else{stream.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,true);
}state.f=state.inline=inlineNormal;return tokenTypes.linkHref+" url"}var mode={startState:function(){return{f:blockNormal,prevLine:null,thisLine:null,block:blockNormal,htmlState:null,indentation:0,inline:inlineNormal,text:handleText,formatting:false,linkText:false,linkHref:false,linkTitle:false,code:0,em:false,strong:false,header:0,hr:false,taskList:false,list:false,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:false,strikethrough:false,fencedChars:null}},copyState:function(s){return{f:s.f,prevLine:s.prevLine,thisLine:s.thisLine,block:s.block,htmlState:s.htmlState&&CodeMirror.copyState(htmlMode,s.htmlState),indentation:s.indentation,localMode:s.localMode,localState:s.localMode?CodeMirror.copyState(s.localMode,s.localState):null,inline:s.inline,text:s.text,formatting:false,linkTitle:s.linkTitle,code:s.code,em:s.em,strong:s.strong,strikethrough:s.strikethrough,header:s.header,hr:s.hr,taskList:s.taskList,list:s.list,listStack:s.listStack.slice(0),quote:s.quote,indentedCode:s.indentedCode,trailingSpace:s.trailingSpace,trailingSpaceNewLine:s.trailingSpaceNewLine,md_inside:s.md_inside,fencedChars:s.fencedChars}},token:function(stream,state){state.formatting=false;if(stream!=state.thisLine){var forceBlankLine=state.header||state.hr;state.header=0;state.hr=false;if(stream.match(/^\s*$/,true)||forceBlankLine){blankLine(state);if(!forceBlankLine)return null;state.prevLine=null}state.prevLine=state.thisLine;state.thisLine=stream;state.taskList=false;state.trailingSpace=0;state.trailingSpaceNewLine=false;state.f=state.block;var indentation=stream.match(/^\s*/,true)[0].replace(/\t/g,"    ").length;state.indentationDiff=Math.min(indentation-state.indentation,4);state.indentation=state.indentation+state.indentationDiff;if(indentation>0)return null}return state.f(stream,state)},innerMode:function(state){if(state.block==htmlBlock)return{state:state.htmlState,mode:htmlMode};if(state.localState)return{state:state.localState,mode:state.localMode};return{state:state,mode:mode}},blankLine:blankLine,getType:getType,closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return mode},"xml");CodeMirror.defineMIME("text/x-markdown","markdown")})},{"../../lib/codemirror":4,"../meta":6,"../xml/xml":7}],6:[function(require,module,exports){(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mime:"text/x-yaml",mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var i=0;i<CodeMirror.modeInfo.length;i++){var info=CodeMirror.modeInfo[i];if(info.mimes)info.mime=info.mimes[0]}CodeMirror.findModeByMIME=function(mime){mime=mime.toLowerCase();for(var i=0;i<CodeMirror.modeInfo.length;i++){var info=CodeMirror.modeInfo[i];if(info.mime==mime)return info;if(info.mimes)for(var j=0;j<info.mimes.length;j++)if(info.mimes[j]==mime)return info}};CodeMirror.findModeByExtension=function(ext){for(var i=0;i<CodeMirror.modeInfo.length;i++){var info=CodeMirror.modeInfo[i];if(info.ext)for(var j=0;j<info.ext.length;j++)if(info.ext[j]==ext)return info}};CodeMirror.findModeByFileName=function(filename){for(var i=0;i<CodeMirror.modeInfo.length;i++){var info=CodeMirror.modeInfo[i];if(info.file&&info.file.test(filename))return info}var dot=filename.lastIndexOf(".");var ext=dot>-1&&filename.substring(dot+1,filename.length);if(ext)return CodeMirror.findModeByExtension(ext)};CodeMirror.findModeByName=function(name){name=name.toLowerCase();for(var i=0;i<CodeMirror.modeInfo.length;i++){var info=CodeMirror.modeInfo[i];if(info.name.toLowerCase()==name)return info;if(info.alias)for(var j=0;j<info.alias.length;j++)if(info.alias[j].toLowerCase()==name)return info}}})},{"../lib/codemirror":4}],7:[function(require,module,exports){(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";var htmlConfig={autoSelfClosers:{area:true,base:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true,menuitem:true},implicitlyClosed:{dd:true,li:true,optgroup:true,option:true,p:true,rp:true,rt:true,tbody:true,td:true,tfoot:true,th:true,tr:true},contextGrabbers:{dd:{dd:true,dt:true},dt:{dd:true,dt:true},li:{li:true},option:{option:true,optgroup:true},optgroup:{optgroup:true},p:{address:true,article:true,aside:true,blockquote:true,dir:true,div:true,dl:true,fieldset:true,footer:true,form:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,header:true,hgroup:true,hr:true,menu:true,nav:true,ol:true,p:true,pre:true,section:true,table:true,ul:true},rp:{rp:true,rt:true},rt:{rp:true,rt:true},tbody:{tbody:true,tfoot:true},td:{td:true,th:true},tfoot:{tbody:true},th:{td:true,th:true},thead:{tbody:true,tfoot:true},tr:{tr:true}},doNotIndent:{pre:true},allowUnquoted:true,allowMissing:true,caseFold:true};var xmlConfig={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,allowMissing:false,caseFold:false};CodeMirror.defineMode("xml",function(editorConf,config_){var indentUnit=editorConf.indentUnit;var config={};var defaults=config_.htmlMode?htmlConfig:xmlConfig;for(var prop in defaults)config[prop]=defaults[prop];for(var prop in config_)config[prop]=config_[prop];var type,setStyle;function inText(stream,state){function chain(parser){state.tokenize=parser;return parser(stream,state)}var ch=stream.next();if(ch=="<"){if(stream.eat("!")){if(stream.eat("[")){if(stream.match("CDATA["))return chain(inBlock("atom","]]>"));else return null}else if(stream.match("--")){return chain(inBlock("comment","-->"))}else if(stream.match("DOCTYPE",true,true)){stream.eatWhile(/[\w\._\-]/);return chain(doctype(1))}else{return null}}else if(stream.eat("?")){stream.eatWhile(/[\w\._\-]/);state.tokenize=inBlock("meta","?>");return"meta"}else{type=stream.eat("/")?"closeTag":"openTag";state.tokenize=inTag;return"tag bracket"}}else if(ch=="&"){var ok;if(stream.eat("#")){if(stream.eat("x")){ok=stream.eatWhile(/[a-fA-F\d]/)&&stream.eat(";")}else{ok=stream.eatWhile(/[\d]/)&&stream.eat(";")}}else{ok=stream.eatWhile(/[\w\.\-:]/)&&stream.eat(";")}return ok?"atom":"error"}else{stream.eatWhile(/[^&<]/);return null}}inText.isInText=true;function inTag(stream,state){var ch=stream.next();if(ch==">"||ch=="/"&&stream.eat(">")){state.tokenize=inText;type=ch==">"?"endTag":"selfcloseTag";return"tag bracket"}else if(ch=="="){type="equals";return null}else if(ch=="<"){state.tokenize=inText;state.state=baseState;state.tagName=state.tagStart=null;var next=state.tokenize(stream,state);return next?next+" tag error":"tag error"}else if(/[\'\"]/.test(ch)){state.tokenize=inAttribute(ch);state.stringStartCol=stream.column();return state.tokenize(stream,state)}else{stream.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}}function inAttribute(quote){var closure=function(stream,state){while(!stream.eol()){if(stream.next()==quote){state.tokenize=inTag;break}}return"string"};closure.isInAttribute=true;return closure}function inBlock(style,terminator){return function(stream,state){while(!stream.eol()){if(stream.match(terminator)){state.tokenize=inText;break}stream.next()}return style}}function doctype(depth){return function(stream,state){var ch;while((ch=stream.next())!=null){if(ch=="<"){state.tokenize=doctype(depth+1);return state.tokenize(stream,state)}else if(ch==">"){if(depth==1){state.tokenize=inText;break}else{state.tokenize=doctype(depth-1);return state.tokenize(stream,state)}}}return"meta"}}function Context(state,tagName,startOfLine){this.prev=state.context;this.tagName=tagName;this.indent=state.indented;this.startOfLine=startOfLine;if(config.doNotIndent.hasOwnProperty(tagName)||state.context&&state.context.noIndent)this.noIndent=true}function popContext(state){if(state.context)state.context=state.context.prev}function maybePopContext(state,nextTagName){var parentTagName;while(true){if(!state.context){return}parentTagName=state.context.tagName;if(!config.contextGrabbers.hasOwnProperty(parentTagName)||!config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)){return}popContext(state)}}function baseState(type,stream,state){if(type=="openTag"){state.tagStart=stream.column();return tagNameState}else if(type=="closeTag"){return closeTagNameState}else{return baseState}}function tagNameState(type,stream,state){if(type=="word"){state.tagName=stream.current();setStyle="tag";return attrState}else{setStyle="error";return tagNameState}}function closeTagNameState(type,stream,state){if(type=="word"){var tagName=stream.current();if(state.context&&state.context.tagName!=tagName&&config.implicitlyClosed.hasOwnProperty(state.context.tagName))popContext(state);if(state.context&&state.context.tagName==tagName||config.matchClosing===false){setStyle="tag";return closeState}else{setStyle="tag error";return closeStateErr}}else{setStyle="error";return closeStateErr}}function closeState(type,_stream,state){if(type!="endTag"){setStyle="error";return closeState}popContext(state);return baseState}function closeStateErr(type,stream,state){setStyle="error";return closeState(type,stream,state)}function attrState(type,_stream,state){if(type=="word"){setStyle="attribute";return attrEqState}else if(type=="endTag"||type=="selfcloseTag"){var tagName=state.tagName,tagStart=state.tagStart;state.tagName=state.tagStart=null;if(type=="selfcloseTag"||config.autoSelfClosers.hasOwnProperty(tagName)){maybePopContext(state,tagName)}else{maybePopContext(state,tagName);state.context=new Context(state,tagName,tagStart==state.indented)}return baseState}setStyle="error";return attrState}function attrEqState(type,stream,state){if(type=="equals")return attrValueState;if(!config.allowMissing)setStyle="error";return attrState(type,stream,state)}function attrValueState(type,stream,state){if(type=="string")return attrContinuedState;if(type=="word"&&config.allowUnquoted){setStyle="string";return attrState}setStyle="error";return attrState(type,stream,state)}function attrContinuedState(type,stream,state){if(type=="string")return attrContinuedState;return attrState(type,stream,state)}return{startState:function(baseIndent){var state={tokenize:inText,state:baseState,indented:baseIndent||0,tagName:null,tagStart:null,context:null};if(baseIndent!=null)state.baseIndent=baseIndent;return state},token:function(stream,state){if(!state.tagName&&stream.sol())state.indented=stream.indentation();if(stream.eatSpace())return null;type=null;var style=state.tokenize(stream,state);if((style||type)&&style!="comment"){setStyle=null;state.state=state.state(type||style,stream,state);if(setStyle)style=setStyle=="error"?style+" error":setStyle}return style},indent:function(state,textAfter,fullLine){var context=state.context;if(state.tokenize.isInAttribute){if(state.tagStart==state.indented)return state.stringStartCol+1;else return state.indented+indentUnit}if(context&&context.noIndent)return CodeMirror.Pass;if(state.tokenize!=inTag&&state.tokenize!=inText)return fullLine?fullLine.match(/^(\s*)/)[0].length:0;if(state.tagName){if(config.multilineTagIndentPastTag!==false)return state.tagStart+state.tagName.length+2;else return state.tagStart+indentUnit*(config.multilineTagIndentFactor||1)}if(config.alignCDATA&&/<!\[CDATA\[/.test(textAfter))return 0;var tagAfter=textAfter&&/^<(\/)?([\w_:\.-]*)/.exec(textAfter);if(tagAfter&&tagAfter[1]){while(context){if(context.tagName==tagAfter[2]){context=context.prev;break}else if(config.implicitlyClosed.hasOwnProperty(context.tagName)){context=context.prev}else{break}}}else if(tagAfter){while(context){var grabbers=config.contextGrabbers[context.tagName];if(grabbers&&grabbers.hasOwnProperty(tagAfter[2]))context=context.prev;else break}}while(context&&context.prev&&!context.startOfLine)context=context.prev;if(context)return context.indent+indentUnit;else return state.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:config.htmlMode?"html":"xml",helperType:config.htmlMode?"html":"xml",skipAttribute:function(state){if(state.state==attrValueState)state.state=attrState}}});CodeMirror.defineMIME("text/xml","xml");CodeMirror.defineMIME("application/xml","xml");if(!CodeMirror.mimeModes.hasOwnProperty("text/html"))CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true})})},{"../../lib/codemirror":4}],8:[function(require,module,exports){"use strict";var Node=require("./node");var unescapeString=require("./common").unescapeString;var OPENTAG=require("./common").OPENTAG;var CLOSETAG=require("./common").CLOSETAG;var CODE_INDENT=4;var C_TAB=9;var C_NEWLINE=10;var C_GREATERTHAN=62;var C_LESSTHAN=60;var C_SPACE=32;var C_OPEN_BRACKET=91;var InlineParser=require("./inlines");var reHtmlBlockOpen=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[\/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|title|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[\/]?[>]|$)/i,new RegExp("^(?:"+OPENTAG+"|"+CLOSETAG+")\\s*$","i")];var reHtmlBlockClose=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/];var reThematicBreak=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/;var reMaybeSpecial=/^[#`~*+_=<>0-9-]/;var reNonSpace=/[^ \t\f\v\r\n]/;var reBulletListMarker=/^[*+-]/;var reOrderedListMarker=/^(\d{1,9})([.)])/;var reATXHeadingMarker=/^#{1,6}(?:[ \t]+|$)/;var reCodeFence=/^`{3,}(?!.*`)|^~{3,}(?!.*~)/;var reClosingCodeFence=/^(?:`{3,}|~{3,})(?= *$)/;var reSetextHeadingLine=/^(?:=+|-+) *$/;var reLineEnding=/\r\n|\n|\r/;var isBlank=function(s){return!reNonSpace.test(s)};var isSpaceOrTab=function(c){return c===C_SPACE||c===C_TAB};var peek=function(ln,pos){if(pos<ln.length){return ln.charCodeAt(pos)}else{return-1}};var endsWithBlankLine=function(block){while(block){if(block._lastLineBlank){return true}var t=block.type;if(t==="list"||t==="item"){block=block._lastChild}else{break}}return false};var addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var charsToTab=4-this.column%4;this.tip._string_content+=" ".repeat(charsToTab)}this.tip._string_content+=this.currentLine.slice(this.offset)+"\n"};var addChild=function(tag,offset){while(!this.blocks[this.tip.type].canContain(tag)){this.finalize(this.tip,this.lineNumber-1)}var column_number=offset+1;var newBlock=new Node(tag,[[this.lineNumber,column_number],[0,0]]);newBlock._string_content="";this.tip.appendChild(newBlock);this.tip=newBlock;return newBlock};var parseListMarker=function(parser,container){var rest=parser.currentLine.slice(parser.nextNonspace);var match;var nextc;var spacesStartCol;var spacesStartOffset;var data={type:null,tight:true,bulletChar:null,start:null,delimiter:null,padding:null,markerOffset:parser.indent};if(match=rest.match(reBulletListMarker)){data.type="bullet";data.bulletChar=match[0][0]}else if((match=rest.match(reOrderedListMarker))&&(container.type!=="paragraph"||match[1]==="1")){data.type="ordered";data.start=parseInt(match[1]);data.delimiter=match[2]}else{return null}nextc=peek(parser.currentLine,parser.nextNonspace+match[0].length);if(!(nextc===-1||nextc===C_TAB||nextc===C_SPACE)){return null}if(container.type==="paragraph"&&!parser.currentLine.slice(parser.nextNonspace+match[0].length).match(reNonSpace)){return null}parser.advanceNextNonspace();parser.advanceOffset(match[0].length,true);spacesStartCol=parser.column;spacesStartOffset=parser.offset;do{parser.advanceOffset(1,true);nextc=peek(parser.currentLine,parser.offset)}while(parser.column-spacesStartCol<5&&isSpaceOrTab(nextc));var blank_item=peek(parser.currentLine,parser.offset)===-1;var spaces_after_marker=parser.column-spacesStartCol;if(spaces_after_marker>=5||spaces_after_marker<1||blank_item){data.padding=match[0].length+1;parser.column=spacesStartCol;parser.offset=spacesStartOffset;if(isSpaceOrTab(peek(parser.currentLine,parser.offset))){parser.advanceOffset(1,true)}}else{data.padding=match[0].length+spaces_after_marker}return data};var listsMatch=function(list_data,item_data){return list_data.type===item_data.type&&list_data.delimiter===item_data.delimiter&&list_data.bulletChar===item_data.bulletChar};var closeUnmatchedBlocks=function(){if(!this.allClosed){while(this.oldtip!==this.lastMatchedContainer){var parent=this.oldtip._parent;this.finalize(this.oldtip,this.lineNumber-1);this.oldtip=parent}this.allClosed=true}};var blocks={document:{continue:function(){return 0},finalize:function(){return},canContain:function(t){return t!=="item"},acceptsLines:false},list:{continue:function(){return 0},finalize:function(parser,block){var item=block._firstChild;while(item){if(endsWithBlankLine(item)&&item._next){block._listData.tight=false;break}var subitem=item._firstChild;while(subitem){if(endsWithBlankLine(subitem)&&(item._next||subitem._next)){block._listData.tight=false;break}subitem=subitem._next}item=item._next}},canContain:function(t){return t==="item"},acceptsLines:false},block_quote:{continue:function(parser){var ln=parser.currentLine;if(!parser.indented&&peek(ln,parser.nextNonspace)===C_GREATERTHAN){parser.advanceNextNonspace();parser.advanceOffset(1,false);if(isSpaceOrTab(peek(ln,parser.offset))){parser.advanceOffset(1,true)}}else{return 1}return 0},finalize:function(){return},canContain:function(t){return t!=="item"},acceptsLines:false},item:{continue:function(parser,container){if(parser.blank){if(container._firstChild==null){return 1}else{parser.advanceNextNonspace()}}else if(parser.indent>=container._listData.markerOffset+container._listData.padding){parser.advanceOffset(container._listData.markerOffset+container._listData.padding,true)}else{return 1}return 0},finalize:function(){return},canContain:function(t){return t!=="item"},acceptsLines:false},heading:{continue:function(){return 1},finalize:function(){return},canContain:function(){return false},acceptsLines:false},thematic_break:{continue:function(){return 1},finalize:function(){return},canContain:function(){return false},acceptsLines:false},code_block:{continue:function(parser,container){var ln=parser.currentLine;var indent=parser.indent;if(container._isFenced){var match=indent<=3&&ln.charAt(parser.nextNonspace)===container._fenceChar&&ln.slice(parser.nextNonspace).match(reClosingCodeFence);if(match&&match[0].length>=container._fenceLength){parser.finalize(container,parser.lineNumber);return 2}else{var i=container._fenceOffset;while(i>0&&isSpaceOrTab(peek(ln,parser.offset))){parser.advanceOffset(1,true);i--}}}else{if(indent>=CODE_INDENT){parser.advanceOffset(CODE_INDENT,true)}else if(parser.blank){parser.advanceNextNonspace()}else{return 1}}return 0},finalize:function(parser,block){if(block._isFenced){var content=block._string_content;var newlinePos=content.indexOf("\n");var firstLine=content.slice(0,newlinePos);var rest=content.slice(newlinePos+1);block.info=unescapeString(firstLine.trim());block._literal=rest}else{block._literal=block._string_content.replace(/(\n *)+$/,"\n")}block._string_content=null},canContain:function(){return false},acceptsLines:true},html_block:{continue:function(parser,container){return parser.blank&&(container._htmlBlockType===6||container._htmlBlockType===7)?1:0},finalize:function(parser,block){block._literal=block._string_content.replace(/(\n *)+$/,"");block._string_content=null},canContain:function(){return false},acceptsLines:true},paragraph:{continue:function(parser){return parser.blank?1:0},finalize:function(parser,block){var pos;var hasReferenceDefs=false;while(peek(block._string_content,0)===C_OPEN_BRACKET&&(pos=parser.inlineParser.parseReference(block._string_content,parser.refmap))){block._string_content=block._string_content.slice(pos);hasReferenceDefs=true}if(hasReferenceDefs&&isBlank(block._string_content)){block.unlink()}},canContain:function(){return false},acceptsLines:true}};var blockStarts=[function(parser){if(!parser.indented&&peek(parser.currentLine,parser.nextNonspace)===C_GREATERTHAN){parser.advanceNextNonspace();parser.advanceOffset(1,false);if(isSpaceOrTab(peek(parser.currentLine,parser.offset))){parser.advanceOffset(1,true)}parser.closeUnmatchedBlocks();parser.addChild("block_quote",parser.nextNonspace);return 1}else{return 0}},function(parser){var match;if(!parser.indented&&(match=parser.currentLine.slice(parser.nextNonspace).match(reATXHeadingMarker))){parser.advanceNextNonspace();parser.advanceOffset(match[0].length,false);parser.closeUnmatchedBlocks();var container=parser.addChild("heading",parser.nextNonspace);container.level=match[0].trim().length;container._string_content=parser.currentLine.slice(parser.offset).replace(/^ *#+ *$/,"").replace(/ +#+ *$/,"");parser.advanceOffset(parser.currentLine.length-parser.offset);return 2}else{return 0}},function(parser){var match;if(!parser.indented&&(match=parser.currentLine.slice(parser.nextNonspace).match(reCodeFence))){var fenceLength=match[0].length;parser.closeUnmatchedBlocks();var container=parser.addChild("code_block",parser.nextNonspace);container._isFenced=true;container._fenceLength=fenceLength;container._fenceChar=match[0][0];
container._fenceOffset=parser.indent;parser.advanceNextNonspace();parser.advanceOffset(fenceLength,false);return 2}else{return 0}},function(parser,container){if(!parser.indented&&peek(parser.currentLine,parser.nextNonspace)===C_LESSTHAN){var s=parser.currentLine.slice(parser.nextNonspace);var blockType;for(blockType=1;blockType<=7;blockType++){if(reHtmlBlockOpen[blockType].test(s)&&(blockType<7||container.type!=="paragraph")){parser.closeUnmatchedBlocks();var b=parser.addChild("html_block",parser.offset);b._htmlBlockType=blockType;return 2}}}return 0},function(parser,container){var match;if(!parser.indented&&container.type==="paragraph"&&(match=parser.currentLine.slice(parser.nextNonspace).match(reSetextHeadingLine))){parser.closeUnmatchedBlocks();var heading=new Node("heading",container.sourcepos);heading.level=match[0][0]==="="?1:2;heading._string_content=container._string_content;container.insertAfter(heading);container.unlink();parser.tip=heading;parser.advanceOffset(parser.currentLine.length-parser.offset,false);return 2}else{return 0}},function(parser){if(!parser.indented&&reThematicBreak.test(parser.currentLine.slice(parser.nextNonspace))){parser.closeUnmatchedBlocks();parser.addChild("thematic_break",parser.nextNonspace);parser.advanceOffset(parser.currentLine.length-parser.offset,false);return 2}else{return 0}},function(parser,container){var data;if((!parser.indented||container.type==="list")&&(data=parseListMarker(parser,container))){parser.closeUnmatchedBlocks();if(parser.tip.type!=="list"||!listsMatch(container._listData,data)){container=parser.addChild("list",parser.nextNonspace);container._listData=data}container=parser.addChild("item",parser.nextNonspace);container._listData=data;return 1}else{return 0}},function(parser){if(parser.indented&&parser.tip.type!=="paragraph"&&!parser.blank){parser.advanceOffset(CODE_INDENT,true);parser.closeUnmatchedBlocks();parser.addChild("code_block",parser.offset);return 2}else{return 0}}];var advanceOffset=function(count,columns){var currentLine=this.currentLine;var charsToTab,charsToAdvance;var c;while(count>0&&(c=currentLine[this.offset])){if(c==="\t"){charsToTab=4-this.column%4;if(columns){this.partiallyConsumedTab=charsToTab>count;charsToAdvance=charsToTab>count?count:charsToTab;this.column+=charsToAdvance;this.offset+=this.partiallyConsumedTab?0:1;count-=charsToAdvance}else{this.partiallyConsumedTab=false;this.column+=charsToTab;this.offset+=1;count-=1}}else{this.partiallyConsumedTab=false;this.offset+=1;this.column+=1;count-=1}}};var advanceNextNonspace=function(){this.offset=this.nextNonspace;this.column=this.nextNonspaceColumn;this.partiallyConsumedTab=false};var findNextNonspace=function(){var currentLine=this.currentLine;var i=this.offset;var cols=this.column;var c;while((c=currentLine.charAt(i))!==""){if(c===" "){i++;cols++}else if(c==="\t"){i++;cols+=4-cols%4}else{break}}this.blank=c==="\n"||c==="\r"||c==="";this.nextNonspace=i;this.nextNonspaceColumn=cols;this.indent=this.nextNonspaceColumn-this.column;this.indented=this.indent>=CODE_INDENT};var incorporateLine=function(ln){var all_matched=true;var t;var container=this.doc;this.oldtip=this.tip;this.offset=0;this.column=0;this.blank=false;this.partiallyConsumedTab=false;this.lineNumber+=1;if(ln.indexOf("\0")!==-1){ln=ln.replace(/\0/g,"�")}this.currentLine=ln;var lastChild;while((lastChild=container._lastChild)&&lastChild._open){container=lastChild;this.findNextNonspace();switch(this.blocks[container.type].continue(this,container)){case 0:break;case 1:all_matched=false;break;case 2:this.lastLineLength=ln.length;return;default:throw"continue returned illegal value, must be 0, 1, or 2"}if(!all_matched){container=container._parent;break}}this.allClosed=container===this.oldtip;this.lastMatchedContainer=container;var matchedLeaf=container.type!=="paragraph"&&blocks[container.type].acceptsLines;var starts=this.blockStarts;var startsLen=starts.length;while(!matchedLeaf){this.findNextNonspace();if(!this.indented&&!reMaybeSpecial.test(ln.slice(this.nextNonspace))){this.advanceNextNonspace();break}var i=0;while(i<startsLen){var res=starts[i](this,container);if(res===1){container=this.tip;break}else if(res===2){container=this.tip;matchedLeaf=true;break}else{i++}}if(i===startsLen){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph"){this.addLine()}else{this.closeUnmatchedBlocks();if(this.blank&&container.lastChild){container.lastChild._lastLineBlank=true}t=container.type;var lastLineBlank=this.blank&&!(t==="block_quote"||t==="code_block"&&container._isFenced||t==="item"&&!container._firstChild&&container.sourcepos[0][0]===this.lineNumber);var cont=container;while(cont){cont._lastLineBlank=lastLineBlank;cont=cont._parent}if(this.blocks[t].acceptsLines){this.addLine();if(t==="html_block"&&container._htmlBlockType>=1&&container._htmlBlockType<=5&&reHtmlBlockClose[container._htmlBlockType].test(this.currentLine.slice(this.offset))){this.finalize(container,this.lineNumber)}}else if(this.offset<ln.length&&!this.blank){container=this.addChild("paragraph",this.offset);this.advanceNextNonspace();this.addLine()}}this.lastLineLength=ln.length};var finalize=function(block,lineNumber){var above=block._parent;block._open=false;block.sourcepos[1]=[lineNumber,this.lastLineLength];this.blocks[block.type].finalize(this,block);this.tip=above};var processInlines=function(block){var node,event,t;var walker=block.walker();this.inlineParser.refmap=this.refmap;this.inlineParser.options=this.options;while(event=walker.next()){node=event.node;t=node.type;if(!event.entering&&(t==="paragraph"||t==="heading")){this.inlineParser.parse(node)}}};var Document=function(){var doc=new Node("document",[[1,1],[0,0]]);return doc};var parse=function(input){this.doc=new Document;this.tip=this.doc;this.refmap={};this.lineNumber=0;this.lastLineLength=0;this.offset=0;this.column=0;this.lastMatchedContainer=this.doc;this.currentLine="";if(this.options.time){console.time("preparing input")}var lines=input.split(reLineEnding);var len=lines.length;if(input.charCodeAt(input.length-1)===C_NEWLINE){len-=1}if(this.options.time){console.timeEnd("preparing input")}if(this.options.time){console.time("block parsing")}for(var i=0;i<len;i++){this.incorporateLine(lines[i])}while(this.tip){this.finalize(this.tip,len)}if(this.options.time){console.timeEnd("block parsing")}if(this.options.time){console.time("inline parsing")}this.processInlines(this.doc);if(this.options.time){console.timeEnd("inline parsing")}return this.doc};function Parser(options){return{doc:new Document,blocks:blocks,blockStarts:blockStarts,tip:this.doc,oldtip:this.doc,currentLine:"",lineNumber:0,offset:0,column:0,nextNonspace:0,nextNonspaceColumn:0,indent:0,indented:false,blank:false,partiallyConsumedTab:false,allClosed:true,lastMatchedContainer:this.doc,refmap:{},lastLineLength:0,inlineParser:new InlineParser(options),findNextNonspace:findNextNonspace,advanceOffset:advanceOffset,advanceNextNonspace:advanceNextNonspace,addLine:addLine,addChild:addChild,incorporateLine:incorporateLine,finalize:finalize,processInlines:processInlines,closeUnmatchedBlocks:closeUnmatchedBlocks,parse:parse,options:options||{}}}module.exports=Parser},{"./common":9,"./inlines":12,"./node":13}],9:[function(require,module,exports){"use strict";var encode=require("mdurl/encode");var decode=require("mdurl/decode");var C_BACKSLASH=92;var decodeHTML=require("entities").decodeHTML;var ENTITY="&(?:#x[a-f0-9]{1,8}|#[0-9]{1,8}|[a-z][a-z0-9]{1,31});";var TAGNAME="[A-Za-z][A-Za-z0-9-]*";var ATTRIBUTENAME="[a-zA-Z_:][a-zA-Z0-9:._-]*";var UNQUOTEDVALUE="[^\"'=<>`\\x00-\\x20]+";var SINGLEQUOTEDVALUE="'[^']*'";var DOUBLEQUOTEDVALUE='"[^"]*"';var ATTRIBUTEVALUE="(?:"+UNQUOTEDVALUE+"|"+SINGLEQUOTEDVALUE+"|"+DOUBLEQUOTEDVALUE+")";var ATTRIBUTEVALUESPEC="(?:"+"\\s*="+"\\s*"+ATTRIBUTEVALUE+")";var ATTRIBUTE="(?:"+"\\s+"+ATTRIBUTENAME+ATTRIBUTEVALUESPEC+"?)";var OPENTAG="<"+TAGNAME+ATTRIBUTE+"*"+"\\s*/?>";var CLOSETAG="</"+TAGNAME+"\\s*[>]";var HTMLCOMMENT="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->";var PROCESSINGINSTRUCTION="[<][?].*?[?][>]";var DECLARATION="<![A-Z]+"+"\\s+[^>]*>";var CDATA="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>";var HTMLTAG="(?:"+OPENTAG+"|"+CLOSETAG+"|"+HTMLCOMMENT+"|"+PROCESSINGINSTRUCTION+"|"+DECLARATION+"|"+CDATA+")";var reHtmlTag=new RegExp("^"+HTMLTAG,"i");var reBackslashOrAmp=/[\\&]/;var ESCAPABLE="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]";var reEntityOrEscapedChar=new RegExp("\\\\"+ESCAPABLE+"|"+ENTITY,"gi");var XMLSPECIAL='[&<>"]';var reXmlSpecial=new RegExp(XMLSPECIAL,"g");var reXmlSpecialOrEntity=new RegExp(ENTITY+"|"+XMLSPECIAL,"gi");var unescapeChar=function(s){if(s.charCodeAt(0)===C_BACKSLASH){return s.charAt(1)}else{return decodeHTML(s)}};var unescapeString=function(s){if(reBackslashOrAmp.test(s)){return s.replace(reEntityOrEscapedChar,unescapeChar)}else{return s}};var normalizeURI=function(uri){try{return encode(decode(uri))}catch(err){return uri}};var replaceUnsafeChar=function(s){switch(s){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return s}};var escapeXml=function(s,preserve_entities){if(reXmlSpecial.test(s)){if(preserve_entities){return s.replace(reXmlSpecialOrEntity,replaceUnsafeChar)}else{return s.replace(reXmlSpecial,replaceUnsafeChar)}}else{return s}};module.exports={unescapeString:unescapeString,normalizeURI:normalizeURI,escapeXml:escapeXml,reHtmlTag:reHtmlTag,OPENTAG:OPENTAG,CLOSETAG:CLOSETAG,ENTITY:ENTITY,ESCAPABLE:ESCAPABLE}},{entities:136,"mdurl/decode":213,"mdurl/encode":214}],10:[function(require,module,exports){"use strict";if(String.fromCodePoint){module.exports=function(_){try{return String.fromCodePoint(_)}catch(e){if(e instanceof RangeError){return String.fromCharCode(65533)}throw e}}}else{var stringFromCharCode=String.fromCharCode;var floor=Math.floor;var fromCodePoint=function(){var MAX_SIZE=16384;var codeUnits=[];var highSurrogate;var lowSurrogate;var index=-1;var length=arguments.length;if(!length){return""}var result="";while(++index<length){var codePoint=Number(arguments[index]);if(!isFinite(codePoint)||codePoint<0||codePoint>1114111||floor(codePoint)!==codePoint){return String.fromCharCode(65533)}if(codePoint<=65535){codeUnits.push(codePoint)}else{codePoint-=65536;highSurrogate=(codePoint>>10)+55296;lowSurrogate=codePoint%1024+56320;codeUnits.push(highSurrogate,lowSurrogate)}if(index+1===length||codeUnits.length>MAX_SIZE){result+=stringFromCharCode.apply(null,codeUnits);codeUnits.length=0}}return result};module.exports=fromCodePoint}},{}],11:[function(require,module,exports){"use strict";module.exports.version="0.26.0";module.exports.Node=require("./node");module.exports.Parser=require("./blocks");module.exports.HtmlRenderer=require("./render/html");module.exports.XmlRenderer=require("./xml")},{"./blocks":8,"./node":13,"./render/html":15,"./xml":17}],12:[function(require,module,exports){"use strict";var Node=require("./node");var common=require("./common");var normalizeReference=require("./normalize-reference");var normalizeURI=common.normalizeURI;var unescapeString=common.unescapeString;var fromCodePoint=require("./from-code-point.js");var decodeHTML=require("entities").decodeHTML;require("string.prototype.repeat");var C_NEWLINE=10;var C_ASTERISK=42;var C_UNDERSCORE=95;var C_BACKTICK=96;var C_OPEN_BRACKET=91;var C_CLOSE_BRACKET=93;var C_LESSTHAN=60;var C_BANG=33;var C_BACKSLASH=92;var C_AMPERSAND=38;var C_OPEN_PAREN=40;var C_CLOSE_PAREN=41;var C_COLON=58;var C_SINGLEQUOTE=39;var C_DOUBLEQUOTE=34;var ESCAPABLE=common.ESCAPABLE;var ESCAPED_CHAR="\\\\"+ESCAPABLE;var REG_CHAR="[^\\\\()\\x00-\\x20]";var IN_PARENS_NOSP="\\(("+REG_CHAR+"|"+ESCAPED_CHAR+"|\\\\)*\\)";var ENTITY=common.ENTITY;var reHtmlTag=common.reHtmlTag;var rePunctuation=new RegExp(/^[\u2000-\u206F\u2E00-\u2E7F\\'!"#\$%&\(\)\*\+,\-\.\/:;<=>\?@\[\]\^_`\{\|\}~]/);var reLinkTitle=new RegExp('^(?:"('+ESCAPED_CHAR+'|[^"\\x00])*"'+"|"+"'("+ESCAPED_CHAR+"|[^'\\x00])*'"+"|"+"\\(("+ESCAPED_CHAR+"|[^)\\x00])*\\))");var reLinkDestinationBraces=new RegExp("^(?:[<](?:[^ <>\\t\\n\\\\\\x00]"+"|"+ESCAPED_CHAR+"|"+"\\\\)*[>])");var reLinkDestination=new RegExp("^(?:"+REG_CHAR+"+|"+ESCAPED_CHAR+"|\\\\|"+IN_PARENS_NOSP+")*");var reEscapable=new RegExp("^"+ESCAPABLE);var reEntityHere=new RegExp("^"+ENTITY,"i");var reTicks=/`+/;var reTicksHere=/^`+/;var reEllipses=/\.\.\./g;var reDash=/--+/g;var reEmailAutolink=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/;var reAutolink=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i;var reSpnl=/^ *(?:\n *)?/;var reWhitespaceChar=/^\s/;var reWhitespace=/\s+/g;var reFinalSpace=/ *$/;var reInitialSpace=/^ */;var reSpaceAtEndOfLine=/^ *(?:\n|$)/;var reLinkLabel=new RegExp("^\\[(?:[^\\\\\\[\\]]|"+ESCAPED_CHAR+"|\\\\){0,1000}\\]");var reMain=/^[^\n`\[\]\\!<&*_'"]+/m;var text=function(s){var node=new Node("text");node._literal=s;return node};var match=function(re){var m=re.exec(this.subject.slice(this.pos));if(m===null){return null}else{this.pos+=m.index+m[0].length;return m[0]}};var peek=function(){if(this.pos<this.subject.length){return this.subject.charCodeAt(this.pos)}else{return-1}};var spnl=function(){this.match(reSpnl);return true};var parseBackticks=function(block){var ticks=this.match(reTicksHere);if(ticks===null){return false}var afterOpenTicks=this.pos;var matched;var node;while((matched=this.match(reTicks))!==null){if(matched===ticks){node=new Node("code");node._literal=this.subject.slice(afterOpenTicks,this.pos-ticks.length).trim().replace(reWhitespace," ");block.appendChild(node);return true}}this.pos=afterOpenTicks;block.appendChild(text(ticks));return true};var parseBackslash=function(block){var subj=this.subject;var node;this.pos+=1;if(this.peek()===C_NEWLINE){this.pos+=1;node=new Node("linebreak");block.appendChild(node)}else if(reEscapable.test(subj.charAt(this.pos))){block.appendChild(text(subj.charAt(this.pos)));this.pos+=1}else{block.appendChild(text("\\"))}return true};var parseAutolink=function(block){var m;var dest;var node;if(m=this.match(reEmailAutolink)){dest=m.slice(1,m.length-1);node=new Node("link");node._destination=normalizeURI("mailto:"+dest);node._title="";node.appendChild(text(dest));block.appendChild(node);return true}else if(m=this.match(reAutolink)){dest=m.slice(1,m.length-1);node=new Node("link");node._destination=normalizeURI(dest);node._title="";node.appendChild(text(dest));block.appendChild(node);return true}else{return false}};var parseHtmlTag=function(block){var m=this.match(reHtmlTag);if(m===null){return false}else{var node=new Node("html_inline");node._literal=m;block.appendChild(node);return true}};var scanDelims=function(cc){var numdelims=0;var char_before,char_after,cc_after;var startpos=this.pos;var left_flanking,right_flanking,can_open,can_close;var after_is_whitespace,after_is_punctuation,before_is_whitespace,before_is_punctuation;if(cc===C_SINGLEQUOTE||cc===C_DOUBLEQUOTE){numdelims++;this.pos++}else{while(this.peek()===cc){numdelims++;this.pos++}}if(numdelims===0){return null}char_before=startpos===0?"\n":this.subject.charAt(startpos-1);cc_after=this.peek();if(cc_after===-1){char_after="\n"}else{char_after=fromCodePoint(cc_after)}after_is_whitespace=reWhitespaceChar.test(char_after);after_is_punctuation=rePunctuation.test(char_after);before_is_whitespace=reWhitespaceChar.test(char_before);before_is_punctuation=rePunctuation.test(char_before);left_flanking=!after_is_whitespace&&!(after_is_punctuation&&!before_is_whitespace&&!before_is_punctuation);right_flanking=!before_is_whitespace&&!(before_is_punctuation&&!after_is_whitespace&&!after_is_punctuation);if(cc===C_UNDERSCORE){can_open=left_flanking&&(!right_flanking||before_is_punctuation);can_close=right_flanking&&(!left_flanking||after_is_punctuation)}else if(cc===C_SINGLEQUOTE||cc===C_DOUBLEQUOTE){can_open=left_flanking&&!right_flanking;can_close=right_flanking}else{can_open=left_flanking;can_close=right_flanking}this.pos=startpos;return{numdelims:numdelims,can_open:can_open,can_close:can_close}};var handleDelim=function(cc,block){var res=this.scanDelims(cc);if(!res){return false}var numdelims=res.numdelims;var startpos=this.pos;var contents;this.pos+=numdelims;if(cc===C_SINGLEQUOTE){contents="’"}else if(cc===C_DOUBLEQUOTE){contents="“"}else{contents=this.subject.slice(startpos,this.pos)}var node=text(contents);block.appendChild(node);this.delimiters={cc:cc,numdelims:numdelims,node:node,previous:this.delimiters,next:null,can_open:res.can_open,can_close:res.can_close};if(this.delimiters.previous!==null){this.delimiters.previous.next=this.delimiters}return true};var removeDelimiter=function(delim){if(delim.previous!==null){delim.previous.next=delim.next}if(delim.next===null){this.delimiters=delim.previous}else{delim.next.previous=delim.previous}};var removeDelimitersBetween=function(bottom,top){if(bottom.next!==top){bottom.next=top;top.previous=bottom}};var processEmphasis=function(stack_bottom){var opener,closer,old_closer;var opener_inl,closer_inl;var tempstack;var use_delims;var tmp,next;var opener_found;var openers_bottom=[];var odd_match=false;openers_bottom[C_UNDERSCORE]=stack_bottom;openers_bottom[C_ASTERISK]=stack_bottom;openers_bottom[C_SINGLEQUOTE]=stack_bottom;openers_bottom[C_DOUBLEQUOTE]=stack_bottom;closer=this.delimiters;while(closer!==null&&closer.previous!==stack_bottom){closer=closer.previous}while(closer!==null){var closercc=closer.cc;if(!closer.can_close){closer=closer.next}else{opener=closer.previous;opener_found=false;while(opener!==null&&opener!==stack_bottom&&opener!==openers_bottom[closercc]){odd_match=(closer.can_open||opener.can_close)&&(opener.numdelims+closer.numdelims)%3===0;if(opener.cc===closer.cc&&opener.can_open&&!odd_match){opener_found=true;break}opener=opener.previous}old_closer=closer;if(closercc===C_ASTERISK||closercc===C_UNDERSCORE){if(!opener_found){closer=closer.next}else{if(closer.numdelims<3||opener.numdelims<3){use_delims=closer.numdelims<=opener.numdelims?closer.numdelims:opener.numdelims}else{use_delims=closer.numdelims%2===0?2:1}opener_inl=opener.node;closer_inl=closer.node;opener.numdelims-=use_delims;closer.numdelims-=use_delims;opener_inl._literal=opener_inl._literal.slice(0,opener_inl._literal.length-use_delims);closer_inl._literal=closer_inl._literal.slice(0,closer_inl._literal.length-use_delims);var emph=new Node(use_delims===1?"emph":"strong");tmp=opener_inl._next;while(tmp&&tmp!==closer_inl){next=tmp._next;tmp.unlink();emph.appendChild(tmp);tmp=next}opener_inl.insertAfter(emph);removeDelimitersBetween(opener,closer);if(opener.numdelims===0){opener_inl.unlink();this.removeDelimiter(opener)}if(closer.numdelims===0){closer_inl.unlink();tempstack=closer.next;this.removeDelimiter(closer);closer=tempstack}}}else if(closercc===C_SINGLEQUOTE){closer.node._literal="’";if(opener_found){opener.node._literal="‘"}closer=closer.next}else if(closercc===C_DOUBLEQUOTE){closer.node._literal="”";if(opener_found){opener.node.literal="“"}closer=closer.next}if(!opener_found&&!odd_match){openers_bottom[closercc]=old_closer.previous;if(!old_closer.can_open){this.removeDelimiter(old_closer)}}}}while(this.delimiters!==null&&this.delimiters!==stack_bottom){this.removeDelimiter(this.delimiters)}};var parseLinkTitle=function(){var title=this.match(reLinkTitle);if(title===null){return null}else{return unescapeString(title.substr(1,title.length-2))}};var parseLinkDestination=function(){var res=this.match(reLinkDestinationBraces);if(res===null){res=this.match(reLinkDestination);if(res===null){return null}else{return normalizeURI(unescapeString(res))}}else{return normalizeURI(unescapeString(res.substr(1,res.length-2)))}};var parseLinkLabel=function(){var m=this.match(reLinkLabel);if(m===null||m.length>1001){return 0}else{return m.length}};var parseOpenBracket=function(block){var startpos=this.pos;this.pos+=1;var node=text("[");block.appendChild(node);this.addBracket(node,startpos,false);return true};var parseBang=function(block){var startpos=this.pos;this.pos+=1;if(this.peek()===C_OPEN_BRACKET){this.pos+=1;var node=text("![");block.appendChild(node);this.addBracket(node,startpos+1,true)}else{block.appendChild(text("!"))}return true};var parseCloseBracket=function(block){var startpos;var is_image;var dest;var title;var matched=false;var reflabel;var opener;this.pos+=1;startpos=this.pos;opener=this.brackets;if(opener===null){block.appendChild(text("]"));return true}if(!opener.active){block.appendChild(text("]"));this.removeBracket();return true}is_image=opener.image;if(this.peek()===C_OPEN_PAREN){this.pos++;if(this.spnl()&&(dest=this.parseLinkDestination())!==null&&this.spnl()&&(reWhitespaceChar.test(this.subject.charAt(this.pos-1))&&(title=this.parseLinkTitle())||true)&&this.spnl()&&this.peek()===C_CLOSE_PAREN){this.pos+=1;matched=true}}else{var savepos=this.pos;var beforelabel=this.pos;var n=this.parseLinkLabel();if(n>2){reflabel=this.subject.slice(beforelabel,beforelabel+n)}else if(!opener.bracketAfter){reflabel=this.subject.slice(opener.index,startpos)}if(n===0){this.pos=savepos}if(reflabel){var link=this.refmap[normalizeReference(reflabel)];if(link){dest=link.destination;title=link.title;matched=true}}}if(matched){var node=new Node(is_image?"image":"link");node._destination=dest;node._title=title||"";var tmp,next;tmp=opener.node._next;while(tmp){next=tmp._next;tmp.unlink();node.appendChild(tmp);tmp=next}block.appendChild(node);this.processEmphasis(opener.previousDelimiter);this.removeBracket();opener.node.unlink();if(!is_image){opener=this.brackets;while(opener!==null){if(!opener.image){opener.active=false}opener=opener.previous}}return true}else{this.removeBracket();this.pos=startpos;block.appendChild(text("]"));return true}};var addBracket=function(node,index,image){if(this.brackets!==null){this.brackets.bracketAfter=true}this.brackets={node:node,previous:this.brackets,previousDelimiter:this.delimiters,index:index,image:image,active:true}};var removeBracket=function(){this.brackets=this.brackets.previous};var parseEntity=function(block){var m;if(m=this.match(reEntityHere)){block.appendChild(text(decodeHTML(m)));return true}else{return false}};var parseString=function(block){var m;if(m=this.match(reMain)){if(this.options.smart){block.appendChild(text(m.replace(reEllipses,"…").replace(reDash,function(chars){var enCount=0;var emCount=0;if(chars.length%3===0){emCount=chars.length/3}else if(chars.length%2===0){enCount=chars.length/2}else if(chars.length%3===2){enCount=1;emCount=(chars.length-2)/3}else{enCount=2;emCount=(chars.length-4)/3}return"—".repeat(emCount)+"–".repeat(enCount)})))}else{block.appendChild(text(m))}return true}else{return false}};var parseNewline=function(block){this.pos+=1;var lastc=block._lastChild;if(lastc&&lastc.type==="text"&&lastc._literal[lastc._literal.length-1]===" "){var hardbreak=lastc._literal[lastc._literal.length-2]===" ";lastc._literal=lastc._literal.replace(reFinalSpace,"");block.appendChild(new Node(hardbreak?"linebreak":"softbreak"))}else{block.appendChild(new Node("softbreak"))}this.match(reInitialSpace);return true};var parseReference=function(s,refmap){this.subject=s;this.pos=0;var rawlabel;var dest;var title;var matchChars;var startpos=this.pos;matchChars=this.parseLinkLabel();if(matchChars===0){return 0}else{rawlabel=this.subject.substr(0,matchChars)}if(this.peek()===C_COLON){this.pos++}else{this.pos=startpos;return 0}this.spnl();dest=this.parseLinkDestination();if(dest===null||dest.length===0){this.pos=startpos;return 0}var beforetitle=this.pos;this.spnl();title=this.parseLinkTitle();if(title===null){title="";this.pos=beforetitle}var atLineEnd=true;if(this.match(reSpaceAtEndOfLine)===null){if(title===""){atLineEnd=false}else{title="";this.pos=beforetitle;atLineEnd=this.match(reSpaceAtEndOfLine)!==null}}if(!atLineEnd){this.pos=startpos;return 0}var normlabel=normalizeReference(rawlabel);if(normlabel===""){this.pos=startpos;return 0}if(!refmap[normlabel]){refmap[normlabel]={destination:dest,title:title}}return this.pos-startpos};var parseInline=function(block){var res=false;var c=this.peek();if(c===-1){return false}switch(c){case C_NEWLINE:res=this.parseNewline(block);break;case C_BACKSLASH:res=this.parseBackslash(block);break;case C_BACKTICK:res=this.parseBackticks(block);break;case C_ASTERISK:case C_UNDERSCORE:res=this.handleDelim(c,block);break;case C_SINGLEQUOTE:case C_DOUBLEQUOTE:res=this.options.smart&&this.handleDelim(c,block);break;case C_OPEN_BRACKET:res=this.parseOpenBracket(block);break;case C_BANG:res=this.parseBang(block);break;case C_CLOSE_BRACKET:res=this.parseCloseBracket(block);break;case C_LESSTHAN:res=this.parseAutolink(block)||this.parseHtmlTag(block);break;case C_AMPERSAND:res=this.parseEntity(block);break;default:res=this.parseString(block);break}if(!res){this.pos+=1;block.appendChild(text(fromCodePoint(c)))}return true};var parseInlines=function(block){this.subject=block._string_content.trim();this.pos=0;this.delimiters=null;this.brackets=null;while(this.parseInline(block)){}block._string_content=null;this.processEmphasis(null)};function InlineParser(options){return{subject:"",delimiters:null,brackets:null,pos:0,refmap:{},match:match,peek:peek,spnl:spnl,parseBackticks:parseBackticks,parseBackslash:parseBackslash,parseAutolink:parseAutolink,parseHtmlTag:parseHtmlTag,scanDelims:scanDelims,handleDelim:handleDelim,parseLinkTitle:parseLinkTitle,parseLinkDestination:parseLinkDestination,parseLinkLabel:parseLinkLabel,parseOpenBracket:parseOpenBracket,parseBang:parseBang,parseCloseBracket:parseCloseBracket,addBracket:addBracket,removeBracket:removeBracket,parseEntity:parseEntity,parseString:parseString,parseNewline:parseNewline,parseReference:parseReference,parseInline:parseInline,processEmphasis:processEmphasis,removeDelimiter:removeDelimiter,options:options||{},parse:parseInlines}}module.exports=InlineParser},{"./common":9,"./from-code-point.js":10,"./node":13,"./normalize-reference":14,entities:136,"string.prototype.repeat":407}],13:[function(require,module,exports){"use strict";function isContainer(node){switch(node._type){case"document":case"block_quote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"link":case"image":case"custom_inline":case"custom_block":return true;default:return false}}var resumeAt=function(node,entering){this.current=node;this.entering=entering===true};var next=function(){var cur=this.current;var entering=this.entering;if(cur===null){return null}var container=isContainer(cur);if(entering&&container){if(cur._firstChild){this.current=cur._firstChild;this.entering=true}else{this.entering=false}}else if(cur===this.root){this.current=null}else if(cur._next===null){this.current=cur._parent;this.entering=false}else{this.current=cur._next;this.entering=true}return{entering:entering,node:cur}};var NodeWalker=function(root){return{current:root,root:root,entering:true,next:next,resumeAt:resumeAt}};var Node=function(nodeType,sourcepos){this._type=nodeType;this._parent=null;this._firstChild=null;this._lastChild=null;this._prev=null;this._next=null;this._sourcepos=sourcepos;this._lastLineBlank=false;this._open=true;this._string_content=null;this._literal=null;this._listData={};this._info=null;this._destination=null;this._title=null;this._isFenced=false;this._fenceChar=null;this._fenceLength=0;this._fenceOffset=null;this._level=null;this._onEnter=null;this._onExit=null};var proto=Node.prototype;Object.defineProperty(proto,"isContainer",{get:function(){return isContainer(this)}});Object.defineProperty(proto,"type",{get:function(){return this._type}});Object.defineProperty(proto,"firstChild",{get:function(){return this._firstChild}});Object.defineProperty(proto,"lastChild",{get:function(){return this._lastChild}});Object.defineProperty(proto,"next",{get:function(){return this._next}});Object.defineProperty(proto,"prev",{get:function(){return this._prev}});Object.defineProperty(proto,"parent",{get:function(){return this._parent}});Object.defineProperty(proto,"sourcepos",{get:function(){return this._sourcepos}});Object.defineProperty(proto,"literal",{get:function(){return this._literal},set:function(s){this._literal=s}});Object.defineProperty(proto,"destination",{get:function(){return this._destination},set:function(s){this._destination=s}});Object.defineProperty(proto,"title",{get:function(){return this._title},set:function(s){this._title=s}});Object.defineProperty(proto,"info",{get:function(){return this._info},set:function(s){this._info=s}});Object.defineProperty(proto,"level",{get:function(){return this._level},set:function(s){this._level=s}});Object.defineProperty(proto,"listType",{get:function(){return this._listData.type},set:function(t){this._listData.type=t}});Object.defineProperty(proto,"listTight",{get:function(){return this._listData.tight},set:function(t){this._listData.tight=t}});Object.defineProperty(proto,"listStart",{get:function(){return this._listData.start},set:function(n){this._listData.start=n}});Object.defineProperty(proto,"listDelimiter",{get:function(){return this._listData.delimiter},set:function(delim){this._listData.delimiter=delim}});Object.defineProperty(proto,"onEnter",{get:function(){return this._onEnter},set:function(s){this._onEnter=s}});Object.defineProperty(proto,"onExit",{get:function(){return this._onExit},set:function(s){this._onExit=s}});Node.prototype.appendChild=function(child){child.unlink();child._parent=this;if(this._lastChild){this._lastChild._next=child;child._prev=this._lastChild;this._lastChild=child}else{this._firstChild=child;this._lastChild=child}};Node.prototype.prependChild=function(child){child.unlink();child._parent=this;if(this._firstChild){this._firstChild._prev=child;child._next=this._firstChild;this._firstChild=child}else{this._firstChild=child;this._lastChild=child}};Node.prototype.unlink=function(){if(this._prev){this._prev._next=this._next}else if(this._parent){this._parent._firstChild=this._next}if(this._next){this._next._prev=this._prev}else if(this._parent){this._parent._lastChild=this._prev}this._parent=null;this._next=null;this._prev=null};Node.prototype.insertAfter=function(sibling){sibling.unlink();sibling._next=this._next;if(sibling._next){sibling._next._prev=sibling}sibling._prev=this;this._next=sibling;sibling._parent=this._parent;if(!sibling._next){sibling._parent._lastChild=sibling}};Node.prototype.insertBefore=function(sibling){sibling.unlink();sibling._prev=this._prev;if(sibling._prev){sibling._prev._next=sibling}sibling._next=this;this._prev=sibling;sibling._parent=this._parent;if(!sibling._prev){sibling._parent._firstChild=sibling}};Node.prototype.walker=function(){var walker=new NodeWalker(this);return walker};module.exports=Node},{}],14:[function(require,module,exports){"use strict";var regex=/[ \t\r\n]+|[A-Z\xB5\xC0-\xD6\xD8-\xDF\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u0149\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u017F\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C5\u01C7\u01C8\u01CA\u01CB\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F0-\u01F2\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0345\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03AB\u03B0\u03C2\u03CF-\u03D1\u03D5\u03D6\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F0\u03F1\u03F4\u03F5\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u0587\u10A0-\u10C5\u10C7\u10CD\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E96-\u1E9B\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F50\u1F52\u1F54\u1F56\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1F80-\u1FAF\u1FB2-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD2\u1FD3\u1FD6-\u1FDB\u1FE2-\u1FE4\u1FE6-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2126\u212A\u212B\u2132\u2160-\u216F\u2183\u24B6-\u24CF\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0\uA7B1\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27]|\uD806[\uDCA0-\uDCBF]/g;
var map={A:"a",B:"b",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",J:"j",K:"k",L:"l",M:"m",N:"n",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",U:"u",V:"v",W:"w",X:"x",Y:"y",Z:"z","µ":"μ","À":"à","Á":"á","Â":"â","Ã":"ã","Ä":"ä","Å":"å","Æ":"æ","Ç":"ç","È":"è","É":"é","Ê":"ê","Ë":"ë","Ì":"ì","Í":"í","Î":"î","Ï":"ï","Ð":"ð","Ñ":"ñ","Ò":"ò","Ó":"ó","Ô":"ô","Õ":"õ","Ö":"ö","Ø":"ø","Ù":"ù","Ú":"ú","Û":"û","Ü":"ü","Ý":"ý","Þ":"þ","Ā":"ā","Ă":"ă","Ą":"ą","Ć":"ć","Ĉ":"ĉ","Ċ":"ċ","Č":"č","Ď":"ď","Đ":"đ","Ē":"ē","Ĕ":"ĕ","Ė":"ė","Ę":"ę","Ě":"ě","Ĝ":"ĝ","Ğ":"ğ","Ġ":"ġ","Ģ":"ģ","Ĥ":"ĥ","Ħ":"ħ","Ĩ":"ĩ","Ī":"ī","Ĭ":"ĭ","Į":"į","Ĳ":"ĳ","Ĵ":"ĵ","Ķ":"ķ","Ĺ":"ĺ","Ļ":"ļ","Ľ":"ľ","Ŀ":"ŀ","Ł":"ł","Ń":"ń","Ņ":"ņ","Ň":"ň","Ŋ":"ŋ","Ō":"ō","Ŏ":"ŏ","Ő":"ő","Œ":"œ","Ŕ":"ŕ","Ŗ":"ŗ","Ř":"ř","Ś":"ś","Ŝ":"ŝ","Ş":"ş","Š":"š","Ţ":"ţ","Ť":"ť","Ŧ":"ŧ","Ũ":"ũ","Ū":"ū","Ŭ":"ŭ","Ů":"ů","Ű":"ű","Ų":"ų","Ŵ":"ŵ","Ŷ":"ŷ","Ÿ":"ÿ","Ź":"ź","Ż":"ż","Ž":"ž","ſ":"s","Ɓ":"ɓ","Ƃ":"ƃ","Ƅ":"ƅ","Ɔ":"ɔ","Ƈ":"ƈ","Ɖ":"ɖ","Ɗ":"ɗ","Ƌ":"ƌ","Ǝ":"ǝ","Ə":"ə","Ɛ":"ɛ","Ƒ":"ƒ","Ɠ":"ɠ","Ɣ":"ɣ","Ɩ":"ɩ","Ɨ":"ɨ","Ƙ":"ƙ","Ɯ":"ɯ","Ɲ":"ɲ","Ɵ":"ɵ","Ơ":"ơ","Ƣ":"ƣ","Ƥ":"ƥ","Ʀ":"ʀ","Ƨ":"ƨ","Ʃ":"ʃ","Ƭ":"ƭ","Ʈ":"ʈ","Ư":"ư","Ʊ":"ʊ","Ʋ":"ʋ","Ƴ":"ƴ","Ƶ":"ƶ","Ʒ":"ʒ","Ƹ":"ƹ","Ƽ":"ƽ","Ǆ":"ǆ","ǅ":"ǆ","Ǉ":"ǉ","ǈ":"ǉ","Ǌ":"ǌ","ǋ":"ǌ","Ǎ":"ǎ","Ǐ":"ǐ","Ǒ":"ǒ","Ǔ":"ǔ","Ǖ":"ǖ","Ǘ":"ǘ","Ǚ":"ǚ","Ǜ":"ǜ","Ǟ":"ǟ","Ǡ":"ǡ","Ǣ":"ǣ","Ǥ":"ǥ","Ǧ":"ǧ","Ǩ":"ǩ","Ǫ":"ǫ","Ǭ":"ǭ","Ǯ":"ǯ","Ǳ":"ǳ","ǲ":"ǳ","Ǵ":"ǵ","Ƕ":"ƕ","Ƿ":"ƿ","Ǹ":"ǹ","Ǻ":"ǻ","Ǽ":"ǽ","Ǿ":"ǿ","Ȁ":"ȁ","Ȃ":"ȃ","Ȅ":"ȅ","Ȇ":"ȇ","Ȉ":"ȉ","Ȋ":"ȋ","Ȍ":"ȍ","Ȏ":"ȏ","Ȑ":"ȑ","Ȓ":"ȓ","Ȕ":"ȕ","Ȗ":"ȗ","Ș":"ș","Ț":"ț","Ȝ":"ȝ","Ȟ":"ȟ","Ƞ":"ƞ","Ȣ":"ȣ","Ȥ":"ȥ","Ȧ":"ȧ","Ȩ":"ȩ","Ȫ":"ȫ","Ȭ":"ȭ","Ȯ":"ȯ","Ȱ":"ȱ","Ȳ":"ȳ","Ⱥ":"ⱥ","Ȼ":"ȼ","Ƚ":"ƚ","Ⱦ":"ⱦ","Ɂ":"ɂ","Ƀ":"ƀ","Ʉ":"ʉ","Ʌ":"ʌ","Ɇ":"ɇ","Ɉ":"ɉ","Ɋ":"ɋ","Ɍ":"ɍ","Ɏ":"ɏ","ͅ":"ι","Ͱ":"ͱ","Ͳ":"ͳ","Ͷ":"ͷ","Ϳ":"ϳ","Ά":"ά","Έ":"έ","Ή":"ή","Ί":"ί","Ό":"ό","Ύ":"ύ","Ώ":"ώ","Α":"α","Β":"β","Γ":"γ","Δ":"δ","Ε":"ε","Ζ":"ζ","Η":"η","Θ":"θ","Ι":"ι","Κ":"κ","Λ":"λ","Μ":"μ","Ν":"ν","Ξ":"ξ","Ο":"ο","Π":"π","Ρ":"ρ","Σ":"σ","Τ":"τ","Υ":"υ","Φ":"φ","Χ":"χ","Ψ":"ψ","Ω":"ω","Ϊ":"ϊ","Ϋ":"ϋ","ς":"σ","Ϗ":"ϗ","ϐ":"β","ϑ":"θ","ϕ":"φ","ϖ":"π","Ϙ":"ϙ","Ϛ":"ϛ","Ϝ":"ϝ","Ϟ":"ϟ","Ϡ":"ϡ","Ϣ":"ϣ","Ϥ":"ϥ","Ϧ":"ϧ","Ϩ":"ϩ","Ϫ":"ϫ","Ϭ":"ϭ","Ϯ":"ϯ","ϰ":"κ","ϱ":"ρ","ϴ":"θ","ϵ":"ε","Ϸ":"ϸ","Ϲ":"ϲ","Ϻ":"ϻ","Ͻ":"ͻ","Ͼ":"ͼ","Ͽ":"ͽ","Ѐ":"ѐ","Ё":"ё","Ђ":"ђ","Ѓ":"ѓ","Є":"є","Ѕ":"ѕ","І":"і","Ї":"ї","Ј":"ј","Љ":"љ","Њ":"њ","Ћ":"ћ","Ќ":"ќ","Ѝ":"ѝ","Ў":"ў","Џ":"џ","А":"а","Б":"б","В":"в","Г":"г","Д":"д","Е":"е","Ж":"ж","З":"з","И":"и","Й":"й","К":"к","Л":"л","М":"м","Н":"н","О":"о","П":"п","Р":"р","С":"с","Т":"т","У":"у","Ф":"ф","Х":"х","Ц":"ц","Ч":"ч","Ш":"ш","Щ":"щ","Ъ":"ъ","Ы":"ы","Ь":"ь","Э":"э","Ю":"ю","Я":"я","Ѡ":"ѡ","Ѣ":"ѣ","Ѥ":"ѥ","Ѧ":"ѧ","Ѩ":"ѩ","Ѫ":"ѫ","Ѭ":"ѭ","Ѯ":"ѯ","Ѱ":"ѱ","Ѳ":"ѳ","Ѵ":"ѵ","Ѷ":"ѷ","Ѹ":"ѹ","Ѻ":"ѻ","Ѽ":"ѽ","Ѿ":"ѿ","Ҁ":"ҁ","Ҋ":"ҋ","Ҍ":"ҍ","Ҏ":"ҏ","Ґ":"ґ","Ғ":"ғ","Ҕ":"ҕ","Җ":"җ","Ҙ":"ҙ","Қ":"қ","Ҝ":"ҝ","Ҟ":"ҟ","Ҡ":"ҡ","Ң":"ң","Ҥ":"ҥ","Ҧ":"ҧ","Ҩ":"ҩ","Ҫ":"ҫ","Ҭ":"ҭ","Ү":"ү","Ұ":"ұ","Ҳ":"ҳ","Ҵ":"ҵ","Ҷ":"ҷ","Ҹ":"ҹ","Һ":"һ","Ҽ":"ҽ","Ҿ":"ҿ","Ӏ":"ӏ","Ӂ":"ӂ","Ӄ":"ӄ","Ӆ":"ӆ","Ӈ":"ӈ","Ӊ":"ӊ","Ӌ":"ӌ","Ӎ":"ӎ","Ӑ":"ӑ","Ӓ":"ӓ","Ӕ":"ӕ","Ӗ":"ӗ","Ә":"ә","Ӛ":"ӛ","Ӝ":"ӝ","Ӟ":"ӟ","Ӡ":"ӡ","Ӣ":"ӣ","Ӥ":"ӥ","Ӧ":"ӧ","Ө":"ө","Ӫ":"ӫ","Ӭ":"ӭ","Ӯ":"ӯ","Ӱ":"ӱ","Ӳ":"ӳ","Ӵ":"ӵ","Ӷ":"ӷ","Ӹ":"ӹ","Ӻ":"ӻ","Ӽ":"ӽ","Ӿ":"ӿ","Ԁ":"ԁ","Ԃ":"ԃ","Ԅ":"ԅ","Ԇ":"ԇ","Ԉ":"ԉ","Ԋ":"ԋ","Ԍ":"ԍ","Ԏ":"ԏ","Ԑ":"ԑ","Ԓ":"ԓ","Ԕ":"ԕ","Ԗ":"ԗ","Ԙ":"ԙ","Ԛ":"ԛ","Ԝ":"ԝ","Ԟ":"ԟ","Ԡ":"ԡ","Ԣ":"ԣ","Ԥ":"ԥ","Ԧ":"ԧ","Ԩ":"ԩ","Ԫ":"ԫ","Ԭ":"ԭ","Ԯ":"ԯ","Ա":"ա","Բ":"բ","Գ":"գ","Դ":"դ","Ե":"ե","Զ":"զ","Է":"է","Ը":"ը","Թ":"թ","Ժ":"ժ","Ի":"ի","Լ":"լ","Խ":"խ","Ծ":"ծ","Կ":"կ","Հ":"հ","Ձ":"ձ","Ղ":"ղ","Ճ":"ճ","Մ":"մ","Յ":"յ","Ն":"ն","Շ":"շ","Ո":"ո","Չ":"չ","Պ":"պ","Ջ":"ջ","Ռ":"ռ","Ս":"ս","Վ":"վ","Տ":"տ","Ր":"ր","Ց":"ց","Ւ":"ւ","Փ":"փ","Ք":"ք","Օ":"օ","Ֆ":"ֆ","Ⴀ":"ⴀ","Ⴁ":"ⴁ","Ⴂ":"ⴂ","Ⴃ":"ⴃ","Ⴄ":"ⴄ","Ⴅ":"ⴅ","Ⴆ":"ⴆ","Ⴇ":"ⴇ","Ⴈ":"ⴈ","Ⴉ":"ⴉ","Ⴊ":"ⴊ","Ⴋ":"ⴋ","Ⴌ":"ⴌ","Ⴍ":"ⴍ","Ⴎ":"ⴎ","Ⴏ":"ⴏ","Ⴐ":"ⴐ","Ⴑ":"ⴑ","Ⴒ":"ⴒ","Ⴓ":"ⴓ","Ⴔ":"ⴔ","Ⴕ":"ⴕ","Ⴖ":"ⴖ","Ⴗ":"ⴗ","Ⴘ":"ⴘ","Ⴙ":"ⴙ","Ⴚ":"ⴚ","Ⴛ":"ⴛ","Ⴜ":"ⴜ","Ⴝ":"ⴝ","Ⴞ":"ⴞ","Ⴟ":"ⴟ","Ⴠ":"ⴠ","Ⴡ":"ⴡ","Ⴢ":"ⴢ","Ⴣ":"ⴣ","Ⴤ":"ⴤ","Ⴥ":"ⴥ","Ⴧ":"ⴧ","Ⴭ":"ⴭ","Ḁ":"ḁ","Ḃ":"ḃ","Ḅ":"ḅ","Ḇ":"ḇ","Ḉ":"ḉ","Ḋ":"ḋ","Ḍ":"ḍ","Ḏ":"ḏ","Ḑ":"ḑ","Ḓ":"ḓ","Ḕ":"ḕ","Ḗ":"ḗ","Ḙ":"ḙ","Ḛ":"ḛ","Ḝ":"ḝ","Ḟ":"ḟ","Ḡ":"ḡ","Ḣ":"ḣ","Ḥ":"ḥ","Ḧ":"ḧ","Ḩ":"ḩ","Ḫ":"ḫ","Ḭ":"ḭ","Ḯ":"ḯ","Ḱ":"ḱ","Ḳ":"ḳ","Ḵ":"ḵ","Ḷ":"ḷ","Ḹ":"ḹ","Ḻ":"ḻ","Ḽ":"ḽ","Ḿ":"ḿ","Ṁ":"ṁ","Ṃ":"ṃ","Ṅ":"ṅ","Ṇ":"ṇ","Ṉ":"ṉ","Ṋ":"ṋ","Ṍ":"ṍ","Ṏ":"ṏ","Ṑ":"ṑ","Ṓ":"ṓ","Ṕ":"ṕ","Ṗ":"ṗ","Ṙ":"ṙ","Ṛ":"ṛ","Ṝ":"ṝ","Ṟ":"ṟ","Ṡ":"ṡ","Ṣ":"ṣ","Ṥ":"ṥ","Ṧ":"ṧ","Ṩ":"ṩ","Ṫ":"ṫ","Ṭ":"ṭ","Ṯ":"ṯ","Ṱ":"ṱ","Ṳ":"ṳ","Ṵ":"ṵ","Ṷ":"ṷ","Ṹ":"ṹ","Ṻ":"ṻ","Ṽ":"ṽ","Ṿ":"ṿ","Ẁ":"ẁ","Ẃ":"ẃ","Ẅ":"ẅ","Ẇ":"ẇ","Ẉ":"ẉ","Ẋ":"ẋ","Ẍ":"ẍ","Ẏ":"ẏ","Ẑ":"ẑ","Ẓ":"ẓ","Ẕ":"ẕ","ẛ":"ṡ","Ạ":"ạ","Ả":"ả","Ấ":"ấ","Ầ":"ầ","Ẩ":"ẩ","Ẫ":"ẫ","Ậ":"ậ","Ắ":"ắ","Ằ":"ằ","Ẳ":"ẳ","Ẵ":"ẵ","Ặ":"ặ","Ẹ":"ẹ","Ẻ":"ẻ","Ẽ":"ẽ","Ế":"ế","Ề":"ề","Ể":"ể","Ễ":"ễ","Ệ":"ệ","Ỉ":"ỉ","Ị":"ị","Ọ":"ọ","Ỏ":"ỏ","Ố":"ố","Ồ":"ồ","Ổ":"ổ","Ỗ":"ỗ","Ộ":"ộ","Ớ":"ớ","Ờ":"ờ","Ở":"ở","Ỡ":"ỡ","Ợ":"ợ","Ụ":"ụ","Ủ":"ủ","Ứ":"ứ","Ừ":"ừ","Ử":"ử","Ữ":"ữ","Ự":"ự","Ỳ":"ỳ","Ỵ":"ỵ","Ỷ":"ỷ","Ỹ":"ỹ","Ỻ":"ỻ","Ỽ":"ỽ","Ỿ":"ỿ","Ἀ":"ἀ","Ἁ":"ἁ","Ἂ":"ἂ","Ἃ":"ἃ","Ἄ":"ἄ","Ἅ":"ἅ","Ἆ":"ἆ","Ἇ":"ἇ","Ἐ":"ἐ","Ἑ":"ἑ","Ἒ":"ἒ","Ἓ":"ἓ","Ἔ":"ἔ","Ἕ":"ἕ","Ἠ":"ἠ","Ἡ":"ἡ","Ἢ":"ἢ","Ἣ":"ἣ","Ἤ":"ἤ","Ἥ":"ἥ","Ἦ":"ἦ","Ἧ":"ἧ","Ἰ":"ἰ","Ἱ":"ἱ","Ἲ":"ἲ","Ἳ":"ἳ","Ἴ":"ἴ","Ἵ":"ἵ","Ἶ":"ἶ","Ἷ":"ἷ","Ὀ":"ὀ","Ὁ":"ὁ","Ὂ":"ὂ","Ὃ":"ὃ","Ὄ":"ὄ","Ὅ":"ὅ","Ὑ":"ὑ","Ὓ":"ὓ","Ὕ":"ὕ","Ὗ":"ὗ","Ὠ":"ὠ","Ὡ":"ὡ","Ὢ":"ὢ","Ὣ":"ὣ","Ὤ":"ὤ","Ὥ":"ὥ","Ὦ":"ὦ","Ὧ":"ὧ","Ᾰ":"ᾰ","Ᾱ":"ᾱ","Ὰ":"ὰ","Ά":"ά","ι":"ι","Ὲ":"ὲ","Έ":"έ","Ὴ":"ὴ","Ή":"ή","Ῐ":"ῐ","Ῑ":"ῑ","Ὶ":"ὶ","Ί":"ί","Ῠ":"ῠ","Ῡ":"ῡ","Ὺ":"ὺ","Ύ":"ύ","Ῥ":"ῥ","Ὸ":"ὸ","Ό":"ό","Ὼ":"ὼ","Ώ":"ώ","Ω":"ω","K":"k","Å":"å","Ⅎ":"ⅎ","Ⅰ":"ⅰ","Ⅱ":"ⅱ","Ⅲ":"ⅲ","Ⅳ":"ⅳ","Ⅴ":"ⅴ","Ⅵ":"ⅵ","Ⅶ":"ⅶ","Ⅷ":"ⅷ","Ⅸ":"ⅸ","Ⅹ":"ⅹ","Ⅺ":"ⅺ","Ⅻ":"ⅻ","Ⅼ":"ⅼ","Ⅽ":"ⅽ","Ⅾ":"ⅾ","Ⅿ":"ⅿ","Ↄ":"ↄ","Ⓐ":"ⓐ","Ⓑ":"ⓑ","Ⓒ":"ⓒ","Ⓓ":"ⓓ","Ⓔ":"ⓔ","Ⓕ":"ⓕ","Ⓖ":"ⓖ","Ⓗ":"ⓗ","Ⓘ":"ⓘ","Ⓙ":"ⓙ","Ⓚ":"ⓚ","Ⓛ":"ⓛ","Ⓜ":"ⓜ","Ⓝ":"ⓝ","Ⓞ":"ⓞ","Ⓟ":"ⓟ","Ⓠ":"ⓠ","Ⓡ":"ⓡ","Ⓢ":"ⓢ","Ⓣ":"ⓣ","Ⓤ":"ⓤ","Ⓥ":"ⓥ","Ⓦ":"ⓦ","Ⓧ":"ⓧ","Ⓨ":"ⓨ","Ⓩ":"ⓩ","Ⰰ":"ⰰ","Ⰱ":"ⰱ","Ⰲ":"ⰲ","Ⰳ":"ⰳ","Ⰴ":"ⰴ","Ⰵ":"ⰵ","Ⰶ":"ⰶ","Ⰷ":"ⰷ","Ⰸ":"ⰸ","Ⰹ":"ⰹ","Ⰺ":"ⰺ","Ⰻ":"ⰻ","Ⰼ":"ⰼ","Ⰽ":"ⰽ","Ⰾ":"ⰾ","Ⰿ":"ⰿ","Ⱀ":"ⱀ","Ⱁ":"ⱁ","Ⱂ":"ⱂ","Ⱃ":"ⱃ","Ⱄ":"ⱄ","Ⱅ":"ⱅ","Ⱆ":"ⱆ","Ⱇ":"ⱇ","Ⱈ":"ⱈ","Ⱉ":"ⱉ","Ⱊ":"ⱊ","Ⱋ":"ⱋ","Ⱌ":"ⱌ","Ⱍ":"ⱍ","Ⱎ":"ⱎ","Ⱏ":"ⱏ","Ⱐ":"ⱐ","Ⱑ":"ⱑ","Ⱒ":"ⱒ","Ⱓ":"ⱓ","Ⱔ":"ⱔ","Ⱕ":"ⱕ","Ⱖ":"ⱖ","Ⱗ":"ⱗ","Ⱘ":"ⱘ","Ⱙ":"ⱙ","Ⱚ":"ⱚ","Ⱛ":"ⱛ","Ⱜ":"ⱜ","Ⱝ":"ⱝ","Ⱞ":"ⱞ","Ⱡ":"ⱡ","Ɫ":"ɫ","Ᵽ":"ᵽ","Ɽ":"ɽ","Ⱨ":"ⱨ","Ⱪ":"ⱪ","Ⱬ":"ⱬ","Ɑ":"ɑ","Ɱ":"ɱ","Ɐ":"ɐ","Ɒ":"ɒ","Ⱳ":"ⱳ","Ⱶ":"ⱶ","Ȿ":"ȿ","Ɀ":"ɀ","Ⲁ":"ⲁ","Ⲃ":"ⲃ","Ⲅ":"ⲅ","Ⲇ":"ⲇ","Ⲉ":"ⲉ","Ⲋ":"ⲋ","Ⲍ":"ⲍ","Ⲏ":"ⲏ","Ⲑ":"ⲑ","Ⲓ":"ⲓ","Ⲕ":"ⲕ","Ⲗ":"ⲗ","Ⲙ":"ⲙ","Ⲛ":"ⲛ","Ⲝ":"ⲝ","Ⲟ":"ⲟ","Ⲡ":"ⲡ","Ⲣ":"ⲣ","Ⲥ":"ⲥ","Ⲧ":"ⲧ","Ⲩ":"ⲩ","Ⲫ":"ⲫ","Ⲭ":"ⲭ","Ⲯ":"ⲯ","Ⲱ":"ⲱ","Ⲳ":"ⲳ","Ⲵ":"ⲵ","Ⲷ":"ⲷ","Ⲹ":"ⲹ","Ⲻ":"ⲻ","Ⲽ":"ⲽ","Ⲿ":"ⲿ","Ⳁ":"ⳁ","Ⳃ":"ⳃ","Ⳅ":"ⳅ","Ⳇ":"ⳇ","Ⳉ":"ⳉ","Ⳋ":"ⳋ","Ⳍ":"ⳍ","Ⳏ":"ⳏ","Ⳑ":"ⳑ","Ⳓ":"ⳓ","Ⳕ":"ⳕ","Ⳗ":"ⳗ","Ⳙ":"ⳙ","Ⳛ":"ⳛ","Ⳝ":"ⳝ","Ⳟ":"ⳟ","Ⳡ":"ⳡ","Ⳣ":"ⳣ","Ⳬ":"ⳬ","Ⳮ":"ⳮ","Ⳳ":"ⳳ","Ꙁ":"ꙁ","Ꙃ":"ꙃ","Ꙅ":"ꙅ","Ꙇ":"ꙇ","Ꙉ":"ꙉ","Ꙋ":"ꙋ","Ꙍ":"ꙍ","Ꙏ":"ꙏ","Ꙑ":"ꙑ","Ꙓ":"ꙓ","Ꙕ":"ꙕ","Ꙗ":"ꙗ","Ꙙ":"ꙙ","Ꙛ":"ꙛ","Ꙝ":"ꙝ","Ꙟ":"ꙟ","Ꙡ":"ꙡ","Ꙣ":"ꙣ","Ꙥ":"ꙥ","Ꙧ":"ꙧ","Ꙩ":"ꙩ","Ꙫ":"ꙫ","Ꙭ":"ꙭ","Ꚁ":"ꚁ","Ꚃ":"ꚃ","Ꚅ":"ꚅ","Ꚇ":"ꚇ","Ꚉ":"ꚉ","Ꚋ":"ꚋ","Ꚍ":"ꚍ","Ꚏ":"ꚏ","Ꚑ":"ꚑ","Ꚓ":"ꚓ","Ꚕ":"ꚕ","Ꚗ":"ꚗ","Ꚙ":"ꚙ","Ꚛ":"ꚛ","Ꜣ":"ꜣ","Ꜥ":"ꜥ","Ꜧ":"ꜧ","Ꜩ":"ꜩ","Ꜫ":"ꜫ","Ꜭ":"ꜭ","Ꜯ":"ꜯ","Ꜳ":"ꜳ","Ꜵ":"ꜵ","Ꜷ":"ꜷ","Ꜹ":"ꜹ","Ꜻ":"ꜻ","Ꜽ":"ꜽ","Ꜿ":"ꜿ","Ꝁ":"ꝁ","Ꝃ":"ꝃ","Ꝅ":"ꝅ","Ꝇ":"ꝇ","Ꝉ":"ꝉ","Ꝋ":"ꝋ","Ꝍ":"ꝍ","Ꝏ":"ꝏ","Ꝑ":"ꝑ","Ꝓ":"ꝓ","Ꝕ":"ꝕ","Ꝗ":"ꝗ","Ꝙ":"ꝙ","Ꝛ":"ꝛ","Ꝝ":"ꝝ","Ꝟ":"ꝟ","Ꝡ":"ꝡ","Ꝣ":"ꝣ","Ꝥ":"ꝥ","Ꝧ":"ꝧ","Ꝩ":"ꝩ","Ꝫ":"ꝫ","Ꝭ":"ꝭ","Ꝯ":"ꝯ","Ꝺ":"ꝺ","Ꝼ":"ꝼ","Ᵹ":"ᵹ","Ꝿ":"ꝿ","Ꞁ":"ꞁ","Ꞃ":"ꞃ","Ꞅ":"ꞅ","Ꞇ":"ꞇ","Ꞌ":"ꞌ","Ɥ":"ɥ","Ꞑ":"ꞑ","Ꞓ":"ꞓ","Ꞗ":"ꞗ","Ꞙ":"ꞙ","Ꞛ":"ꞛ","Ꞝ":"ꞝ","Ꞟ":"ꞟ","Ꞡ":"ꞡ","Ꞣ":"ꞣ","Ꞥ":"ꞥ","Ꞧ":"ꞧ","Ꞩ":"ꞩ","Ɦ":"ɦ","Ɜ":"ɜ","Ɡ":"ɡ","Ɬ":"ɬ","Ʞ":"ʞ","Ʇ":"ʇ","Ａ":"ａ","Ｂ":"ｂ","Ｃ":"ｃ","Ｄ":"ｄ","Ｅ":"ｅ","Ｆ":"ｆ","Ｇ":"ｇ","Ｈ":"ｈ","Ｉ":"ｉ","Ｊ":"ｊ","Ｋ":"ｋ","Ｌ":"ｌ","Ｍ":"ｍ","Ｎ":"ｎ","Ｏ":"ｏ","Ｐ":"ｐ","Ｑ":"ｑ","Ｒ":"ｒ","Ｓ":"ｓ","Ｔ":"ｔ","Ｕ":"ｕ","Ｖ":"ｖ","Ｗ":"ｗ","Ｘ":"ｘ","Ｙ":"ｙ","Ｚ":"ｚ","𐐀":"𐐨","𐐁":"𐐩","𐐂":"𐐪","𐐃":"𐐫","𐐄":"𐐬","𐐅":"𐐭","𐐆":"𐐮","𐐇":"𐐯","𐐈":"𐐰","𐐉":"𐐱","𐐊":"𐐲","𐐋":"𐐳","𐐌":"𐐴","𐐍":"𐐵","𐐎":"𐐶","𐐏":"𐐷","𐐐":"𐐸","𐐑":"𐐹","𐐒":"𐐺","𐐓":"𐐻","𐐔":"𐐼","𐐕":"𐐽","𐐖":"𐐾","𐐗":"𐐿","𐐘":"𐑀","𐐙":"𐑁","𐐚":"𐑂","𐐛":"𐑃","𐐜":"𐑄","𐐝":"𐑅","𐐞":"𐑆","𐐟":"𐑇","𐐠":"𐑈","𐐡":"𐑉","𐐢":"𐑊","𐐣":"𐑋","𐐤":"𐑌","𐐥":"𐑍","𐐦":"𐑎","𐐧":"𐑏","𑢠":"𑣀","𑢡":"𑣁","𑢢":"𑣂","𑢣":"𑣃","𑢤":"𑣄","𑢥":"𑣅","𑢦":"𑣆","𑢧":"𑣇","𑢨":"𑣈","𑢩":"𑣉","𑢪":"𑣊","𑢫":"𑣋","𑢬":"𑣌","𑢭":"𑣍","𑢮":"𑣎","𑢯":"𑣏","𑢰":"𑣐","𑢱":"𑣑","𑢲":"𑣒","𑢳":"𑣓","𑢴":"𑣔","𑢵":"𑣕","𑢶":"𑣖","𑢷":"𑣗","𑢸":"𑣘","𑢹":"𑣙","𑢺":"𑣚","𑢻":"𑣛","𑢼":"𑣜","𑢽":"𑣝","𑢾":"𑣞","𑢿":"𑣟","ß":"ss","İ":"i̇","ŉ":"ʼn","ǰ":"ǰ","ΐ":"ΐ","ΰ":"ΰ","և":"եւ","ẖ":"ẖ","ẗ":"ẗ","ẘ":"ẘ","ẙ":"ẙ","ẚ":"aʾ","ẞ":"ss","ὐ":"ὐ","ὒ":"ὒ","ὔ":"ὔ","ὖ":"ὖ","ᾀ":"ἀι","ᾁ":"ἁι","ᾂ":"ἂι","ᾃ":"ἃι","ᾄ":"ἄι","ᾅ":"ἅι","ᾆ":"ἆι","ᾇ":"ἇι","ᾈ":"ἀι","ᾉ":"ἁι","ᾊ":"ἂι","ᾋ":"ἃι","ᾌ":"ἄι","ᾍ":"ἅι","ᾎ":"ἆι","ᾏ":"ἇι","ᾐ":"ἠι","ᾑ":"ἡι","ᾒ":"ἢι","ᾓ":"ἣι","ᾔ":"ἤι","ᾕ":"ἥι","ᾖ":"ἦι","ᾗ":"ἧι","ᾘ":"ἠι","ᾙ":"ἡι","ᾚ":"ἢι","ᾛ":"ἣι","ᾜ":"ἤι","ᾝ":"ἥι","ᾞ":"ἦι","ᾟ":"ἧι","ᾠ":"ὠι","ᾡ":"ὡι","ᾢ":"ὢι","ᾣ":"ὣι","ᾤ":"ὤι","ᾥ":"ὥι","ᾦ":"ὦι","ᾧ":"ὧι","ᾨ":"ὠι","ᾩ":"ὡι","ᾪ":"ὢι","ᾫ":"ὣι","ᾬ":"ὤι","ᾭ":"ὥι","ᾮ":"ὦι","ᾯ":"ὧι","ᾲ":"ὰι","ᾳ":"αι","ᾴ":"άι","ᾶ":"ᾶ","ᾷ":"ᾶι","ᾼ":"αι","ῂ":"ὴι","ῃ":"ηι","ῄ":"ήι","ῆ":"ῆ","ῇ":"ῆι","ῌ":"ηι","ῒ":"ῒ","ΐ":"ΐ","ῖ":"ῖ","ῗ":"ῗ","ῢ":"ῢ","ΰ":"ΰ","ῤ":"ῤ","ῦ":"ῦ","ῧ":"ῧ","ῲ":"ὼι","ῳ":"ωι","ῴ":"ώι","ῶ":"ῶ","ῷ":"ῶι","ῼ":"ωι","ﬀ":"ff","ﬁ":"fi","ﬂ":"fl","ﬃ":"ffi","ﬄ":"ffl","ﬅ":"st","ﬆ":"st","ﬓ":"մն","ﬔ":"մե","ﬕ":"մի","ﬖ":"վն","ﬗ":"մխ"};module.exports=function(string){return string.slice(1,string.length-1).trim().replace(regex,function($0){return map[$0]||" "})}},{}],15:[function(require,module,exports){"use strict";var Renderer=require("./renderer");var esc=require("../common").escapeXml;var reUnsafeProtocol=/^javascript:|vbscript:|file:|data:/i;var reSafeDataProtocol=/^data:image\/(?:png|gif|jpeg|webp)/i;var potentiallyUnsafe=function(url){return reUnsafeProtocol.test(url)&&!reSafeDataProtocol.test(url)};function tag(name,attrs,selfclosing){if(this.disableTags>0){return}this.buffer+="<"+name;if(attrs&&attrs.length>0){var i=0;var attrib;while((attrib=attrs[i])!==undefined){this.buffer+=" "+attrib[0]+'="'+attrib[1]+'"';i++}}if(selfclosing){this.buffer+=" /"}this.buffer+=">";this.lastOut=">"}function HtmlRenderer(options){options=options||{};options.softbreak=options.softbreak||"\n";this.disableTags=0;this.lastOut="\n";this.options=options}function text(node){this.out(node.literal)}function softbreak(){this.lit(this.options.softbreak)}function linebreak(){this.tag("br",[],true);this.cr()}function link(node,entering){var attrs=this.attrs(node);if(entering){if(!(this.options.safe&&potentiallyUnsafe(node.destination))){attrs.push(["href",esc(node.destination,true)])}if(node.title){attrs.push(["title",esc(node.title,true)])}this.tag("a",attrs)}else{this.tag("/a")}}function image(node,entering){if(entering){if(this.disableTags===0){if(this.options.safe&&potentiallyUnsafe(node.destination)){this.lit('<img src="" alt="')}else{this.lit('<img src="'+esc(node.destination,true)+'" alt="')}}this.disableTags+=1}else{this.disableTags-=1;if(this.disableTags===0){if(node.title){this.lit('" title="'+esc(node.title,true))}this.lit('" />')}}}function emph(node,entering){this.tag(entering?"em":"/em")}function strong(node,entering){this.tag(entering?"strong":"/strong")}function paragraph(node,entering){var grandparent=node.parent.parent,attrs=this.attrs(node);if(grandparent!==null&&grandparent.type==="list"){if(grandparent.listTight){return}}if(entering){this.cr();this.tag("p",attrs)}else{this.tag("/p");this.cr()}}function heading(node,entering){var tagname="h"+node.level,attrs=this.attrs(node);if(entering){this.cr();this.tag(tagname,attrs)}else{this.tag("/"+tagname);this.cr()}}function code(node){this.tag("code");this.out(node.literal);this.tag("/code")}function code_block(node){var info_words=node.info?node.info.split(/\s+/):[],attrs=this.attrs(node);if(info_words.length>0&&info_words[0].length>0){attrs.push(["class","language-"+esc(info_words[0],true)])}this.cr();this.tag("pre");this.tag("code",attrs);this.out(node.literal);this.tag("/code");this.tag("/pre");this.cr()}function thematic_break(node){var attrs=this.attrs(node);this.cr();this.tag("hr",attrs,true);this.cr()}function block_quote(node,entering){var attrs=this.attrs(node);if(entering){this.cr();this.tag("blockquote",attrs);this.cr()}else{this.cr();this.tag("/blockquote");this.cr()}}function list(node,entering){var tagname=node.listType==="bullet"?"ul":"ol",attrs=this.attrs(node);if(entering){var start=node.listStart;if(start!==null&&start!==1){attrs.push(["start",start.toString()])}this.cr();this.tag(tagname,attrs);this.cr()}else{this.cr();this.tag("/"+tagname);this.cr()}}function item(node,entering){var attrs=this.attrs(node);if(entering){this.tag("li",attrs)}else{this.tag("/li");this.cr()}}function html_inline(node){if(this.options.safe){this.lit("<!-- raw HTML omitted -->")}else{this.lit(node.literal)}}function html_block(node){this.cr();if(this.options.safe){this.lit("<!-- raw HTML omitted -->")}else{this.lit(node.literal)}this.cr()}function custom_inline(node,entering){if(entering&&node.onEnter){this.lit(node.onEnter)}else if(!entering&&node.onExit){this.lit(node.onExit)}}function custom_block(node,entering){this.cr();if(entering&&node.onEnter){this.lit(node.onEnter)}else if(!entering&&node.onExit){this.lit(node.onExit)}this.cr()}function out(s){this.lit(esc(s,false))}function attrs(node){var att=[];if(this.options.sourcepos){var pos=node.sourcepos;if(pos){att.push(["data-sourcepos",String(pos[0][0])+":"+String(pos[0][1])+"-"+String(pos[1][0])+":"+String(pos[1][1])])}}return att}HtmlRenderer.prototype=Object.create(Renderer.prototype);HtmlRenderer.prototype.text=text;HtmlRenderer.prototype.html_inline=html_inline;HtmlRenderer.prototype.html_block=html_block;HtmlRenderer.prototype.softbreak=softbreak;HtmlRenderer.prototype.linebreak=linebreak;HtmlRenderer.prototype.link=link;HtmlRenderer.prototype.image=image;HtmlRenderer.prototype.emph=emph;HtmlRenderer.prototype.strong=strong;HtmlRenderer.prototype.paragraph=paragraph;HtmlRenderer.prototype.heading=heading;HtmlRenderer.prototype.code=code;HtmlRenderer.prototype.code_block=code_block;HtmlRenderer.prototype.thematic_break=thematic_break;HtmlRenderer.prototype.block_quote=block_quote;HtmlRenderer.prototype.list=list;HtmlRenderer.prototype.item=item;HtmlRenderer.prototype.custom_inline=custom_inline;HtmlRenderer.prototype.custom_block=custom_block;HtmlRenderer.prototype.out=out;HtmlRenderer.prototype.tag=tag;HtmlRenderer.prototype.attrs=attrs;module.exports=HtmlRenderer},{"../common":9,"./renderer":16}],16:[function(require,module,exports){"use strict";function Renderer(){}function render(ast){var walker=ast.walker(),event,type;this.buffer="";this.lastOut="\n";while(event=walker.next()){type=event.node.type;if(this[type]){this[type](event.node,event.entering)}}return this.buffer}function lit(str){this.buffer+=str;this.lastOut=str}function cr(){if(this.lastOut!=="\n"){this.lit("\n")}}function out(str){this.lit(str)}Renderer.prototype.render=render;Renderer.prototype.out=out;Renderer.prototype.lit=lit;Renderer.prototype.cr=cr;module.exports=Renderer},{}],17:[function(require,module,exports){"use strict";var escapeXml=require("./common").escapeXml;var tag=function(name,attrs,selfclosing){var result="<"+name;if(attrs&&attrs.length>0){var i=0;var attrib;while((attrib=attrs[i])!==undefined){result+=" "+attrib[0]+'="'+escapeXml(attrib[1])+'"';i++}}if(selfclosing){result+=" /"}result+=">";return result};var reXMLTag=/\<[^>]*\>/;var toTagName=function(s){return s.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase()};var renderNodes=function(block){var attrs;var tagname;var walker=block.walker();var event,node,entering;var buffer="";var lastOut="\n";var disableTags=0;var indentLevel=0;var indent="  ";var container;var selfClosing;var nodetype;var out=function(s){if(disableTags>0){buffer+=s.replace(reXMLTag,"")}else{buffer+=s}lastOut=s};var esc=this.escape;var cr=function(){if(lastOut!=="\n"){buffer+="\n";lastOut="\n";for(var i=indentLevel;i>0;i--){buffer+=indent}}};var options=this.options;if(options.time){console.time("rendering")}buffer+='<?xml version="1.0" encoding="UTF-8"?>\n';buffer+='<!DOCTYPE CommonMark SYSTEM "CommonMark.dtd">\n';while(event=walker.next()){entering=event.entering;node=event.node;nodetype=node.type;container=node.isContainer;selfClosing=nodetype==="thematic_break"||nodetype==="linebreak"||nodetype==="softbreak";tagname=toTagName(nodetype);if(entering){attrs=[];switch(nodetype){case"document":attrs.push(["xmlns","http://commonmark.org/xml/1.0"]);break;case"list":if(node.listType!==null){attrs.push(["type",node.listType.toLowerCase()])}if(node.listStart!==null){attrs.push(["start",String(node.listStart)])}if(node.listTight!==null){attrs.push(["tight",node.listTight?"true":"false"])}var delim=node.listDelimiter;if(delim!==null){var delimword="";if(delim==="."){delimword="period"}else{delimword="paren"}attrs.push(["delimiter",delimword])}break;case"code_block":if(node.info){attrs.push(["info",node.info])}break;case"heading":attrs.push(["level",String(node.level)]);break;case"link":case"image":attrs.push(["destination",node.destination]);attrs.push(["title",node.title]);break;case"custom_inline":case"custom_block":attrs.push(["on_enter",node.onEnter]);attrs.push(["on_exit",node.onExit]);break;default:break}if(options.sourcepos){var pos=node.sourcepos;if(pos){attrs.push(["sourcepos",String(pos[0][0])+":"+String(pos[0][1])+"-"+String(pos[1][0])+":"+String(pos[1][1])])}}cr();out(tag(tagname,attrs,selfClosing));if(container){indentLevel+=1}else if(!container&&!selfClosing){var lit=node.literal;if(lit){out(esc(lit))}out(tag("/"+tagname))}}else{indentLevel-=1;cr();out(tag("/"+tagname))}}if(options.time){console.timeEnd("rendering")}buffer+="\n";return buffer};function XmlRenderer(options){return{softbreak:"\n",escape:escapeXml,options:options||{},render:renderNodes}}module.exports=XmlRenderer},{"./common":9}],18:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function combineOrderedStyles(customMap,defaults){if(customMap==null){return defaults}var _defaults=_slicedToArray(defaults,2);var defaultStyleMap=_defaults[0];var defaultStyleOrder=_defaults[1];var styleMap=_extends({},defaultStyleMap);var styleOrder=[].concat(_toConsumableArray(defaultStyleOrder));var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=Object.keys(customMap)[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _styleName=_step.value;if(defaultStyleMap.hasOwnProperty(_styleName)){var defaultStyles=defaultStyleMap[_styleName];styleMap[_styleName]=_extends({},defaultStyles,customMap[_styleName])}else{styleMap[_styleName]=customMap[_styleName];styleOrder.push(_styleName)}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return[styleMap,styleOrder]}exports.default=combineOrderedStyles},{}],19:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ATTR_NAME_MAP={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"};function normalizeAttributes(attributes){if(attributes==null){return attributes}var normalized={};var didNormalize=false;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=Object.keys(attributes)[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var name=_step.value;var newName=name;if(ATTR_NAME_MAP.hasOwnProperty(name)){newName=ATTR_NAME_MAP[name];didNormalize=true}normalized[newName]=attributes[name]}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return didNormalize?normalized:attributes}exports.default=normalizeAttributes},{}],20:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _CSSProperty=require("react/lib/CSSProperty");var VENDOR_PREFIX=/^(moz|ms|o|webkit)-/;var NUMERIC_STRING=/^\d+$/;var UPPERCASE_PATTERN=/([A-Z])/g;function processStyleName(name){return name.replace(UPPERCASE_PATTERN,"-$1").toLowerCase().replace(VENDOR_PREFIX,"-$1-")}function processStyleValue(name,value){var isNumeric=void 0;if(typeof value==="string"){isNumeric=NUMERIC_STRING.test(value)}else{isNumeric=true;value=String(value)}if(!isNumeric||value==="0"||_CSSProperty.isUnitlessNumber[name]===true){return value}else{return value+"px"}}function styleToCSS(styleDescr){return Object.keys(styleDescr).map(function(name){var styleValue=processStyleValue(name,styleDescr[name]);var styleName=processStyleName(name);return styleName+": "+styleValue}).join("; ")}exports.default=styleToCSS},{"react/lib/CSSProperty":257}],21:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _stateToHTML=require("./stateToHTML");Object.defineProperty(exports,"stateToHTML",{enumerable:true,get:function get(){return _interopRequireDefault(_stateToHTML).default}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},{"./stateToHTML":22}],22:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _DEFAULT_STYLE_MAP,_ENTITY_ATTR_MAP,_DATA_TO_ATTR;exports.default=stateToHTML;var _combineOrderedStyles3=require("./helpers/combineOrderedStyles");var _combineOrderedStyles4=_interopRequireDefault(_combineOrderedStyles3);var _normalizeAttributes=require("./helpers/normalizeAttributes");var _normalizeAttributes2=_interopRequireDefault(_normalizeAttributes);var _styleToCSS=require("./helpers/styleToCSS");var _styleToCSS2=_interopRequireDefault(_styleToCSS);var _draftJs=require("draft-js");var _draftJsUtils=require("draft-js-utils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var BOLD=_draftJsUtils.INLINE_STYLE.BOLD;var CODE=_draftJsUtils.INLINE_STYLE.CODE;var ITALIC=_draftJsUtils.INLINE_STYLE.ITALIC;var STRIKETHROUGH=_draftJsUtils.INLINE_STYLE.STRIKETHROUGH;var UNDERLINE=_draftJsUtils.INLINE_STYLE.UNDERLINE;var INDENT="  ";var BREAK="<br>";var DATA_ATTRIBUTE=/^data-([a-z0-9-]+)$/;var DEFAULT_STYLE_MAP=(_DEFAULT_STYLE_MAP={},_defineProperty(_DEFAULT_STYLE_MAP,BOLD,{element:"strong"}),_defineProperty(_DEFAULT_STYLE_MAP,CODE,{element:"code"}),_defineProperty(_DEFAULT_STYLE_MAP,ITALIC,{element:"em"}),_defineProperty(_DEFAULT_STYLE_MAP,STRIKETHROUGH,{element:"del"}),_defineProperty(_DEFAULT_STYLE_MAP,UNDERLINE,{element:"ins"}),_DEFAULT_STYLE_MAP);var DEFAULT_STYLE_ORDER=[BOLD,ITALIC,UNDERLINE,STRIKETHROUGH,CODE];var ENTITY_ATTR_MAP=(_ENTITY_ATTR_MAP={},_defineProperty(_ENTITY_ATTR_MAP,_draftJsUtils.ENTITY_TYPE.LINK,{url:"href",rel:"rel",target:"target",title:"title",className:"class"}),_defineProperty(_ENTITY_ATTR_MAP,_draftJsUtils.ENTITY_TYPE.IMAGE,{src:"src",height:"height",width:"width",alt:"alt",className:"class"}),_ENTITY_ATTR_MAP);var DATA_TO_ATTR=(_DATA_TO_ATTR={},_defineProperty(_DATA_TO_ATTR,_draftJsUtils.ENTITY_TYPE.LINK,function(entityType,entity){var attrMap=ENTITY_ATTR_MAP.hasOwnProperty(entityType)?ENTITY_ATTR_MAP[entityType]:{};var data=entity.getData();var attrs={};var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=Object.keys(data)[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var dataKey=_step.value;var dataValue=data[dataKey];if(attrMap.hasOwnProperty(dataKey)){var attrKey=attrMap[dataKey];attrs[attrKey]=dataValue}else if(DATA_ATTRIBUTE.test(dataKey)){attrs[dataKey]=dataValue}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return attrs}),_defineProperty(_DATA_TO_ATTR,_draftJsUtils.ENTITY_TYPE.IMAGE,function(entityType,entity){var attrMap=ENTITY_ATTR_MAP.hasOwnProperty(entityType)?ENTITY_ATTR_MAP[entityType]:{};var data=entity.getData();var attrs={};var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=Object.keys(data)[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var dataKey=_step2.value;var dataValue=data[dataKey];if(attrMap.hasOwnProperty(dataKey)){var attrKey=attrMap[dataKey];attrs[attrKey]=dataValue}else if(DATA_ATTRIBUTE.test(dataKey)){attrs[dataKey]=dataValue}}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}return attrs}),_DATA_TO_ATTR);function getTags(blockType){switch(blockType){case _draftJsUtils.BLOCK_TYPE.HEADER_ONE:return["h1"];case _draftJsUtils.BLOCK_TYPE.HEADER_TWO:return["h2"];case _draftJsUtils.BLOCK_TYPE.HEADER_THREE:return["h3"];case _draftJsUtils.BLOCK_TYPE.HEADER_FOUR:return["h4"];case _draftJsUtils.BLOCK_TYPE.HEADER_FIVE:return["h5"];case _draftJsUtils.BLOCK_TYPE.HEADER_SIX:return["h6"];case _draftJsUtils.BLOCK_TYPE.UNORDERED_LIST_ITEM:case _draftJsUtils.BLOCK_TYPE.ORDERED_LIST_ITEM:return["li"];case _draftJsUtils.BLOCK_TYPE.BLOCKQUOTE:return["blockquote"];case _draftJsUtils.BLOCK_TYPE.CODE:return["pre","code"];case _draftJsUtils.BLOCK_TYPE.ATOMIC:return["figure"];default:return["p"]}}function getWrapperTag(blockType){switch(blockType){case _draftJsUtils.BLOCK_TYPE.UNORDERED_LIST_ITEM:return"ul";case _draftJsUtils.BLOCK_TYPE.ORDERED_LIST_ITEM:return"ol";default:return null}}var MarkupGenerator=function(){function MarkupGenerator(contentState,options){_classCallCheck(this,MarkupGenerator);if(options==null){options={}}this.contentState=contentState;this.options=options;var _combineOrderedStyles=(0,_combineOrderedStyles4.default)(options.inlineStyles,[DEFAULT_STYLE_MAP,DEFAULT_STYLE_ORDER]);var _combineOrderedStyles2=_slicedToArray(_combineOrderedStyles,2);var inlineStyles=_combineOrderedStyles2[0];var styleOrder=_combineOrderedStyles2[1];this.inlineStyles=inlineStyles;this.styleOrder=styleOrder}_createClass(MarkupGenerator,[{key:"generate",value:function generate(){this.output=[];this.blocks=this.contentState.getBlocksAsArray();this.totalBlocks=this.blocks.length;this.currentBlock=0;this.indentLevel=0;this.wrapperTag=null;while(this.currentBlock<this.totalBlocks){this.processBlock()}this.closeWrapperTag();return this.output.join("").trim()}},{key:"processBlock",value:function processBlock(){var blockRenderers=this.options.blockRenderers;var block=this.blocks[this.currentBlock];var blockType=block.getType();var newWrapperTag=getWrapperTag(blockType);if(this.wrapperTag!==newWrapperTag){if(this.wrapperTag){this.closeWrapperTag()}if(newWrapperTag){this.openWrapperTag(newWrapperTag)}}this.indent();var customRenderer=blockRenderers!=null&&blockRenderers.hasOwnProperty(blockType)?blockRenderers[blockType]:null;var customRendererOutput=customRenderer?customRenderer(block):null;if(customRendererOutput!=null){this.output.push(customRendererOutput);this.output.push("\n");this.currentBlock+=1;return}this.writeStartTag(block);this.output.push(this.renderBlockContent(block));var nextBlock=this.getNextBlock();if(canHaveDepth(blockType)&&nextBlock&&nextBlock.getDepth()===block.getDepth()+1){this.output.push("\n");var thisWrapperTag=this.wrapperTag;this.wrapperTag=null;this.indentLevel+=1;this.currentBlock+=1;this.processBlocksAtDepth(nextBlock.getDepth());this.wrapperTag=thisWrapperTag;this.indentLevel-=1;this.indent()}else{this.currentBlock+=1}this.writeEndTag(block)}},{key:"processBlocksAtDepth",value:function processBlocksAtDepth(depth){var block=this.blocks[this.currentBlock];while(block&&block.getDepth()===depth){this.processBlock();block=this.blocks[this.currentBlock]}this.closeWrapperTag()}},{key:"getNextBlock",value:function getNextBlock(){return this.blocks[this.currentBlock+1]}},{key:"writeStartTag",value:function writeStartTag(block){var tags=getTags(block.getType());var attrString=void 0;if(this.options.blockStyleFn){var _ref=this.options.blockStyleFn(block)||{};var _attributes=_ref.attributes;var _style=_ref.style;_attributes=(0,_normalizeAttributes2.default)(_attributes);if(_style!=null){var styleAttr=(0,_styleToCSS2.default)(_style);_attributes=_attributes==null?{style:styleAttr}:_extends({},_attributes,{style:styleAttr})}attrString=stringifyAttrs(_attributes)}else{attrString=""}var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=tags[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var tag=_step3.value;this.output.push("<"+tag+attrString+">")}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){
_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}}},{key:"writeEndTag",value:function writeEndTag(block){var tags=getTags(block.getType());if(tags.length===1){this.output.push("</"+tags[0]+">\n")}else{var output=[];var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=tags[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var tag=_step4.value;output.unshift("</"+tag+">")}}catch(err){_didIteratorError4=true;_iteratorError4=err}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return()}}finally{if(_didIteratorError4){throw _iteratorError4}}}this.output.push(output.join("")+"\n")}}},{key:"openWrapperTag",value:function openWrapperTag(wrapperTag){this.wrapperTag=wrapperTag;this.indent();this.output.push("<"+wrapperTag+">\n");this.indentLevel+=1}},{key:"closeWrapperTag",value:function closeWrapperTag(){var wrapperTag=this.wrapperTag;if(wrapperTag){this.indentLevel-=1;this.indent();this.output.push("</"+wrapperTag+">\n");this.wrapperTag=null}}},{key:"indent",value:function indent(){this.output.push(INDENT.repeat(this.indentLevel))}},{key:"renderBlockContent",value:function renderBlockContent(block){var _this=this;var blockType=block.getType();var text=block.getText();if(text===""){return BREAK}text=this.preserveWhitespace(text);var charMetaList=block.getCharacterList();var entityPieces=(0,_draftJsUtils.getEntityRanges)(text,charMetaList);return entityPieces.map(function(_ref2){var _ref3=_slicedToArray(_ref2,2);var entityKey=_ref3[0];var stylePieces=_ref3[1];var content=stylePieces.map(function(_ref4){var _ref5=_slicedToArray(_ref4,2);var text=_ref5[0];var styleSet=_ref5[1];var content=encodeContent(text);var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=_this.styleOrder[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var _styleName=_step5.value;if(_styleName===CODE&&blockType===_draftJsUtils.BLOCK_TYPE.CODE){continue}if(styleSet.has(_styleName)){var _inlineStyles$_styleN=_this.inlineStyles[_styleName];var _element=_inlineStyles$_styleN.element;var _attributes2=_inlineStyles$_styleN.attributes;var _style2=_inlineStyles$_styleN.style;if(_element==null){_element="span"}_attributes2=(0,_normalizeAttributes2.default)(_attributes2);if(_style2!=null){var styleAttr=(0,_styleToCSS2.default)(_style2);_attributes2=_attributes2==null?{style:styleAttr}:_extends({},_attributes2,{style:styleAttr})}var attrString=stringifyAttrs(_attributes2);content="<"+_element+attrString+">"+content+"</"+_element+">"}}}catch(err){_didIteratorError5=true;_iteratorError5=err}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return){_iterator5.return()}}finally{if(_didIteratorError5){throw _iteratorError5}}}return content}).join("");var entity=entityKey?_draftJs.Entity.get(entityKey):null;var entityType=entity==null?null:entity.getType().toUpperCase();if(entityType!=null&&entityType===_draftJsUtils.ENTITY_TYPE.LINK){var attrs=DATA_TO_ATTR.hasOwnProperty(entityType)?DATA_TO_ATTR[entityType](entityType,entity):null;var attrString=stringifyAttrs(attrs);return"<a"+attrString+">"+content+"</a>"}else if(entityType!=null&&entityType===_draftJsUtils.ENTITY_TYPE.IMAGE){var _attrs=DATA_TO_ATTR.hasOwnProperty(entityType)?DATA_TO_ATTR[entityType](entityType,entity):null;var _attrString=stringifyAttrs(_attrs);return"<img"+_attrString+"/>"}else{return content}}).join("")}},{key:"preserveWhitespace",value:function preserveWhitespace(text){var length=text.length;var newText=new Array(length);for(var i=0;i<length;i++){if(text[i]===" "&&(i===0||i===length-1||text[i-1]===" ")){newText[i]=" "}else{newText[i]=text[i]}}return newText.join("")}}]);return MarkupGenerator}();function stringifyAttrs(attrs){if(attrs==null){return""}var parts=[];var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=Object.keys(attrs)[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var name=_step6.value;var value=attrs[name];if(value!=null){parts.push(" "+name+'="'+encodeAttr(value+"")+'"')}}}catch(err){_didIteratorError6=true;_iteratorError6=err}finally{try{if(!_iteratorNormalCompletion6&&_iterator6.return){_iterator6.return()}}finally{if(_didIteratorError6){throw _iteratorError6}}}return parts.join("")}function canHaveDepth(blockType){switch(blockType){case _draftJsUtils.BLOCK_TYPE.UNORDERED_LIST_ITEM:case _draftJsUtils.BLOCK_TYPE.ORDERED_LIST_ITEM:return true;default:return false}}function encodeContent(text){return text.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split(" ").join("&nbsp;").split("\n").join(BREAK+"\n")}function encodeAttr(text){return text.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")}function stateToHTML(content,options){return new MarkupGenerator(content,options).generate()}},{"./helpers/combineOrderedStyles":18,"./helpers/normalizeAttributes":19,"./helpers/styleToCSS":20,"draft-js":45,"draft-js-utils":33}],23:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=replaceTextWithMeta;function replaceTextWithMeta(subject,searchText,replaceText){var text=subject.text;var characterMeta=subject.characterMeta;var searchTextLength=searchText.length;var replaceTextLength=replaceText.length;var resultTextParts=[];var resultCharMeta=characterMeta.slice(0,0);var lastEndIndex=0;var index=text.indexOf(searchText);while(index!==-1){resultTextParts.push(text.slice(lastEndIndex,index)+replaceText);resultCharMeta=resultCharMeta.concat(characterMeta.slice(lastEndIndex,index),repeatSeq(characterMeta.slice(index,index+1),replaceTextLength));lastEndIndex=index+searchTextLength;index=text.indexOf(searchText,lastEndIndex)}resultTextParts.push(text.slice(lastEndIndex));resultCharMeta=resultCharMeta.concat(characterMeta.slice(lastEndIndex));return{text:resultTextParts.join(""),characterMeta:resultCharMeta}}function repeatSeq(seq,count){var result=seq.slice(0,0);while(count-- >0){result=result.concat(seq)}return result}},{}],24:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _stateFromElement=require("./stateFromElement");Object.defineProperty(exports,"stateFromElement",{enumerable:true,get:function get(){return _interopRequireDefault(_stateFromElement).default}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},{"./stateFromElement":25}],25:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();exports.default=stateFromElement;var _replaceTextWithMeta3=require("./lib/replaceTextWithMeta");var _replaceTextWithMeta4=_interopRequireDefault(_replaceTextWithMeta3);var _draftJs=require("draft-js");var _immutable=require("immutable");var _draftJsUtils=require("draft-js-utils");var _syntheticDom=require("synthetic-dom");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var NO_STYLE=(0,_immutable.OrderedSet)();var NO_ENTITY=null;var EMPTY_BLOCK=new _draftJs.ContentBlock({key:(0,_draftJs.genKey)(),text:"",type:_draftJsUtils.BLOCK_TYPE.UNSTYLED,characterList:(0,_immutable.List)(),depth:0});var LINE_BREAKS=/(\r\n|\r|\n)/g;var SOFT_BREAK_PLACEHOLDER="\r";var ZERO_WIDTH_SPACE="​";var DATA_ATTRIBUTE=/^data-([a-z0-9-]+)$/;var ELEM_ATTR_MAP={a:{href:"url",rel:"rel",target:"target",title:"title"},img:{src:"src",alt:"alt"}};var getEntityData=function getEntityData(tagName,element){var data={};if(ELEM_ATTR_MAP.hasOwnProperty(tagName)){var attrMap=ELEM_ATTR_MAP[tagName];for(var i=0;i<element.attributes.length;i++){var _element$attributes$i=element.attributes[i];var name=_element$attributes$i.name;var value=_element$attributes$i.value;if(value!=null){if(attrMap.hasOwnProperty(name)){var newName=attrMap[name];data[newName]=value}else if(DATA_ATTRIBUTE.test(name)){data[name]=value}}}}return data};var ELEM_TO_ENTITY={a:function a(tagName,element){var data=getEntityData(tagName,element);if(data.url!=null){return _draftJs.Entity.create(_draftJsUtils.ENTITY_TYPE.LINK,"MUTABLE",data)}},img:function img(tagName,element){var data=getEntityData(tagName,element);if(data.src!=null){return _draftJs.Entity.create(_draftJsUtils.ENTITY_TYPE.IMAGE,"MUTABLE",data)}}};var INLINE_ELEMENTS={a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,var:1,video:1,wbr:1,acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1};var SPECIAL_ELEMENTS={area:1,base:1,br:1,col:1,colgroup:1,command:1,dl:1,embed:1,head:1,hgroup:1,hr:1,iframe:1,img:1,input:1,keygen:1,link:1,meta:1,ol:1,optgroup:1,option:1,param:1,script:1,select:1,source:1,style:1,table:1,tbody:1,textarea:1,tfoot:1,thead:1,title:1,tr:1,track:1,ul:1,wbr:1,basefont:1,dialog:1,dir:1,isindex:1};var SELF_CLOSING_ELEMENTS={img:1};var BlockGenerator=function(){function BlockGenerator(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,BlockGenerator);this.options=options;this.blockStack=[];this.blockList=[];this.depth=0}_createClass(BlockGenerator,[{key:"process",value:function process(element){this.processBlockElement(element);var contentBlocks=[];this.blockList.forEach(function(block){var _concatFragments=concatFragments(block.textFragments);var text=_concatFragments.text;var characterMeta=_concatFragments.characterMeta;var includeEmptyBlock=false;if(text===SOFT_BREAK_PLACEHOLDER){includeEmptyBlock=true;text=""}if(block.tagName==="pre"){var _trimLeadingNewline=trimLeadingNewline(text,characterMeta);text=_trimLeadingNewline.text;characterMeta=_trimLeadingNewline.characterMeta}else{var _collapseWhiteSpace=collapseWhiteSpace(text,characterMeta);text=_collapseWhiteSpace.text;characterMeta=_collapseWhiteSpace.characterMeta}text=text.split(SOFT_BREAK_PLACEHOLDER).join("\n");if(text.length||includeEmptyBlock){contentBlocks.push(new _draftJs.ContentBlock({key:(0,_draftJs.genKey)(),text:text,type:block.type,characterList:characterMeta.toList(),depth:block.depth}))}});if(contentBlocks.length){return contentBlocks}else{return[EMPTY_BLOCK]}}},{key:"getBlockTypeFromTagName",value:function getBlockTypeFromTagName(tagName){var blockTypes=this.options.blockTypes;if(blockTypes&&blockTypes[tagName]){return blockTypes[tagName]}switch(tagName){case"li":{var parent=this.blockStack.slice(-1)[0];return parent.tagName==="ol"?_draftJsUtils.BLOCK_TYPE.ORDERED_LIST_ITEM:_draftJsUtils.BLOCK_TYPE.UNORDERED_LIST_ITEM}case"blockquote":{return _draftJsUtils.BLOCK_TYPE.BLOCKQUOTE}case"h1":{return _draftJsUtils.BLOCK_TYPE.HEADER_ONE}case"h2":{return _draftJsUtils.BLOCK_TYPE.HEADER_TWO}case"h3":{return _draftJsUtils.BLOCK_TYPE.HEADER_THREE}case"h4":{return _draftJsUtils.BLOCK_TYPE.HEADER_FOUR}case"h5":{return _draftJsUtils.BLOCK_TYPE.HEADER_FIVE}case"h6":{return _draftJsUtils.BLOCK_TYPE.HEADER_SIX}case"pre":{return _draftJsUtils.BLOCK_TYPE.CODE}case"figure":{return _draftJsUtils.BLOCK_TYPE.ATOMIC}default:{return _draftJsUtils.BLOCK_TYPE.UNSTYLED}}}},{key:"processBlockElement",value:function processBlockElement(element){if(!element){return}var tagName=element.nodeName.toLowerCase();var type=this.getBlockTypeFromTagName(tagName);var hasDepth=canHaveDepth(type);var allowRender=!SPECIAL_ELEMENTS.hasOwnProperty(tagName);var block={tagName:tagName,textFragments:[],type:type,styleStack:[NO_STYLE],entityStack:[NO_ENTITY],depth:hasDepth?this.depth:0};if(allowRender){this.blockList.push(block);if(hasDepth){this.depth+=1}}this.blockStack.push(block);if(element.childNodes!=null){Array.from(element.childNodes).forEach(this.processNode,this)}this.blockStack.pop();if(allowRender&&hasDepth){this.depth-=1}}},{key:"processInlineElement",value:function processInlineElement(element){var tagName=element.nodeName.toLowerCase();if(tagName==="br"){this.processText(SOFT_BREAK_PLACEHOLDER);return}var block=this.blockStack.slice(-1)[0];var style=block.styleStack.slice(-1)[0];var entityKey=block.entityStack.slice(-1)[0];style=addStyleFromTagName(style,tagName,this.options.elementStyles);if(ELEM_TO_ENTITY.hasOwnProperty(tagName)){entityKey=ELEM_TO_ENTITY[tagName](tagName,element)||entityKey}block.styleStack.push(style);block.entityStack.push(entityKey);if(element.childNodes!=null){Array.from(element.childNodes).forEach(this.processNode,this)}if(SELF_CLOSING_ELEMENTS.hasOwnProperty(tagName)){this.processText("~")}block.entityStack.pop();block.styleStack.pop()}},{key:"processTextNode",value:function processTextNode(node){var text=node.nodeValue;text=text.replace(LINE_BREAKS,"\n");text=text.split(ZERO_WIDTH_SPACE).join(SOFT_BREAK_PLACEHOLDER);this.processText(text)}},{key:"processText",value:function processText(text){var block=this.blockStack.slice(-1)[0];var style=block.styleStack.slice(-1)[0];var entity=block.entityStack.slice(-1)[0];var charMetadata=_draftJs.CharacterMetadata.create({style:style,entity:entity});var seq=(0,_immutable.Repeat)(charMetadata,text.length);block.textFragments.push({text:text,characterMeta:seq})}},{key:"processNode",value:function processNode(node){if(node.nodeType===_syntheticDom.NODE_TYPE_ELEMENT){var element=node;var _tagName=element.nodeName.toLowerCase();if(INLINE_ELEMENTS.hasOwnProperty(_tagName)){this.processInlineElement(element)}else{this.processBlockElement(element)}}else if(node.nodeType===_syntheticDom.NODE_TYPE_TEXT){this.processTextNode(node)}}}]);return BlockGenerator}();function trimLeadingNewline(text,characterMeta){if(text.charAt(0)==="\n"){text=text.slice(1);characterMeta=characterMeta.slice(1)}return{text:text,characterMeta:characterMeta}}function trimLeadingSpace(text,characterMeta){while(text.charAt(0)===" "){text=text.slice(1);characterMeta=characterMeta.slice(1)}return{text:text,characterMeta:characterMeta}}function trimTrailingSpace(text,characterMeta){while(text.slice(-1)===" "){text=text.slice(0,-1);characterMeta=characterMeta.slice(0,-1)}return{text:text,characterMeta:characterMeta}}function collapseWhiteSpace(text,characterMeta){text=text.replace(/[ \t\n]/g," ");var _trimLeadingSpace=trimLeadingSpace(text,characterMeta);text=_trimLeadingSpace.text;characterMeta=_trimLeadingSpace.characterMeta;var _trimTrailingSpace=trimTrailingSpace(text,characterMeta);text=_trimTrailingSpace.text;characterMeta=_trimTrailingSpace.characterMeta;var i=text.length;while(i--){if(text.charAt(i)===" "&&text.charAt(i-1)===" "){text=text.slice(0,i)+text.slice(i+1);characterMeta=characterMeta.slice(0,i).concat(characterMeta.slice(i+1))}}var _replaceTextWithMeta=(0,_replaceTextWithMeta4.default)({text:text,characterMeta:characterMeta},SOFT_BREAK_PLACEHOLDER+" ",SOFT_BREAK_PLACEHOLDER);text=_replaceTextWithMeta.text;characterMeta=_replaceTextWithMeta.characterMeta;var _replaceTextWithMeta2=(0,_replaceTextWithMeta4.default)({text:text,characterMeta:characterMeta}," "+SOFT_BREAK_PLACEHOLDER,SOFT_BREAK_PLACEHOLDER);text=_replaceTextWithMeta2.text;characterMeta=_replaceTextWithMeta2.characterMeta;return{text:text,characterMeta:characterMeta}}function canHaveDepth(blockType){switch(blockType){case _draftJsUtils.BLOCK_TYPE.UNORDERED_LIST_ITEM:case _draftJsUtils.BLOCK_TYPE.ORDERED_LIST_ITEM:{return true}default:{return false}}}function concatFragments(fragments){var text="";var characterMeta=(0,_immutable.Seq)();fragments.forEach(function(textFragment){text=text+textFragment.text;characterMeta=characterMeta.concat(textFragment.characterMeta)});return{text:text,characterMeta:characterMeta}}function addStyleFromTagName(styleSet,tagName,elementStyles){switch(tagName){case"b":case"strong":{return styleSet.add(_draftJsUtils.INLINE_STYLE.BOLD)}case"i":case"em":{return styleSet.add(_draftJsUtils.INLINE_STYLE.ITALIC)}case"ins":{return styleSet.add(_draftJsUtils.INLINE_STYLE.UNDERLINE)}case"code":{return styleSet.add(_draftJsUtils.INLINE_STYLE.CODE)}case"del":{return styleSet.add(_draftJsUtils.INLINE_STYLE.STRIKETHROUGH)}default:{if(elementStyles&&elementStyles[tagName]){return styleSet.add(elementStyles[tagName])}return styleSet}}}function stateFromElement(element,options){var blocks=new BlockGenerator(options).process(element);return _draftJs.ContentState.createFromBlockArray(blocks)}},{"./lib/replaceTextWithMeta":23,"draft-js":45,"draft-js-utils":33,immutable:206,"synthetic-dom":411}],26:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _stateFromHTML=require("./stateFromHTML");Object.defineProperty(exports,"stateFromHTML",{enumerable:true,get:function get(){return _interopRequireDefault(_stateFromHTML).default}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},{"./stateFromHTML":28}],27:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=parseHTML;function parseHTML(html){var doc=void 0;if(typeof DOMParser!=="undefined"){var parser=new DOMParser;doc=parser.parseFromString(html,"text/html")}else{doc=document.implementation.createHTMLDocument("");doc.documentElement.innerHTML=html}return doc.body}},{}],28:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=stateFromHTML;var _draftJsImportElement=require("draft-js-import-element");var _parseHTML=require("./parseHTML");var _parseHTML2=_interopRequireDefault(_parseHTML);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function stateFromHTML(html,options){var parser=options==null||options.parser==null?_parseHTML2.default:options.parser;var element=parser(html);return(0,_draftJsImportElement.stateFromElement)(element,options)}},{"./parseHTML":27,"draft-js-import-element":24}],29:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var BLOCK_TYPE=exports.BLOCK_TYPE={UNSTYLED:"unstyled",HEADER_ONE:"header-one",HEADER_TWO:"header-two",HEADER_THREE:"header-three",HEADER_FOUR:"header-four",HEADER_FIVE:"header-five",HEADER_SIX:"header-six",UNORDERED_LIST_ITEM:"unordered-list-item",ORDERED_LIST_ITEM:"ordered-list-item",BLOCKQUOTE:"blockquote",PULLQUOTE:"pullquote",CODE:"code-block",ATOMIC:"atomic"};var ENTITY_TYPE=exports.ENTITY_TYPE={LINK:"LINK",IMAGE:"IMAGE"};var INLINE_STYLE=exports.INLINE_STYLE={BOLD:"BOLD",CODE:"CODE",ITALIC:"ITALIC",STRIKETHROUGH:"STRIKETHROUGH",UNDERLINE:"UNDERLINE"};exports.default={BLOCK_TYPE:BLOCK_TYPE,ENTITY_TYPE:ENTITY_TYPE,INLINE_STYLE:INLINE_STYLE}},{}],30:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _draftJs=require("draft-js");var _getSelectedBlocks=require("./getSelectedBlocks");var _getSelectedBlocks2=_interopRequireDefault(_getSelectedBlocks);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(editorState,modifier){for(var _len=arguments.length,args=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){args[_key-2]=arguments[_key]}var contentState=editorState.getCurrentContent();var currentSelection=editorState.getSelection();var startKey=currentSelection.getStartKey();var endKey=currentSelection.getEndKey();var startOffset=currentSelection.getStartOffset();var endOffset=currentSelection.getEndOffset();var isSameBlock=startKey===endKey;var selectedBlocks=(0,_getSelectedBlocks2.default)(contentState,startKey,endKey);var finalEditorState=editorState;selectedBlocks.forEach(function(block){var currentBlockKey=block.getKey();var selectionStart=startOffset;var selectionEnd=endOffset;if(currentBlockKey===startKey){selectionStart=startOffset;selectionEnd=isSameBlock?endOffset:block.getText().length}else if(currentBlockKey===endKey){selectionStart=isSameBlock?startOffset:0;selectionEnd=endOffset}else{selectionStart=0;selectionEnd=block.getText().length}var selection=new _draftJs.SelectionState({anchorKey:currentBlockKey,anchorOffset:selectionStart,focusKey:currentBlockKey,focusOffset:selectionEnd});finalEditorState=modifier.apply(undefined,[finalEditorState,selection].concat(args))});return _draftJs.EditorState.forceSelection(finalEditorState,currentSelection)}},{"./getSelectedBlocks":32,"draft-js":45}],31:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EMPTY_SET=undefined;exports.default=getEntityRanges;var _immutable=require("immutable");var EMPTY_SET=exports.EMPTY_SET=new _immutable.OrderedSet;function getEntityRanges(text,charMetaList){var charEntity=null;var prevCharEntity=null;var ranges=[];var rangeStart=0;for(var i=0,len=text.length;i<len;i++){prevCharEntity=charEntity;var meta=charMetaList.get(i);charEntity=meta?meta.getEntity():null;if(i>0&&charEntity!==prevCharEntity){ranges.push([prevCharEntity,getStyleRanges(text.slice(rangeStart,i),charMetaList.slice(rangeStart,i))]);rangeStart=i}}ranges.push([charEntity,getStyleRanges(text.slice(rangeStart),charMetaList.slice(rangeStart))]);return ranges}function getStyleRanges(text,charMetaList){var charStyle=EMPTY_SET;var prevCharStyle=EMPTY_SET;var ranges=[];var rangeStart=0;for(var i=0,len=text.length;i<len;i++){prevCharStyle=charStyle;var meta=charMetaList.get(i);charStyle=meta?meta.getStyle():EMPTY_SET;if(i>0&&!(0,_immutable.is)(charStyle,prevCharStyle)){ranges.push([text.slice(rangeStart,i),prevCharStyle]);rangeStart=i}}ranges.push([text.slice(rangeStart),charStyle]);return ranges}},{immutable:206}],32:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(contentState,anchorKey,focusKey){var isSameBlock=anchorKey===focusKey;var startingBlock=contentState.getBlockForKey(anchorKey);if(!startingBlock){return[]}var selectedBlocks=[startingBlock];if(!isSameBlock){var blockKey=anchorKey;while(blockKey!==focusKey){var nextBlock=contentState.getBlockAfter(blockKey);if(!nextBlock){selectedBlocks=[];break}selectedBlocks.push(nextBlock);blockKey=nextBlock.getKey()}}return selectedBlocks}},{}],33:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _Constants=require("./Constants");Object.keys(_Constants).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _Constants[key]}})});Object.defineProperty(exports,"Constants",{enumerable:true,get:function get(){return _interopRequireDefault(_Constants).default}});var _getEntityRanges=require("./getEntityRanges");Object.defineProperty(exports,"getEntityRanges",{enumerable:true,get:function get(){return _interopRequireDefault(_getEntityRanges).default}});var _getSelectedBlocks=require("./getSelectedBlocks");Object.defineProperty(exports,"getSelectedBlocks",{enumerable:true,get:function get(){return _interopRequireDefault(_getSelectedBlocks).default}});var _selectionContainsEntity=require("./selectionContainsEntity");Object.defineProperty(exports,"selectionContainsEntity",{enumerable:true,get:function get(){return _interopRequireDefault(_selectionContainsEntity).default}});var _callModifierForSelectedBlocks=require("./callModifierForSelectedBlocks");Object.defineProperty(exports,"callModifierForSelectedBlocks",{enumerable:true,get:function get(){return _interopRequireDefault(_callModifierForSelectedBlocks).default}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},{"./Constants":29,"./callModifierForSelectedBlocks":30,"./getEntityRanges":31,"./getSelectedBlocks":32,"./selectionContainsEntity":34}],34:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _getSelectedBlocks=require("./getSelectedBlocks");var _getSelectedBlocks2=_interopRequireDefault(_getSelectedBlocks);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(strategy){return function(editorState,selection){var contentState=editorState.getCurrentContent();var currentSelection=selection||editorState.getSelection();var startKey=currentSelection.getStartKey();var endKey=currentSelection.getEndKey();var startOffset=currentSelection.getStartOffset();var endOffset=currentSelection.getEndOffset();var isSameBlock=startKey===endKey;var selectedBlocks=(0,_getSelectedBlocks2.default)(contentState,startKey,endKey);var entityFound=false;var finalStartOffset=startOffset+1;var finalEndOffset=endOffset-1;selectedBlocks.forEach(function(block){strategy(block,function(start,end){if(entityFound){return}var blockKey=block.getKey();if(isSameBlock&&(end<finalStartOffset||start>finalEndOffset)){return}else if(blockKey===startKey&&end<finalStartOffset){return}else if(blockKey===endKey&&start>finalEndOffset){return}entityFound=true})});return entityFound}}},{"./getSelectedBlocks":32}],35:[function(require,module,exports){"use strict";var BlockMapBuilder=require("./BlockMapBuilder");var CharacterMetadata=require("./CharacterMetadata");var ContentBlock=require("./ContentBlock");var DraftModifier=require("./DraftModifier");var EditorState=require("./EditorState");var Immutable=require("immutable");var generateRandomKey=require("./generateRandomKey");var List=Immutable.List;var Repeat=Immutable.Repeat;var AtomicBlockUtils={insertAtomicBlock:function insertAtomicBlock(editorState,entityKey,character){var contentState=editorState.getCurrentContent();var selectionState=editorState.getSelection();var afterRemoval=DraftModifier.removeRange(contentState,selectionState,"backward");var targetSelection=afterRemoval.getSelectionAfter();var afterSplit=DraftModifier.splitBlock(afterRemoval,targetSelection);var insertionTarget=afterSplit.getSelectionAfter();var asAtomicBlock=DraftModifier.setBlockType(afterSplit,insertionTarget,"atomic");var charData=CharacterMetadata.create({entity:entityKey});var fragmentArray=[new ContentBlock({key:generateRandomKey(),type:"atomic",text:character,characterList:List(Repeat(charData,character.length))}),new ContentBlock({key:generateRandomKey(),type:"unstyled",text:"",characterList:List()})];var fragment=BlockMapBuilder.createFromArray(fragmentArray);var withAtomicBlock=DraftModifier.replaceWithFragment(asAtomicBlock,insertionTarget,fragment);var newContent=withAtomicBlock.merge({selectionBefore:selectionState,selectionAfter:withAtomicBlock.getSelectionAfter().set("hasFocus",true)});return EditorState.push(editorState,newContent,"insert-fragment")}};module.exports=AtomicBlockUtils},{"./BlockMapBuilder":36,"./CharacterMetadata":38,"./ContentBlock":40,"./DraftModifier":58,"./EditorState":64,"./generateRandomKey":95,immutable:206}],36:[function(require,module,exports){"use strict";var Immutable=require("immutable");var OrderedMap=Immutable.OrderedMap;var BlockMapBuilder={createFromArray:function createFromArray(blocks){return OrderedMap(blocks.map(function(block){return[block.getKey(),block]}))}};module.exports=BlockMapBuilder},{immutable:206}],37:[function(require,module,exports){"use strict";var Immutable=require("immutable");var emptyFunction=require("fbjs/lib/emptyFunction");var findRangesImmutable=require("./findRangesImmutable");var List=Immutable.List;var Repeat=Immutable.Repeat;var Record=Immutable.Record;var returnTrue=emptyFunction.thatReturnsTrue;var FINGERPRINT_DELIMITER="-";var defaultLeafRange={start:null,end:null};var LeafRange=Record(defaultLeafRange);var defaultDecoratorRange={start:null,end:null,decoratorKey:null,leaves:null};var DecoratorRange=Record(defaultDecoratorRange);var BlockTree={generate:function generate(block,decorator){var textLength=block.getLength();if(!textLength){return List.of(new DecoratorRange({start:0,end:0,decoratorKey:null,leaves:List.of(new LeafRange({start:0,end:0}))}))}var leafSets=[];var decorations=decorator?decorator.getDecorations(block):List(Repeat(null,textLength));var chars=block.getCharacterList();findRangesImmutable(decorations,areEqual,returnTrue,function(start,end){leafSets.push(new DecoratorRange({start:start,end:end,decoratorKey:decorations.get(start),leaves:generateLeaves(chars.slice(start,end).toList(),start)}))});return List(leafSets)},getFingerprint:function getFingerprint(tree){return tree.map(function(leafSet){var decoratorKey=leafSet.get("decoratorKey");var fingerprintString=decoratorKey!==null?decoratorKey+"."+(leafSet.get("end")-leafSet.get("start")):"";return""+fingerprintString+"."+leafSet.get("leaves").size}).join(FINGERPRINT_DELIMITER)}};function generateLeaves(characters,offset){var leaves=[];var inlineStyles=characters.map(function(c){return c.getStyle()}).toList();findRangesImmutable(inlineStyles,areEqual,returnTrue,function(start,end){leaves.push(new LeafRange({start:start+offset,end:end+offset}))});return List(leaves)}function areEqual(a,b){return a===b}module.exports=BlockTree},{"./findRangesImmutable":94,"fbjs/lib/emptyFunction":166,immutable:206}],38:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _require=require("immutable");var Map=_require.Map;var OrderedSet=_require.OrderedSet;var Record=_require.Record;var EMPTY_SET=OrderedSet();var defaultRecord={style:EMPTY_SET,entity:null};var CharacterMetadataRecord=Record(defaultRecord);var CharacterMetadata=function(_CharacterMetadataRec){_inherits(CharacterMetadata,_CharacterMetadataRec);function CharacterMetadata(){_classCallCheck(this,CharacterMetadata);return _possibleConstructorReturn(this,_CharacterMetadataRec.apply(this,arguments))}CharacterMetadata.prototype.getStyle=function getStyle(){return this.get("style")};CharacterMetadata.prototype.getEntity=function getEntity(){return this.get("entity")};CharacterMetadata.prototype.hasStyle=function hasStyle(style){return this.getStyle().has(style)};CharacterMetadata.applyStyle=function applyStyle(record,style){var withStyle=record.set("style",record.getStyle().add(style));return CharacterMetadata.create(withStyle)};CharacterMetadata.removeStyle=function removeStyle(record,style){var withoutStyle=record.set("style",record.getStyle().remove(style));return CharacterMetadata.create(withoutStyle)};CharacterMetadata.applyEntity=function applyEntity(record,entityKey){
var withEntity=record.getEntity()===entityKey?record:record.set("entity",entityKey);return CharacterMetadata.create(withEntity)};CharacterMetadata.create=function create(config){if(!config){return EMPTY}var configMap=Map({style:EMPTY_SET,entity:null}).merge(config);var existing=pool.get(configMap);if(existing){return existing}var newCharacter=new CharacterMetadata(configMap);pool=pool.set(configMap,newCharacter);return newCharacter};return CharacterMetadata}(CharacterMetadataRecord);var EMPTY=new CharacterMetadata;var pool=Map([[Map(defaultRecord),EMPTY]]);CharacterMetadata.EMPTY=EMPTY;module.exports=CharacterMetadata},{immutable:206}],39:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Immutable=require("immutable");var List=Immutable.List;var DELIMITER=".";var CompositeDraftDecorator=function(){function CompositeDraftDecorator(decorators){_classCallCheck(this,CompositeDraftDecorator);this._decorators=decorators.slice()}CompositeDraftDecorator.prototype.getDecorations=function getDecorations(block){var decorations=Array(block.getText().length).fill(null);this._decorators.forEach(function(decorator,ii){var counter=0;var strategy=decorator.strategy;strategy(block,function(start,end){if(canOccupySlice(decorations,start,end)){occupySlice(decorations,start,end,ii+DELIMITER+counter);counter++}})});return List(decorations)};CompositeDraftDecorator.prototype.getComponentForKey=function getComponentForKey(key){var componentKey=parseInt(key.split(DELIMITER)[0],10);return this._decorators[componentKey].component};CompositeDraftDecorator.prototype.getPropsForKey=function getPropsForKey(key){var componentKey=parseInt(key.split(DELIMITER)[0],10);return this._decorators[componentKey].props};return CompositeDraftDecorator}();function canOccupySlice(decorations,start,end){for(var ii=start;ii<end;ii++){if(decorations[ii]!=null){return false}}return true}function occupySlice(targetArr,start,end,componentKey){for(var ii=start;ii<end;ii++){targetArr[ii]=componentKey}}module.exports=CompositeDraftDecorator},{immutable:206}],40:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Immutable=require("immutable");var findRangesImmutable=require("./findRangesImmutable");var List=Immutable.List;var Map=Immutable.Map;var OrderedSet=Immutable.OrderedSet;var Record=Immutable.Record;var EMPTY_SET=OrderedSet();var defaultRecord={key:"",type:"unstyled",text:"",characterList:List(),depth:0,data:Map()};var ContentBlockRecord=Record(defaultRecord);var ContentBlock=function(_ContentBlockRecord){_inherits(ContentBlock,_ContentBlockRecord);function ContentBlock(){_classCallCheck(this,ContentBlock);return _possibleConstructorReturn(this,_ContentBlockRecord.apply(this,arguments))}ContentBlock.prototype.getKey=function getKey(){return this.get("key")};ContentBlock.prototype.getType=function getType(){return this.get("type")};ContentBlock.prototype.getText=function getText(){return this.get("text")};ContentBlock.prototype.getCharacterList=function getCharacterList(){return this.get("characterList")};ContentBlock.prototype.getLength=function getLength(){return this.getText().length};ContentBlock.prototype.getDepth=function getDepth(){return this.get("depth")};ContentBlock.prototype.getData=function getData(){return this.get("data")};ContentBlock.prototype.getInlineStyleAt=function getInlineStyleAt(offset){var character=this.getCharacterList().get(offset);return character?character.getStyle():EMPTY_SET};ContentBlock.prototype.getEntityAt=function getEntityAt(offset){var character=this.getCharacterList().get(offset);return character?character.getEntity():null};ContentBlock.prototype.findStyleRanges=function findStyleRanges(filterFn,callback){findRangesImmutable(this.getCharacterList(),haveEqualStyle,filterFn,callback)};ContentBlock.prototype.findEntityRanges=function findEntityRanges(filterFn,callback){findRangesImmutable(this.getCharacterList(),haveEqualEntity,filterFn,callback)};return ContentBlock}(ContentBlockRecord);function haveEqualStyle(charA,charB){return charA.getStyle()===charB.getStyle()}function haveEqualEntity(charA,charB){return charA.getEntity()===charB.getEntity()}module.exports=ContentBlock},{"./findRangesImmutable":94,immutable:206}],41:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var BlockMapBuilder=require("./BlockMapBuilder");var CharacterMetadata=require("./CharacterMetadata");var ContentBlock=require("./ContentBlock");var Immutable=require("immutable");var SelectionState=require("./SelectionState");var generateRandomKey=require("./generateRandomKey");var sanitizeDraftText=require("./sanitizeDraftText");var List=Immutable.List;var Record=Immutable.Record;var Repeat=Immutable.Repeat;var defaultRecord={blockMap:null,selectionBefore:null,selectionAfter:null};var ContentStateRecord=Record(defaultRecord);var ContentState=function(_ContentStateRecord){_inherits(ContentState,_ContentStateRecord);function ContentState(){_classCallCheck(this,ContentState);return _possibleConstructorReturn(this,_ContentStateRecord.apply(this,arguments))}ContentState.prototype.getBlockMap=function getBlockMap(){return this.get("blockMap")};ContentState.prototype.getSelectionBefore=function getSelectionBefore(){return this.get("selectionBefore")};ContentState.prototype.getSelectionAfter=function getSelectionAfter(){return this.get("selectionAfter")};ContentState.prototype.getBlockForKey=function getBlockForKey(key){var block=this.getBlockMap().get(key);return block};ContentState.prototype.getKeyBefore=function getKeyBefore(key){return this.getBlockMap().reverse().keySeq().skipUntil(function(v){return v===key}).skip(1).first()};ContentState.prototype.getKeyAfter=function getKeyAfter(key){return this.getBlockMap().keySeq().skipUntil(function(v){return v===key}).skip(1).first()};ContentState.prototype.getBlockAfter=function getBlockAfter(key){return this.getBlockMap().skipUntil(function(_,k){return k===key}).skip(1).first()};ContentState.prototype.getBlockBefore=function getBlockBefore(key){return this.getBlockMap().reverse().skipUntil(function(_,k){return k===key}).skip(1).first()};ContentState.prototype.getBlocksAsArray=function getBlocksAsArray(){return this.getBlockMap().toArray()};ContentState.prototype.getFirstBlock=function getFirstBlock(){return this.getBlockMap().first()};ContentState.prototype.getLastBlock=function getLastBlock(){return this.getBlockMap().last()};ContentState.prototype.getPlainText=function getPlainText(delimiter){return this.getBlockMap().map(function(block){return block?block.getText():""}).join(delimiter||"\n")};ContentState.prototype.hasText=function hasText(){var blockMap=this.getBlockMap();return blockMap.size>1||blockMap.first().getLength()>0};ContentState.createFromBlockArray=function createFromBlockArray(blocks){var blockMap=BlockMapBuilder.createFromArray(blocks);var selectionState=SelectionState.createEmpty(blockMap.first().getKey());return new ContentState({blockMap:blockMap,selectionBefore:selectionState,selectionAfter:selectionState})};ContentState.createFromText=function createFromText(text){var delimiter=arguments.length<=1||arguments[1]===undefined?/\r\n?|\n/g:arguments[1];var strings=text.split(delimiter);var blocks=strings.map(function(block){block=sanitizeDraftText(block);return new ContentBlock({key:generateRandomKey(),text:block,type:"unstyled",characterList:List(Repeat(CharacterMetadata.EMPTY,block.length))})});return ContentState.createFromBlockArray(blocks)};return ContentState}(ContentStateRecord);module.exports=ContentState},{"./BlockMapBuilder":36,"./CharacterMetadata":38,"./ContentBlock":40,"./SelectionState":68,"./generateRandomKey":95,"./sanitizeDraftText":132,immutable:206}],42:[function(require,module,exports){"use strict";var CharacterMetadata=require("./CharacterMetadata");var _require=require("immutable");var Map=_require.Map;var ContentStateInlineStyle={add:function add(contentState,selectionState,inlineStyle){return modifyInlineStyle(contentState,selectionState,inlineStyle,true)},remove:function remove(contentState,selectionState,inlineStyle){return modifyInlineStyle(contentState,selectionState,inlineStyle,false)}};function modifyInlineStyle(contentState,selectionState,inlineStyle,addOrRemove){var blockMap=contentState.getBlockMap();var startKey=selectionState.getStartKey();var startOffset=selectionState.getStartOffset();var endKey=selectionState.getEndKey();var endOffset=selectionState.getEndOffset();var newBlocks=blockMap.skipUntil(function(_,k){return k===startKey}).takeUntil(function(_,k){return k===endKey}).concat(Map([[endKey,blockMap.get(endKey)]])).map(function(block,blockKey){var sliceStart;var sliceEnd;if(startKey===endKey){sliceStart=startOffset;sliceEnd=endOffset}else{sliceStart=blockKey===startKey?startOffset:0;sliceEnd=blockKey===endKey?endOffset:block.getLength()}var chars=block.getCharacterList();var current;while(sliceStart<sliceEnd){current=chars.get(sliceStart);chars=chars.set(sliceStart,addOrRemove?CharacterMetadata.applyStyle(current,inlineStyle):CharacterMetadata.removeStyle(current,inlineStyle));sliceStart++}return block.set("characterList",chars)});return contentState.merge({blockMap:blockMap.merge(newBlocks),selectionBefore:selectionState,selectionAfter:selectionState})}module.exports=ContentStateInlineStyle},{"./CharacterMetadata":38,immutable:206}],43:[function(require,module,exports){"use strict";var _require=require("immutable");var Map=_require.Map;var React=require("react");var cx=require("fbjs/lib/cx");var UL_WRAP=React.createElement("ul",{className:cx("public/DraftStyleDefault/ul")});var OL_WRAP=React.createElement("ol",{className:cx("public/DraftStyleDefault/ol")});var PRE_WRAP=React.createElement("pre",{className:cx("public/DraftStyleDefault/pre")});module.exports=Map({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:UL_WRAP},"ordered-list-item":{element:"li",wrapper:OL_WRAP},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:PRE_WRAP},unstyled:{element:"div"}})},{"fbjs/lib/cx":165,immutable:206,react:397}],44:[function(require,module,exports){"use strict";module.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},{}],45:[function(require,module,exports){"use strict";var AtomicBlockUtils=require("./AtomicBlockUtils");var BlockMapBuilder=require("./BlockMapBuilder");var CharacterMetadata=require("./CharacterMetadata");var CompositeDraftDecorator=require("./CompositeDraftDecorator");var ContentBlock=require("./ContentBlock");var ContentState=require("./ContentState");var DefaultDraftBlockRenderMap=require("./DefaultDraftBlockRenderMap");var DefaultDraftInlineStyle=require("./DefaultDraftInlineStyle");var DraftEditor=require("./DraftEditor.react");var DraftEditorBlock=require("./DraftEditorBlock.react");var DraftModifier=require("./DraftModifier");var DraftEntity=require("./DraftEntity");var DraftEntityInstance=require("./DraftEntityInstance");var EditorState=require("./EditorState");var KeyBindingUtil=require("./KeyBindingUtil");var RichTextEditorUtil=require("./RichTextEditorUtil");var SelectionState=require("./SelectionState");var convertFromDraftStateToRaw=require("./convertFromDraftStateToRaw");var convertFromHTMLToContentBlocks=require("./convertFromHTMLToContentBlocks");var convertFromRawToDraftState=require("./convertFromRawToDraftState");var generateRandomKey=require("./generateRandomKey");var getDefaultKeyBinding=require("./getDefaultKeyBinding");var getVisibleSelectionRect=require("./getVisibleSelectionRect");var DraftPublic={Editor:DraftEditor,EditorBlock:DraftEditorBlock,EditorState:EditorState,CompositeDecorator:CompositeDraftDecorator,Entity:DraftEntity,EntityInstance:DraftEntityInstance,BlockMapBuilder:BlockMapBuilder,CharacterMetadata:CharacterMetadata,ContentBlock:ContentBlock,ContentState:ContentState,SelectionState:SelectionState,AtomicBlockUtils:AtomicBlockUtils,KeyBindingUtil:KeyBindingUtil,Modifier:DraftModifier,RichUtils:RichTextEditorUtil,DefaultDraftBlockRenderMap:DefaultDraftBlockRenderMap,DefaultDraftInlineStyle:DefaultDraftInlineStyle,convertFromHTML:convertFromHTMLToContentBlocks,convertFromRaw:convertFromRawToDraftState,convertToRaw:convertFromDraftStateToRaw,genKey:generateRandomKey,getDefaultKeyBinding:getDefaultKeyBinding,getVisibleSelectionRect:getVisibleSelectionRect};module.exports=DraftPublic},{"./AtomicBlockUtils":35,"./BlockMapBuilder":36,"./CharacterMetadata":38,"./CompositeDraftDecorator":39,"./ContentBlock":40,"./ContentState":41,"./DefaultDraftBlockRenderMap":43,"./DefaultDraftInlineStyle":44,"./DraftEditor.react":46,"./DraftEditorBlock.react":47,"./DraftEntity":55,"./DraftEntityInstance":56,"./DraftModifier":58,"./EditorState":64,"./KeyBindingUtil":65,"./RichTextEditorUtil":66,"./SelectionState":68,"./convertFromDraftStateToRaw":72,"./convertFromHTMLToContentBlocks":73,"./convertFromRawToDraftState":74,"./generateRandomKey":95,"./getDefaultKeyBinding":98,"./getVisibleSelectionRect":110}],46:[function(require,module,exports){"use strict";var _assign=require("object-assign");var _extends=_assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DefaultDraftBlockRenderMap=require("./DefaultDraftBlockRenderMap");var DefaultDraftInlineStyle=require("./DefaultDraftInlineStyle");var DraftEditorCompositionHandler=require("./DraftEditorCompositionHandler");var DraftEditorContents=require("./DraftEditorContents.react");var DraftEditorDragHandler=require("./DraftEditorDragHandler");var DraftEditorEditHandler=require("./DraftEditorEditHandler");var DraftEditorPlaceholder=require("./DraftEditorPlaceholder.react");var EditorState=require("./EditorState");var React=require("react");var ReactDOM=require("react-dom");var Scroll=require("fbjs/lib/Scroll");var Style=require("fbjs/lib/Style");var UserAgent=require("fbjs/lib/UserAgent");var cx=require("fbjs/lib/cx");var emptyFunction=require("fbjs/lib/emptyFunction");var generateRandomKey=require("./generateRandomKey");var getDefaultKeyBinding=require("./getDefaultKeyBinding");var nullthrows=require("fbjs/lib/nullthrows");var getScrollPosition=require("fbjs/lib/getScrollPosition");var isIE=UserAgent.isBrowser("IE");var allowSpellCheck=!isIE;var handlerMap={edit:DraftEditorEditHandler,composite:DraftEditorCompositionHandler,drag:DraftEditorDragHandler,cut:null,render:null};var DraftEditor=function(_React$Component){_inherits(DraftEditor,_React$Component);function DraftEditor(props){_classCallCheck(this,DraftEditor);var _this=_possibleConstructorReturn(this,_React$Component.call(this,props));_this._blockSelectEvents=false;_this._clipboard=null;_this._guardAgainstRender=false;_this._handler=null;_this._dragCount=0;_this._editorKey=generateRandomKey();_this._placeholderAccessibilityID="placeholder-"+_this._editorKey;_this._onBeforeInput=_this._buildHandler("onBeforeInput");_this._onBlur=_this._buildHandler("onBlur");_this._onCharacterData=_this._buildHandler("onCharacterData");_this._onCompositionEnd=_this._buildHandler("onCompositionEnd");_this._onCompositionStart=_this._buildHandler("onCompositionStart");_this._onCopy=_this._buildHandler("onCopy");_this._onCut=_this._buildHandler("onCut");_this._onDragEnd=_this._buildHandler("onDragEnd");_this._onDragOver=_this._buildHandler("onDragOver");_this._onDragStart=_this._buildHandler("onDragStart");_this._onDrop=_this._buildHandler("onDrop");_this._onInput=_this._buildHandler("onInput");_this._onFocus=_this._buildHandler("onFocus");_this._onKeyDown=_this._buildHandler("onKeyDown");_this._onKeyPress=_this._buildHandler("onKeyPress");_this._onKeyUp=_this._buildHandler("onKeyUp");_this._onMouseDown=_this._buildHandler("onMouseDown");_this._onMouseUp=_this._buildHandler("onMouseUp");_this._onPaste=_this._buildHandler("onPaste");_this._onSelect=_this._buildHandler("onSelect");_this.focus=_this._focus.bind(_this);_this.blur=_this._blur.bind(_this);_this.setMode=_this._setMode.bind(_this);_this.exitCurrentMode=_this._exitCurrentMode.bind(_this);_this.restoreEditorDOM=_this._restoreEditorDOM.bind(_this);_this.setRenderGuard=_this._setRenderGuard.bind(_this);_this.removeRenderGuard=_this._removeRenderGuard.bind(_this);_this.setClipboard=_this._setClipboard.bind(_this);_this.getClipboard=_this._getClipboard.bind(_this);_this.getEditorKey=function(){return _this._editorKey};_this.update=_this._update.bind(_this);_this.onDragEnter=_this._onDragEnter.bind(_this);_this.onDragLeave=_this._onDragLeave.bind(_this);_this.state={containerKey:0};return _this}DraftEditor.prototype._buildHandler=function _buildHandler(eventName){var _this2=this;return function(e){if(!_this2.props.readOnly){var method=_this2._handler&&_this2._handler[eventName];method&&method.call(_this2,e)}}};DraftEditor.prototype._showPlaceholder=function _showPlaceholder(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()};DraftEditor.prototype._renderPlaceholder=function _renderPlaceholder(){if(this._showPlaceholder()){return React.createElement(DraftEditorPlaceholder,{text:nullthrows(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID})}return null};DraftEditor.prototype.render=function render(){var _props=this.props;var readOnly=_props.readOnly;var textAlignment=_props.textAlignment;var rootClass=cx({"DraftEditor/root":true,"DraftEditor/alignLeft":textAlignment==="left","DraftEditor/alignRight":textAlignment==="right","DraftEditor/alignCenter":textAlignment==="center"});var contentStyle={outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"};return React.createElement("div",{className:rootClass},this._renderPlaceholder(),React.createElement("div",{className:cx("DraftEditor/editorContainer"),key:"editor"+this.state.containerKey,ref:"editorContainer"},React.createElement("div",{"aria-activedescendant":readOnly?null:this.props.ariaActiveDescendantID,"aria-autocomplete":readOnly?null:this.props.ariaAutoComplete,"aria-describedby":this._showPlaceholder()?this._placeholderAccessibilityID:null,"aria-expanded":readOnly?null:this.props.ariaExpanded,"aria-haspopup":readOnly?null:this.props.ariaHasPopup,"aria-label":this.props.ariaLabel,"aria-owns":readOnly?null:this.props.ariaOwneeID,className:cx("public/DraftEditor/content"),contentEditable:!readOnly,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:"editor",role:readOnly?null:this.props.role||"textbox",spellCheck:allowSpellCheck&&this.props.spellCheck,style:contentStyle,suppressContentEditableWarning:true,tabIndex:this.props.tabIndex},React.createElement(DraftEditorContents,{blockRenderMap:this.props.blockRenderMap,blockRendererFn:this.props.blockRendererFn,blockStyleFn:this.props.blockStyleFn,customStyleMap:_extends({},DefaultDraftInlineStyle,this.props.customStyleMap),customStyleFn:this.props.customStyleFn,editorKey:this._editorKey,editorState:this.props.editorState}))))};DraftEditor.prototype.componentDidMount=function componentDidMount(){this.setMode("edit");if(isIE){document.execCommand("AutoUrlDetect",false,false)}};DraftEditor.prototype.componentWillUpdate=function componentWillUpdate(){this._blockSelectEvents=true};DraftEditor.prototype.componentDidUpdate=function componentDidUpdate(){this._blockSelectEvents=false};DraftEditor.prototype._focus=function _focus(scrollPosition){var editorState=this.props.editorState;var alreadyHasFocus=editorState.getSelection().getHasFocus();var editorNode=ReactDOM.findDOMNode(this.refs.editor);var scrollParent=Style.getScrollParent(editorNode);var _ref=scrollPosition||getScrollPosition(scrollParent);var x=_ref.x;var y=_ref.y;editorNode.focus();if(scrollParent===window){window.scrollTo(x,y)}else{Scroll.setTop(scrollParent,y)}if(!alreadyHasFocus){this.update(EditorState.forceSelection(editorState,editorState.getSelection()))}};DraftEditor.prototype._blur=function _blur(){ReactDOM.findDOMNode(this.refs.editor).blur()};DraftEditor.prototype._setMode=function _setMode(mode){this._handler=handlerMap[mode]};DraftEditor.prototype._exitCurrentMode=function _exitCurrentMode(){this.setMode("edit")};DraftEditor.prototype._restoreEditorDOM=function _restoreEditorDOM(scrollPosition){var _this3=this;this.setState({containerKey:this.state.containerKey+1},function(){_this3._focus(scrollPosition)})};DraftEditor.prototype._setRenderGuard=function _setRenderGuard(){this._guardAgainstRender=true};DraftEditor.prototype._removeRenderGuard=function _removeRenderGuard(){this._guardAgainstRender=false};DraftEditor.prototype._setClipboard=function _setClipboard(clipboard){this._clipboard=clipboard};DraftEditor.prototype._getClipboard=function _getClipboard(){return this._clipboard};DraftEditor.prototype._update=function _update(editorState){this.props.onChange(editorState)};DraftEditor.prototype._onDragEnter=function _onDragEnter(){this._dragCount++};DraftEditor.prototype._onDragLeave=function _onDragLeave(){this._dragCount--;if(this._dragCount===0){this.exitCurrentMode()}};return DraftEditor}(React.Component);DraftEditor.defaultProps={blockRenderMap:DefaultDraftBlockRenderMap,blockRendererFn:emptyFunction.thatReturnsNull,blockStyleFn:emptyFunction.thatReturns(""),keyBindingFn:getDefaultKeyBinding,readOnly:false,spellCheck:false,stripPastedStyles:false};module.exports=DraftEditor},{"./DefaultDraftBlockRenderMap":43,"./DefaultDraftInlineStyle":44,"./DraftEditorCompositionHandler":48,"./DraftEditorContents.react":49,"./DraftEditorDragHandler":50,"./DraftEditorEditHandler":51,"./DraftEditorPlaceholder.react":53,"./EditorState":64,"./generateRandomKey":95,"./getDefaultKeyBinding":98,"fbjs/lib/Scroll":149,"fbjs/lib/Style":150,"fbjs/lib/UserAgent":157,"fbjs/lib/cx":165,"fbjs/lib/emptyFunction":166,"fbjs/lib/getScrollPosition":174,"fbjs/lib/nullthrows":188,"object-assign":215,react:397,"react-dom":220}],47:[function(require,module,exports){"use strict";var _assign=require("object-assign");var _extends=_assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ContentBlock=require("./ContentBlock");var DraftEditorLeaf=require("./DraftEditorLeaf.react");var DraftOffsetKey=require("./DraftOffsetKey");var React=require("react");var ReactDOM=require("react-dom");var Scroll=require("fbjs/lib/Scroll");var SelectionState=require("./SelectionState");var Style=require("fbjs/lib/Style");var UnicodeBidi=require("fbjs/lib/UnicodeBidi");var UnicodeBidiDirection=require("fbjs/lib/UnicodeBidiDirection");var cx=require("fbjs/lib/cx");var getElementPosition=require("fbjs/lib/getElementPosition");var getScrollPosition=require("fbjs/lib/getScrollPosition");var getViewportDimensions=require("fbjs/lib/getViewportDimensions");var nullthrows=require("fbjs/lib/nullthrows");var SCROLL_BUFFER=10;var DraftEditorBlock=function(_React$Component){_inherits(DraftEditorBlock,_React$Component);function DraftEditorBlock(){_classCallCheck(this,DraftEditorBlock);return _possibleConstructorReturn(this,_React$Component.apply(this,arguments))}DraftEditorBlock.prototype.shouldComponentUpdate=function shouldComponentUpdate(nextProps){return this.props.block!==nextProps.block||this.props.tree!==nextProps.tree||this.props.direction!==nextProps.direction||isBlockOnSelectionEdge(nextProps.selection,nextProps.block.getKey())&&nextProps.forceSelection};DraftEditorBlock.prototype.componentDidMount=function componentDidMount(){var selection=this.props.selection;var endKey=selection.getEndKey();if(!selection.getHasFocus()||endKey!==this.props.block.getKey()){return}var blockNode=ReactDOM.findDOMNode(this);var scrollParent=Style.getScrollParent(blockNode);var scrollPosition=getScrollPosition(scrollParent);var scrollDelta;if(scrollParent===window){var nodePosition=getElementPosition(blockNode);var nodeBottom=nodePosition.y+nodePosition.height;var viewportHeight=getViewportDimensions().height;scrollDelta=nodeBottom-viewportHeight;if(scrollDelta>0){window.scrollTo(scrollPosition.x,scrollPosition.y+scrollDelta+SCROLL_BUFFER)}}else{var blockBottom=blockNode.offsetHeight+blockNode.offsetTop;var scrollBottom=scrollParent.offsetHeight+scrollPosition.y;scrollDelta=blockBottom-scrollBottom;if(scrollDelta>0){Scroll.setTop(scrollParent,Scroll.getTop(scrollParent)+scrollDelta+SCROLL_BUFFER)}}};DraftEditorBlock.prototype._renderChildren=function _renderChildren(){var _this2=this;var block=this.props.block;var blockKey=block.getKey();var text=block.getText();var lastLeafSet=this.props.tree.size-1;var hasSelection=isBlockOnSelectionEdge(this.props.selection,blockKey);return this.props.tree.map(function(leafSet,ii){var leavesForLeafSet=leafSet.get("leaves");var lastLeaf=leavesForLeafSet.size-1;var leaves=leavesForLeafSet.map(function(leaf,jj){var offsetKey=DraftOffsetKey.encode(blockKey,ii,jj);var start=leaf.get("start");var end=leaf.get("end");return React.createElement(DraftEditorLeaf,{key:offsetKey,offsetKey:offsetKey,blockKey:blockKey,start:start,selection:hasSelection?_this2.props.selection:undefined,forceSelection:_this2.props.forceSelection,text:text.slice(start,end),styleSet:block.getInlineStyleAt(start),customStyleMap:_this2.props.customStyleMap,customStyleFn:_this2.props.customStyleFn,isLast:ii===lastLeafSet&&jj===lastLeaf})}).toArray();var decoratorKey=leafSet.get("decoratorKey");if(decoratorKey==null){return leaves}if(!_this2.props.decorator){return leaves}var decorator=nullthrows(_this2.props.decorator);var DecoratorComponent=decorator.getComponentForKey(decoratorKey);if(!DecoratorComponent){return leaves}var decoratorProps=decorator.getPropsForKey(decoratorKey);var decoratorOffsetKey=DraftOffsetKey.encode(blockKey,ii,0);var decoratedText=text.slice(leavesForLeafSet.first().get("start"),leavesForLeafSet.last().get("end"));var dir=UnicodeBidiDirection.getHTMLDirIfDifferent(UnicodeBidi.getDirection(decoratedText),_this2.props.direction);return React.createElement(DecoratorComponent,_extends({},decoratorProps,{decoratedText:decoratedText,dir:dir,key:decoratorOffsetKey,entityKey:block.getEntityAt(leafSet.get("start")),offsetKey:decoratorOffsetKey}),leaves)}).toArray()};DraftEditorBlock.prototype.render=function render(){var _props=this.props;var direction=_props.direction;var offsetKey=_props.offsetKey;var className=cx({"public/DraftStyleDefault/block":true,"public/DraftStyleDefault/ltr":direction==="LTR","public/DraftStyleDefault/rtl":direction==="RTL"});return React.createElement("div",{"data-offset-key":offsetKey,className:className},this._renderChildren())};return DraftEditorBlock}(React.Component);function isBlockOnSelectionEdge(selection,key){return selection.getAnchorKey()===key||selection.getFocusKey()===key}module.exports=DraftEditorBlock},{"./ContentBlock":40,"./DraftEditorLeaf.react":52,"./DraftOffsetKey":59,"./SelectionState":68,"fbjs/lib/Scroll":149,"fbjs/lib/Style":150,"fbjs/lib/UnicodeBidi":153,"fbjs/lib/UnicodeBidiDirection":154,"fbjs/lib/cx":165,"fbjs/lib/getElementPosition":171,"fbjs/lib/getScrollPosition":174,"fbjs/lib/getViewportDimensions":177,"fbjs/lib/nullthrows":188,"object-assign":215,react:397,"react-dom":220}],48:[function(require,module,exports){"use strict";var DraftModifier=require("./DraftModifier");var EditorState=require("./EditorState");var Keys=require("fbjs/lib/Keys");var getEntityKeyForSelection=require("./getEntityKeyForSelection");var isSelectionAtLeafStart=require("./isSelectionAtLeafStart");var RESOLVE_DELAY=20;var resolved=false;var stillComposing=false;var textInputData="";var DraftEditorCompositionHandler={onBeforeInput:function onBeforeInput(e){textInputData=(textInputData||"")+e.data},onCompositionStart:function onCompositionStart(){stillComposing=true},onCompositionEnd:function onCompositionEnd(){
var _this=this;resolved=false;stillComposing=false;setTimeout(function(){if(!resolved){DraftEditorCompositionHandler.resolveComposition.call(_this)}},RESOLVE_DELAY)},onKeyDown:function onKeyDown(e){if(e.which===Keys.RIGHT||e.which===Keys.LEFT){e.preventDefault()}},onKeyPress:function onKeyPress(e){if(e.which===Keys.RETURN){e.preventDefault()}},resolveComposition:function resolveComposition(){if(stillComposing){return}resolved=true;var composedChars=textInputData;textInputData="";var editorState=EditorState.set(this.props.editorState,{inCompositionMode:false});var currentStyle=editorState.getCurrentInlineStyle();var entityKey=getEntityKeyForSelection(editorState.getCurrentContent(),editorState.getSelection());var mustReset=!composedChars||isSelectionAtLeafStart(editorState)||currentStyle.size>0||entityKey!==null;if(mustReset){this.restoreEditorDOM()}this.exitCurrentMode();this.removeRenderGuard();if(composedChars){var contentState=DraftModifier.replaceText(editorState.getCurrentContent(),editorState.getSelection(),composedChars,currentStyle,entityKey);this.update(EditorState.push(editorState,contentState,"insert-characters"));return}if(mustReset){this.update(EditorState.set(editorState,{nativelyRenderedContent:null,forceSelection:true}))}}};module.exports=DraftEditorCompositionHandler},{"./DraftModifier":58,"./EditorState":64,"./getEntityKeyForSelection":101,"./isSelectionAtLeafStart":115,"fbjs/lib/Keys":147}],49:[function(require,module,exports){"use strict";var _assign=require("object-assign");var _extends=_assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DraftEditorBlock=require("./DraftEditorBlock.react");var DraftOffsetKey=require("./DraftOffsetKey");var EditorState=require("./EditorState");var React=require("react");var cx=require("fbjs/lib/cx");var joinClasses=require("fbjs/lib/joinClasses");var nullthrows=require("fbjs/lib/nullthrows");var DraftEditorContents=function(_React$Component){_inherits(DraftEditorContents,_React$Component);function DraftEditorContents(){_classCallCheck(this,DraftEditorContents);return _possibleConstructorReturn(this,_React$Component.apply(this,arguments))}DraftEditorContents.prototype.shouldComponentUpdate=function shouldComponentUpdate(nextProps){var prevEditorState=this.props.editorState;var nextEditorState=nextProps.editorState;var prevDirectionMap=prevEditorState.getDirectionMap();var nextDirectionMap=nextEditorState.getDirectionMap();if(prevDirectionMap!==nextDirectionMap){return true}var didHaveFocus=prevEditorState.getSelection().getHasFocus();var nowHasFocus=nextEditorState.getSelection().getHasFocus();if(didHaveFocus!==nowHasFocus){return true}var nextNativeContent=nextEditorState.getNativelyRenderedContent();var wasComposing=prevEditorState.isInCompositionMode();var nowComposing=nextEditorState.isInCompositionMode();if(prevEditorState===nextEditorState||nextNativeContent!==null&&nextEditorState.getCurrentContent()===nextNativeContent||wasComposing&&nowComposing){return false}var prevContent=prevEditorState.getCurrentContent();var nextContent=nextEditorState.getCurrentContent();var prevDecorator=prevEditorState.getDecorator();var nextDecorator=nextEditorState.getDecorator();return wasComposing!==nowComposing||prevContent!==nextContent||prevDecorator!==nextDecorator||nextEditorState.mustForceSelection()};DraftEditorContents.prototype.render=function render(){var _props=this.props;var blockRenderMap=_props.blockRenderMap;var blockRendererFn=_props.blockRendererFn;var customStyleMap=_props.customStyleMap;var customStyleFn=_props.customStyleFn;var editorState=_props.editorState;var content=editorState.getCurrentContent();var selection=editorState.getSelection();var forceSelection=editorState.mustForceSelection();var decorator=editorState.getDecorator();var directionMap=nullthrows(editorState.getDirectionMap());var blocksAsArray=content.getBlocksAsArray();var processedBlocks=[];var currentDepth=null;var lastWrapperTemplate=null;for(var ii=0;ii<blocksAsArray.length;ii++){var _block=blocksAsArray[ii];var key=_block.getKey();var blockType=_block.getType();var customRenderer=blockRendererFn(_block);var CustomComponent=void 0,customProps=void 0,customEditable=void 0;if(customRenderer){CustomComponent=customRenderer.component;customProps=customRenderer.props;customEditable=customRenderer.editable}var direction=directionMap.get(key);var offsetKey=DraftOffsetKey.encode(key,0,0);var componentProps={block:_block,blockProps:customProps,customStyleMap:customStyleMap,customStyleFn:customStyleFn,decorator:decorator,direction:direction,forceSelection:forceSelection,key:key,offsetKey:offsetKey,selection:selection,tree:editorState.getBlockTree(key)};var configForType=blockRenderMap.get(blockType);var wrapperTemplate=configForType.wrapper;var _Element=configForType.element||blockRenderMap.get("unstyled").element;var depth=_block.getDepth();var className=this.props.blockStyleFn(_block);if(_Element==="li"){var shouldResetCount=lastWrapperTemplate!==wrapperTemplate||currentDepth===null||depth>currentDepth;className=joinClasses(className,getListItemClasses(blockType,depth,shouldResetCount,direction))}var Component=CustomComponent||DraftEditorBlock;var childProps={className:className,"data-block":true,"data-editor":this.props.editorKey,"data-offset-key":offsetKey,key:key};if(customEditable!==undefined){childProps=_extends({},childProps,{contentEditable:customEditable,suppressContentEditableWarning:true})}var child=React.createElement(_Element,childProps,React.createElement(Component,componentProps));processedBlocks.push({block:child,wrapperTemplate:wrapperTemplate,key:key,offsetKey:offsetKey});if(wrapperTemplate){currentDepth=_block.getDepth()}else{currentDepth=null}lastWrapperTemplate=wrapperTemplate}var outputBlocks=[];for(var _ii=0;_ii<processedBlocks.length;){var info=processedBlocks[_ii];if(info.wrapperTemplate){var blocks=[];do{blocks.push(processedBlocks[_ii].block);_ii++}while(_ii<processedBlocks.length&&processedBlocks[_ii].wrapperTemplate===info.wrapperTemplate);var wrapperElement=React.cloneElement(info.wrapperTemplate,{key:info.key+"-wrap","data-offset-key":info.offsetKey},blocks);outputBlocks.push(wrapperElement)}else{outputBlocks.push(info.block);_ii++}}return React.createElement("div",{"data-contents":"true"},outputBlocks)};return DraftEditorContents}(React.Component);function getListItemClasses(type,depth,shouldResetCount,direction){return cx({"public/DraftStyleDefault/unorderedListItem":type==="unordered-list-item","public/DraftStyleDefault/orderedListItem":type==="ordered-list-item","public/DraftStyleDefault/reset":shouldResetCount,"public/DraftStyleDefault/depth0":depth===0,"public/DraftStyleDefault/depth1":depth===1,"public/DraftStyleDefault/depth2":depth===2,"public/DraftStyleDefault/depth3":depth===3,"public/DraftStyleDefault/depth4":depth===4,"public/DraftStyleDefault/listLTR":direction==="LTR","public/DraftStyleDefault/listRTL":direction==="RTL"})}module.exports=DraftEditorContents},{"./DraftEditorBlock.react":47,"./DraftOffsetKey":59,"./EditorState":64,"fbjs/lib/cx":165,"fbjs/lib/joinClasses":183,"fbjs/lib/nullthrows":188,"object-assign":215,react:397}],50:[function(require,module,exports){"use strict";var DataTransfer=require("fbjs/lib/DataTransfer");var DraftModifier=require("./DraftModifier");var EditorState=require("./EditorState");var findAncestorOffsetKey=require("./findAncestorOffsetKey");var getTextContentFromFiles=require("./getTextContentFromFiles");var getUpdatedSelectionState=require("./getUpdatedSelectionState");var nullthrows=require("fbjs/lib/nullthrows");var isEventHandled=require("./isEventHandled");function getSelectionForEvent(event,editorState){var node=null;var offset=null;if(typeof document.caretRangeFromPoint==="function"){var dropRange=document.caretRangeFromPoint(event.x,event.y);node=dropRange.startContainer;offset=dropRange.startOffset}else if(event.rangeParent){node=event.rangeParent;offset=event.rangeOffset}else{return null}node=nullthrows(node);offset=nullthrows(offset);var offsetKey=nullthrows(findAncestorOffsetKey(node));return getUpdatedSelectionState(editorState,offsetKey,offset,offsetKey,offset)}var DraftEditorDragHandler={onDragEnd:function onDragEnd(){this.exitCurrentMode()},onDrop:function onDrop(e){var _this=this;var data=new DataTransfer(e.nativeEvent.dataTransfer);var editorState=this.props.editorState;var dropSelection=getSelectionForEvent(e.nativeEvent,editorState);e.preventDefault();this.exitCurrentMode();if(dropSelection==null){return}var files=data.getFiles();if(files.length>0){if(this.props.handleDroppedFiles&&isEventHandled(this.props.handleDroppedFiles(dropSelection,files))){return}getTextContentFromFiles(files,function(fileText){fileText&&_this.update(insertTextAtSelection(editorState,nullthrows(dropSelection),fileText))});return}var dragType=this._internalDrag?"internal":"external";if(this.props.handleDrop&&isEventHandled(this.props.handleDrop(dropSelection,data,dragType))){return}if(this._internalDrag){this.update(moveText(editorState,dropSelection));return}this.update(insertTextAtSelection(editorState,dropSelection,data.getText()))}};function moveText(editorState,targetSelection){var newContentState=DraftModifier.moveText(editorState.getCurrentContent(),editorState.getSelection(),targetSelection);return EditorState.push(editorState,newContentState,"insert-fragment")}function insertTextAtSelection(editorState,selection,text){var newContentState=DraftModifier.insertText(editorState.getCurrentContent(),selection,text,editorState.getCurrentInlineStyle());return EditorState.push(editorState,newContentState,"insert-fragment")}module.exports=DraftEditorDragHandler},{"./DraftModifier":58,"./EditorState":64,"./findAncestorOffsetKey":93,"./getTextContentFromFiles":108,"./getUpdatedSelectionState":109,"./isEventHandled":114,"fbjs/lib/DataTransfer":144,"fbjs/lib/nullthrows":188}],51:[function(require,module,exports){"use strict";var onBeforeInput=require("./editOnBeforeInput");var onBlur=require("./editOnBlur");var onCompositionStart=require("./editOnCompositionStart");var onCopy=require("./editOnCopy");var onCut=require("./editOnCut");var onDragOver=require("./editOnDragOver");var onDragStart=require("./editOnDragStart");var onFocus=require("./editOnFocus");var onInput=require("./editOnInput");var onKeyDown=require("./editOnKeyDown");var onPaste=require("./editOnPaste");var onSelect=require("./editOnSelect");var DraftEditorEditHandler={onBeforeInput:onBeforeInput,onBlur:onBlur,onCompositionStart:onCompositionStart,onCopy:onCopy,onCut:onCut,onDragOver:onDragOver,onDragStart:onDragStart,onFocus:onFocus,onInput:onInput,onKeyDown:onKeyDown,onPaste:onPaste,onSelect:onSelect};module.exports=DraftEditorEditHandler},{"./editOnBeforeInput":78,"./editOnBlur":79,"./editOnCompositionStart":80,"./editOnCopy":81,"./editOnCut":82,"./editOnDragOver":83,"./editOnDragStart":84,"./editOnFocus":85,"./editOnInput":86,"./editOnKeyDown":87,"./editOnPaste":88,"./editOnSelect":89}],52:[function(require,module,exports){"use strict";var _assign=require("object-assign");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DraftEditorTextNode=require("./DraftEditorTextNode.react");var React=require("react");var ReactDOM=require("react-dom");var SelectionState=require("./SelectionState");var setDraftEditorSelection=require("./setDraftEditorSelection");var DraftEditorLeaf=function(_React$Component){_inherits(DraftEditorLeaf,_React$Component);function DraftEditorLeaf(){_classCallCheck(this,DraftEditorLeaf);return _possibleConstructorReturn(this,_React$Component.apply(this,arguments))}DraftEditorLeaf.prototype._setSelection=function _setSelection(){var selection=this.props.selection;if(selection==null||!selection.getHasFocus()){return}var _props=this.props;var blockKey=_props.blockKey;var start=_props.start;var text=_props.text;var end=start+text.length;if(!selection.hasEdgeWithin(blockKey,start,end)){return}var node=ReactDOM.findDOMNode(this);var child=node.firstChild;var targetNode=void 0;if(child.nodeType===Node.TEXT_NODE){targetNode=child}else if(child.tagName==="BR"){targetNode=node}else{targetNode=child.firstChild}setDraftEditorSelection(selection,targetNode,blockKey,start,end)};DraftEditorLeaf.prototype.shouldComponentUpdate=function shouldComponentUpdate(nextProps){return ReactDOM.findDOMNode(this.refs.leaf).textContent!==nextProps.text||nextProps.styleSet!==this.props.styleSet||nextProps.forceSelection};DraftEditorLeaf.prototype.componentDidUpdate=function componentDidUpdate(){this._setSelection()};DraftEditorLeaf.prototype.componentDidMount=function componentDidMount(){this._setSelection()};DraftEditorLeaf.prototype.render=function render(){var text=this.props.text;if(text.endsWith("\n")&&this.props.isLast){text+="\n"}var _props2=this.props;var customStyleMap=_props2.customStyleMap;var customStyleFn=_props2.customStyleFn;var offsetKey=_props2.offsetKey;var styleSet=_props2.styleSet;var styleObj=styleSet.reduce(function(map,styleName){var mergedStyles={};var style=customStyleMap[styleName];if(style!==undefined&&map.textDecoration!==style.textDecoration){mergedStyles.textDecoration=[map.textDecoration,style.textDecoration].join(" ").trim()}return _assign(map,style,mergedStyles)},{});if(customStyleFn){var newStyles=customStyleFn(styleSet);styleObj=_assign(styleObj,newStyles)}return React.createElement("span",{"data-offset-key":offsetKey,ref:"leaf",style:styleObj},React.createElement(DraftEditorTextNode,null,text))};return DraftEditorLeaf}(React.Component);module.exports=DraftEditorLeaf},{"./DraftEditorTextNode.react":54,"./SelectionState":68,"./setDraftEditorSelection":133,"object-assign":215,react:397,"react-dom":220}],53:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var React=require("react");var cx=require("fbjs/lib/cx");var DraftEditorPlaceholder=function(_React$Component){_inherits(DraftEditorPlaceholder,_React$Component);function DraftEditorPlaceholder(){_classCallCheck(this,DraftEditorPlaceholder);return _possibleConstructorReturn(this,_React$Component.apply(this,arguments))}DraftEditorPlaceholder.prototype.shouldComponentUpdate=function shouldComponentUpdate(nextProps){return this.props.text!==nextProps.text||this.props.editorState.getSelection().getHasFocus()!==nextProps.editorState.getSelection().getHasFocus()};DraftEditorPlaceholder.prototype.render=function render(){var hasFocus=this.props.editorState.getSelection().getHasFocus();var className=cx({"public/DraftEditorPlaceholder/root":true,"public/DraftEditorPlaceholder/hasFocus":hasFocus});return React.createElement("div",{className:className},React.createElement("div",{className:cx("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID},this.props.text))};return DraftEditorPlaceholder}(React.Component);module.exports=DraftEditorPlaceholder},{"fbjs/lib/cx":165,react:397}],54:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var React=require("react");var ReactDOM=require("react-dom");var UserAgent=require("fbjs/lib/UserAgent");var useNewlineChar=UserAgent.isBrowser("IE <= 11");function isNewline(node){return useNewlineChar?node.textContent==="\n":node.tagName==="BR"}var NEWLINE_A=useNewlineChar?React.createElement("span",{key:"A","data-text":"true"},"\n"):React.createElement("br",{key:"A","data-text":"true"});var NEWLINE_B=useNewlineChar?React.createElement("span",{key:"B","data-text":"true"},"\n"):React.createElement("br",{key:"B","data-text":"true"});var DraftEditorTextNode=function(_React$Component){_inherits(DraftEditorTextNode,_React$Component);function DraftEditorTextNode(props){_classCallCheck(this,DraftEditorTextNode);var _this=_possibleConstructorReturn(this,_React$Component.call(this,props));_this._forceFlag=false;return _this}DraftEditorTextNode.prototype.shouldComponentUpdate=function shouldComponentUpdate(nextProps){var node=ReactDOM.findDOMNode(this);var shouldBeNewline=nextProps.children==="";if(shouldBeNewline){return!isNewline(node)}return node.textContent!==nextProps.children};DraftEditorTextNode.prototype.componentWillUpdate=function componentWillUpdate(){this._forceFlag=!this._forceFlag};DraftEditorTextNode.prototype.render=function render(){if(this.props.children===""){return this._forceFlag?NEWLINE_A:NEWLINE_B}return React.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true"},this.props.children)};return DraftEditorTextNode}(React.Component);module.exports=DraftEditorTextNode},{"fbjs/lib/UserAgent":157,react:397,"react-dom":220}],55:[function(require,module,exports){(function(process){"use strict";var _assign=require("object-assign");var _extends=_assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var DraftEntityInstance=require("./DraftEntityInstance");var Immutable=require("immutable");var invariant=require("fbjs/lib/invariant");var Map=Immutable.Map;var instances=Map();var instanceKey=0;var DraftEntity={create:function create(type,mutability,data){return DraftEntity.add(new DraftEntityInstance({type:type,mutability:mutability,data:data||{}}))},add:function add(instance){var key=""+ ++instanceKey;instances=instances.set(key,instance);return key},get:function get(key){var instance=instances.get(key);!!!instance?process.env.NODE_ENV!=="production"?invariant(false,"Unknown DraftEntity key."):invariant(false):void 0;return instance},mergeData:function mergeData(key,toMerge){var instance=DraftEntity.get(key);var newData=_extends({},instance.getData(),toMerge);var newInstance=instance.set("data",newData);instances=instances.set(key,newInstance);return newInstance},replaceData:function replaceData(key,newData){var instance=DraftEntity.get(key);var newInstance=instance.set("data",newData);instances=instances.set(key,newInstance);return newInstance}};module.exports=DraftEntity}).call(this,require("_process"))},{"./DraftEntityInstance":56,_process:216,"fbjs/lib/invariant":180,immutable:206,"object-assign":215}],56:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Immutable=require("immutable");var Record=Immutable.Record;var DraftEntityInstanceRecord=Record({type:"TOKEN",mutability:"IMMUTABLE",data:Object});var DraftEntityInstance=function(_DraftEntityInstanceR){_inherits(DraftEntityInstance,_DraftEntityInstanceR);function DraftEntityInstance(){_classCallCheck(this,DraftEntityInstance);return _possibleConstructorReturn(this,_DraftEntityInstanceR.apply(this,arguments))}DraftEntityInstance.prototype.getType=function getType(){return this.get("type")};DraftEntityInstance.prototype.getMutability=function getMutability(){return this.get("mutability")};DraftEntityInstance.prototype.getData=function getData(){return this.get("data")};return DraftEntityInstance}(DraftEntityInstanceRecord);module.exports=DraftEntityInstance},{immutable:206}],57:[function(require,module,exports){"use strict";var DraftEntitySegments={getRemovalRange:function getRemovalRange(selectionStart,selectionEnd,text,entityStart,direction){var segments=text.split(" ");segments=segments.map(function(segment,ii){if(direction==="forward"){if(ii>0){return" "+segment}}else if(ii<segments.length-1){return segment+" "}return segment});var segmentStart=entityStart;var segmentEnd;var segment;var removalStart=null;var removalEnd=null;for(var jj=0;jj<segments.length;jj++){segment=segments[jj];segmentEnd=segmentStart+segment.length;if(selectionStart<segmentEnd&&segmentStart<selectionEnd){if(removalStart!==null){removalEnd=segmentEnd}else{removalStart=segmentStart;removalEnd=segmentEnd}}else if(removalStart!==null){break}segmentStart=segmentEnd}var entityEnd=entityStart+text.length;var atStart=removalStart===entityStart;var atEnd=removalEnd===entityEnd;if(!atStart&&atEnd||atStart&&!atEnd){if(direction==="forward"){if(removalEnd!==entityEnd){removalEnd++}}else if(removalStart!==entityStart){removalStart--}}return{start:removalStart,end:removalEnd}}};module.exports=DraftEntitySegments},{}],58:[function(require,module,exports){(function(process){"use strict";var CharacterMetadata=require("./CharacterMetadata");var ContentStateInlineStyle=require("./ContentStateInlineStyle");var Immutable=require("immutable");var applyEntityToContentState=require("./applyEntityToContentState");var getCharacterRemovalRange=require("./getCharacterRemovalRange");var getContentStateFragment=require("./getContentStateFragment");var insertFragmentIntoContentState=require("./insertFragmentIntoContentState");var insertTextIntoContentState=require("./insertTextIntoContentState");var invariant=require("fbjs/lib/invariant");var modifyBlockForContentState=require("./modifyBlockForContentState");var removeEntitiesAtEdges=require("./removeEntitiesAtEdges");var removeRangeFromContentState=require("./removeRangeFromContentState");var splitBlockInContentState=require("./splitBlockInContentState");var OrderedSet=Immutable.OrderedSet;var DraftModifier={replaceText:function replaceText(contentState,rangeToReplace,text,inlineStyle,entityKey){var withoutEntities=removeEntitiesAtEdges(contentState,rangeToReplace);var withoutText=removeRangeFromContentState(withoutEntities,rangeToReplace);var character=CharacterMetadata.create({style:inlineStyle||OrderedSet(),entity:entityKey||null});return insertTextIntoContentState(withoutText,withoutText.getSelectionAfter(),text,character)},insertText:function insertText(contentState,targetRange,text,inlineStyle,entityKey){!targetRange.isCollapsed()?process.env.NODE_ENV!=="production"?invariant(false,"Target range must be collapsed for `insertText`."):invariant(false):void 0;return DraftModifier.replaceText(contentState,targetRange,text,inlineStyle,entityKey)},moveText:function moveText(contentState,removalRange,targetRange){var movedFragment=getContentStateFragment(contentState,removalRange);var afterRemoval=DraftModifier.removeRange(contentState,removalRange,"backward");return DraftModifier.replaceWithFragment(afterRemoval,targetRange,movedFragment)},replaceWithFragment:function replaceWithFragment(contentState,targetRange,fragment){var withoutEntities=removeEntitiesAtEdges(contentState,targetRange);var withoutText=removeRangeFromContentState(withoutEntities,targetRange);return insertFragmentIntoContentState(withoutText,withoutText.getSelectionAfter(),fragment)},removeRange:function removeRange(contentState,rangeToRemove,removalDirection){if(rangeToRemove.getAnchorKey()===rangeToRemove.getFocusKey()){var key=rangeToRemove.getAnchorKey();var startOffset=rangeToRemove.getStartOffset();var endOffset=rangeToRemove.getEndOffset();var block=contentState.getBlockForKey(key);var startEntity=block.getEntityAt(startOffset);var endEntity=block.getEntityAt(endOffset-1);if(startEntity&&startEntity===endEntity){var adjustedRemovalRange=getCharacterRemovalRange(block,rangeToRemove,removalDirection);return removeRangeFromContentState(contentState,adjustedRemovalRange)}}var withoutEntities=removeEntitiesAtEdges(contentState,rangeToRemove);return removeRangeFromContentState(withoutEntities,rangeToRemove)},splitBlock:function splitBlock(contentState,selectionState){var withoutEntities=removeEntitiesAtEdges(contentState,selectionState);var withoutText=removeRangeFromContentState(withoutEntities,selectionState);return splitBlockInContentState(withoutText,withoutText.getSelectionAfter())},applyInlineStyle:function applyInlineStyle(contentState,selectionState,inlineStyle){return ContentStateInlineStyle.add(contentState,selectionState,inlineStyle)},removeInlineStyle:function removeInlineStyle(contentState,selectionState,inlineStyle){return ContentStateInlineStyle.remove(contentState,selectionState,inlineStyle)},setBlockType:function setBlockType(contentState,selectionState,blockType){return modifyBlockForContentState(contentState,selectionState,function(block){return block.merge({type:blockType,depth:0})})},setBlockData:function setBlockData(contentState,selectionState,blockData){return modifyBlockForContentState(contentState,selectionState,function(block){return block.merge({data:blockData})})},mergeBlockData:function mergeBlockData(contentState,selectionState,blockData){return modifyBlockForContentState(contentState,selectionState,function(block){return block.merge({data:block.getData().merge(blockData)})})},applyEntity:function applyEntity(contentState,selectionState,entityKey){var withoutEntities=removeEntitiesAtEdges(contentState,selectionState);return applyEntityToContentState(withoutEntities,selectionState,entityKey)}};module.exports=DraftModifier}).call(this,require("_process"))},{"./CharacterMetadata":38,"./ContentStateInlineStyle":42,"./applyEntityToContentState":71,"./getCharacterRemovalRange":96,"./getContentStateFragment":97,"./insertFragmentIntoContentState":111,"./insertTextIntoContentState":113,"./modifyBlockForContentState":126,"./removeEntitiesAtEdges":129,"./removeRangeFromContentState":130,"./splitBlockInContentState":134,_process:216,"fbjs/lib/invariant":180,immutable:206}],59:[function(require,module,exports){"use strict";var KEY_DELIMITER="-";var DraftOffsetKey={encode:function encode(blockKey,decoratorKey,leafKey){return blockKey+KEY_DELIMITER+decoratorKey+KEY_DELIMITER+leafKey},decode:function decode(offsetKey){var _offsetKey$split=offsetKey.split(KEY_DELIMITER);var blockKey=_offsetKey$split[0];var decoratorKey=_offsetKey$split[1];var leafKey=_offsetKey$split[2];return{blockKey:blockKey,decoratorKey:parseInt(decoratorKey,10),leafKey:parseInt(leafKey,10)}}};module.exports=DraftOffsetKey},{}],60:[function(require,module,exports){"use strict";var CharacterMetadata=require("./CharacterMetadata");var ContentBlock=require("./ContentBlock");var Immutable=require("immutable");var convertFromHTMLtoContentBlocks=require("./convertFromHTMLToContentBlocks");var generateRandomKey=require("./generateRandomKey");var getSafeBodyFromHTML=require("./getSafeBodyFromHTML");var sanitizeDraftText=require("./sanitizeDraftText");var List=Immutable.List;var Repeat=Immutable.Repeat;var DraftPasteProcessor={processHTML:function processHTML(html,blockRenderMap){return convertFromHTMLtoContentBlocks(html,getSafeBodyFromHTML,blockRenderMap)},processText:function processText(textBlocks,character){return textBlocks.map(function(textLine){textLine=sanitizeDraftText(textLine);return new ContentBlock({key:generateRandomKey(),type:"unstyled",text:textLine,characterList:List(Repeat(character,textLine.length))})})}};module.exports=DraftPasteProcessor},{"./CharacterMetadata":38,"./ContentBlock":40,"./convertFromHTMLToContentBlocks":73,"./generateRandomKey":95,"./getSafeBodyFromHTML":106,"./sanitizeDraftText":132,immutable:206}],61:[function(require,module,exports){"use strict";var TokenizeUtil=require("fbjs/lib/TokenizeUtil");var punctuation=TokenizeUtil.getPunctuation();var CHAMELEON_CHARS="['‘’]";var WHITESPACE_AND_PUNCTUATION="\\s|(?![_])"+punctuation;var DELETE_STRING="^"+"(?:"+WHITESPACE_AND_PUNCTUATION+")*"+"(?:"+CHAMELEON_CHARS+"|(?!"+WHITESPACE_AND_PUNCTUATION+").)*"+"(?:(?!"+WHITESPACE_AND_PUNCTUATION+").)";var DELETE_REGEX=new RegExp(DELETE_STRING);var BACKSPACE_STRING="(?:(?!"+WHITESPACE_AND_PUNCTUATION+").)"+"(?:"+CHAMELEON_CHARS+"|(?!"+WHITESPACE_AND_PUNCTUATION+").)*"+"(?:"+WHITESPACE_AND_PUNCTUATION+")*"+"$";var BACKSPACE_REGEX=new RegExp(BACKSPACE_STRING);function getRemovableWord(text,isBackward){var matches=isBackward?BACKSPACE_REGEX.exec(text):DELETE_REGEX.exec(text);return matches?matches[0]:text}var DraftRemovableWord={getBackward:function getBackward(text){return getRemovableWord(text,true)},getForward:function getForward(text){return getRemovableWord(text,false)}};module.exports=DraftRemovableWord},{"fbjs/lib/TokenizeUtil":151}],62:[function(require,module,exports){"use strict";var DraftStringKey={stringify:function stringify(key){return"_"+String(key)},unstringify:function unstringify(key){return key.slice(1)}};module.exports=DraftStringKey},{}],63:[function(require,module,exports){
"use strict";var Immutable=require("immutable");var UnicodeBidiService=require("fbjs/lib/UnicodeBidiService");var nullthrows=require("fbjs/lib/nullthrows");var OrderedMap=Immutable.OrderedMap;var bidiService;var EditorBidiService={getDirectionMap:function getDirectionMap(content,prevBidiMap){if(!bidiService){bidiService=new UnicodeBidiService}else{bidiService.reset()}var blockMap=content.getBlockMap();var nextBidi=blockMap.valueSeq().map(function(block){return nullthrows(bidiService).getDirection(block.getText())});var bidiMap=OrderedMap(blockMap.keySeq().zip(nextBidi));if(prevBidiMap!=null&&Immutable.is(prevBidiMap,bidiMap)){return prevBidiMap}return bidiMap}};module.exports=EditorBidiService},{"fbjs/lib/UnicodeBidiService":155,"fbjs/lib/nullthrows":188,immutable:206}],64:[function(require,module,exports){"use strict";var _assign=require("object-assign");var _extends=_assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var BlockTree=require("./BlockTree");var ContentState=require("./ContentState");var EditorBidiService=require("./EditorBidiService");var Immutable=require("immutable");var SelectionState=require("./SelectionState");var OrderedSet=Immutable.OrderedSet;var Record=Immutable.Record;var Stack=Immutable.Stack;var defaultRecord={allowUndo:true,currentContent:null,decorator:null,directionMap:null,forceSelection:false,inCompositionMode:false,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:Stack(),selection:null,treeMap:null,undoStack:Stack()};var EditorStateRecord=Record(defaultRecord);var EditorState=function(){EditorState.createEmpty=function createEmpty(decorator){return EditorState.createWithContent(ContentState.createFromText(""),decorator)};EditorState.createWithContent=function createWithContent(contentState,decorator){var firstKey=contentState.getBlockMap().first().getKey();return EditorState.create({currentContent:contentState,undoStack:Stack(),redoStack:Stack(),decorator:decorator||null,selection:SelectionState.createEmpty(firstKey)})};EditorState.create=function create(config){var currentContent=config.currentContent;var decorator=config.decorator;var recordConfig=_extends({},config,{treeMap:generateNewTreeMap(currentContent,decorator),directionMap:EditorBidiService.getDirectionMap(currentContent)});return new EditorState(new EditorStateRecord(recordConfig))};EditorState.set=function set(editorState,put){var map=editorState.getImmutable().withMutations(function(state){var existingDecorator=state.get("decorator");var decorator=existingDecorator;if(put.decorator===null){decorator=null}else if(put.decorator){decorator=put.decorator}var newContent=put.currentContent||editorState.getCurrentContent();if(decorator!==existingDecorator){var treeMap=state.get("treeMap");var newTreeMap;if(decorator&&existingDecorator){newTreeMap=regenerateTreeForNewDecorator(newContent.getBlockMap(),treeMap,decorator,existingDecorator)}else{newTreeMap=generateNewTreeMap(newContent,decorator)}state.merge({decorator:decorator,treeMap:newTreeMap,nativelyRenderedContent:null});return}var existingContent=editorState.getCurrentContent();if(newContent!==existingContent){state.set("treeMap",regenerateTreeForNewBlocks(editorState,newContent.getBlockMap(),decorator))}state.merge(put)});return new EditorState(map)};EditorState.prototype.toJS=function toJS(){return this.getImmutable().toJS()};EditorState.prototype.getAllowUndo=function getAllowUndo(){return this.getImmutable().get("allowUndo")};EditorState.prototype.getCurrentContent=function getCurrentContent(){return this.getImmutable().get("currentContent")};EditorState.prototype.getUndoStack=function getUndoStack(){return this.getImmutable().get("undoStack")};EditorState.prototype.getRedoStack=function getRedoStack(){return this.getImmutable().get("redoStack")};EditorState.prototype.getSelection=function getSelection(){return this.getImmutable().get("selection")};EditorState.prototype.getDecorator=function getDecorator(){return this.getImmutable().get("decorator")};EditorState.prototype.isInCompositionMode=function isInCompositionMode(){return this.getImmutable().get("inCompositionMode")};EditorState.prototype.mustForceSelection=function mustForceSelection(){return this.getImmutable().get("forceSelection")};EditorState.prototype.getNativelyRenderedContent=function getNativelyRenderedContent(){return this.getImmutable().get("nativelyRenderedContent")};EditorState.prototype.getLastChangeType=function getLastChangeType(){return this.getImmutable().get("lastChangeType")};EditorState.prototype.getInlineStyleOverride=function getInlineStyleOverride(){return this.getImmutable().get("inlineStyleOverride")};EditorState.setInlineStyleOverride=function setInlineStyleOverride(editorState,inlineStyleOverride){return EditorState.set(editorState,{inlineStyleOverride:inlineStyleOverride})};EditorState.prototype.getCurrentInlineStyle=function getCurrentInlineStyle(){var override=this.getInlineStyleOverride();if(override!=null){return override}var content=this.getCurrentContent();var selection=this.getSelection();if(selection.isCollapsed()){return getInlineStyleForCollapsedSelection(content,selection)}return getInlineStyleForNonCollapsedSelection(content,selection)};EditorState.prototype.getBlockTree=function getBlockTree(blockKey){return this.getImmutable().getIn(["treeMap",blockKey])};EditorState.prototype.isSelectionAtStartOfContent=function isSelectionAtStartOfContent(){var firstKey=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(firstKey,0,0)};EditorState.prototype.isSelectionAtEndOfContent=function isSelectionAtEndOfContent(){var content=this.getCurrentContent();var blockMap=content.getBlockMap();var last=blockMap.last();var end=last.getLength();return this.getSelection().hasEdgeWithin(last.getKey(),end,end)};EditorState.prototype.getDirectionMap=function getDirectionMap(){return this.getImmutable().get("directionMap")};EditorState.acceptSelection=function acceptSelection(editorState,selection){return updateSelection(editorState,selection,false)};EditorState.forceSelection=function forceSelection(editorState,selection){if(!selection.getHasFocus()){selection=selection.set("hasFocus",true)}return updateSelection(editorState,selection,true)};EditorState.moveSelectionToEnd=function moveSelectionToEnd(editorState){var content=editorState.getCurrentContent();var lastBlock=content.getLastBlock();var lastKey=lastBlock.getKey();var length=lastBlock.getLength();return EditorState.acceptSelection(editorState,new SelectionState({anchorKey:lastKey,anchorOffset:length,focusKey:lastKey,focusOffset:length,isBackward:false}))};EditorState.moveFocusToEnd=function moveFocusToEnd(editorState){var afterSelectionMove=EditorState.moveSelectionToEnd(editorState);return EditorState.forceSelection(afterSelectionMove,afterSelectionMove.getSelection())};EditorState.push=function push(editorState,contentState,changeType){if(editorState.getCurrentContent()===contentState){return editorState}var forceSelection=changeType!=="insert-characters";var directionMap=EditorBidiService.getDirectionMap(contentState,editorState.getDirectionMap());if(!editorState.getAllowUndo()){return EditorState.set(editorState,{currentContent:contentState,directionMap:directionMap,lastChangeType:changeType,selection:contentState.getSelectionAfter(),forceSelection:forceSelection,inlineStyleOverride:null})}var selection=editorState.getSelection();var currentContent=editorState.getCurrentContent();var undoStack=editorState.getUndoStack();var newContent=contentState;if(selection!==currentContent.getSelectionAfter()||mustBecomeBoundary(editorState,changeType)){undoStack=undoStack.push(currentContent);newContent=newContent.set("selectionBefore",selection)}else if(changeType==="insert-characters"||changeType==="backspace-character"||changeType==="delete-character"){newContent=newContent.set("selectionBefore",currentContent.getSelectionBefore())}var inlineStyleOverride=editorState.getInlineStyleOverride();if(changeType!=="adjust-depth"&&changeType!=="change-block-type"){inlineStyleOverride=null}var editorStateChanges={currentContent:newContent,directionMap:directionMap,undoStack:undoStack,redoStack:Stack(),lastChangeType:changeType,selection:contentState.getSelectionAfter(),forceSelection:forceSelection,inlineStyleOverride:inlineStyleOverride};return EditorState.set(editorState,editorStateChanges)};EditorState.undo=function undo(editorState){if(!editorState.getAllowUndo()){return editorState}var undoStack=editorState.getUndoStack();var newCurrentContent=undoStack.peek();if(!newCurrentContent){return editorState}var currentContent=editorState.getCurrentContent();var directionMap=EditorBidiService.getDirectionMap(newCurrentContent,editorState.getDirectionMap());return EditorState.set(editorState,{currentContent:newCurrentContent,directionMap:directionMap,undoStack:undoStack.shift(),redoStack:editorState.getRedoStack().push(currentContent),forceSelection:true,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:currentContent.getSelectionBefore()})};EditorState.redo=function redo(editorState){if(!editorState.getAllowUndo()){return editorState}var redoStack=editorState.getRedoStack();var newCurrentContent=redoStack.peek();if(!newCurrentContent){return editorState}var currentContent=editorState.getCurrentContent();var directionMap=EditorBidiService.getDirectionMap(newCurrentContent,editorState.getDirectionMap());return EditorState.set(editorState,{currentContent:newCurrentContent,directionMap:directionMap,undoStack:editorState.getUndoStack().push(currentContent),redoStack:redoStack.shift(),forceSelection:true,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:newCurrentContent.getSelectionAfter()})};function EditorState(immutable){_classCallCheck(this,EditorState);this._immutable=immutable}EditorState.prototype.getImmutable=function getImmutable(){return this._immutable};return EditorState}();function updateSelection(editorState,selection,forceSelection){return EditorState.set(editorState,{selection:selection,forceSelection:forceSelection,nativelyRenderedContent:null,inlineStyleOverride:null})}function generateNewTreeMap(contentState,decorator){return contentState.getBlockMap().map(function(block){return BlockTree.generate(block,decorator)}).toOrderedMap()}function regenerateTreeForNewBlocks(editorState,newBlockMap,decorator){var prevBlockMap=editorState.getCurrentContent().getBlockMap();var prevTreeMap=editorState.getImmutable().get("treeMap");return prevTreeMap.merge(newBlockMap.toSeq().filter(function(block,key){return block!==prevBlockMap.get(key)}).map(function(block){return BlockTree.generate(block,decorator)}))}function regenerateTreeForNewDecorator(blockMap,previousTreeMap,decorator,existingDecorator){return previousTreeMap.merge(blockMap.toSeq().filter(function(block){return decorator.getDecorations(block)!==existingDecorator.getDecorations(block)}).map(function(block){return BlockTree.generate(block,decorator)}))}function mustBecomeBoundary(editorState,changeType){var lastChangeType=editorState.getLastChangeType();return changeType!==lastChangeType||changeType!=="insert-characters"&&changeType!=="backspace-character"&&changeType!=="delete-character"}function getInlineStyleForCollapsedSelection(content,selection){var startKey=selection.getStartKey();var startOffset=selection.getStartOffset();var startBlock=content.getBlockForKey(startKey);if(startOffset>0){return startBlock.getInlineStyleAt(startOffset-1)}if(startBlock.getLength()){return startBlock.getInlineStyleAt(0)}return lookUpwardForInlineStyle(content,startKey)}function getInlineStyleForNonCollapsedSelection(content,selection){var startKey=selection.getStartKey();var startOffset=selection.getStartOffset();var startBlock=content.getBlockForKey(startKey);if(startOffset<startBlock.getLength()){return startBlock.getInlineStyleAt(startOffset)}if(startOffset>0){return startBlock.getInlineStyleAt(startOffset-1)}return lookUpwardForInlineStyle(content,startKey)}function lookUpwardForInlineStyle(content,fromKey){var previousBlock=content.getBlockBefore(fromKey);var previousLength;while(previousBlock){previousLength=previousBlock.getLength();if(previousLength){return previousBlock.getInlineStyleAt(previousLength-1)}previousBlock=content.getBlockBefore(previousBlock.getKey())}return OrderedSet()}module.exports=EditorState},{"./BlockTree":37,"./ContentState":41,"./EditorBidiService":63,"./SelectionState":68,immutable:206,"object-assign":215}],65:[function(require,module,exports){"use strict";var UserAgent=require("fbjs/lib/UserAgent");var isOSX=UserAgent.isPlatform("Mac OS X");var KeyBindingUtil={isCtrlKeyCommand:function isCtrlKeyCommand(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function isOptionKeyCommand(e){return isOSX&&e.altKey},hasCommandModifier:function hasCommandModifier(e){return isOSX?!!e.metaKey&&!e.altKey:KeyBindingUtil.isCtrlKeyCommand(e)}};module.exports=KeyBindingUtil},{"fbjs/lib/UserAgent":157}],66:[function(require,module,exports){"use strict";var DraftEntity=require("./DraftEntity");var DraftModifier=require("./DraftModifier");var EditorState=require("./EditorState");var SelectionState=require("./SelectionState");var adjustBlockDepthForContentState=require("./adjustBlockDepthForContentState");var nullthrows=require("fbjs/lib/nullthrows");var RichTextEditorUtil={currentBlockContainsLink:function currentBlockContainsLink(editorState){var selection=editorState.getSelection();return editorState.getCurrentContent().getBlockForKey(selection.getAnchorKey()).getCharacterList().slice(selection.getStartOffset(),selection.getEndOffset()).some(function(v){var entity=v.getEntity();return!!entity&&DraftEntity.get(entity).getType()==="LINK"})},getCurrentBlockType:function getCurrentBlockType(editorState){var selection=editorState.getSelection();return editorState.getCurrentContent().getBlockForKey(selection.getStartKey()).getType()},getDataObjectForLinkURL:function getDataObjectForLinkURL(uri){return{url:uri.toString()}},handleKeyCommand:function handleKeyCommand(editorState,command){switch(command){case"bold":return RichTextEditorUtil.toggleInlineStyle(editorState,"BOLD");case"italic":return RichTextEditorUtil.toggleInlineStyle(editorState,"ITALIC");case"underline":return RichTextEditorUtil.toggleInlineStyle(editorState,"UNDERLINE");case"code":return RichTextEditorUtil.toggleCode(editorState);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return RichTextEditorUtil.onBackspace(editorState);case"delete":case"delete-word":case"delete-to-end-of-block":return RichTextEditorUtil.onDelete(editorState);default:return null}},insertSoftNewline:function insertSoftNewline(editorState){var contentState=DraftModifier.insertText(editorState.getCurrentContent(),editorState.getSelection(),"\n",editorState.getCurrentInlineStyle(),null);var newEditorState=EditorState.push(editorState,contentState,"insert-characters");return EditorState.forceSelection(newEditorState,contentState.getSelectionAfter())},onBackspace:function onBackspace(editorState){var selection=editorState.getSelection();if(!selection.isCollapsed()||selection.getAnchorOffset()||selection.getFocusOffset()){return null}var content=editorState.getCurrentContent();var startKey=selection.getStartKey();var blockBefore=content.getBlockBefore(startKey);if(blockBefore&&blockBefore.getType()==="atomic"){var atomicBlockTarget=selection.merge({anchorKey:blockBefore.getKey(),anchorOffset:0});var asCurrentStyle=DraftModifier.setBlockType(content,atomicBlockTarget,content.getBlockForKey(startKey).getType());var withoutAtomicBlock=DraftModifier.removeRange(asCurrentStyle,atomicBlockTarget,"backward");if(withoutAtomicBlock!==content){return EditorState.push(editorState,withoutAtomicBlock,"remove-range")}}var withoutBlockStyle=RichTextEditorUtil.tryToRemoveBlockStyle(editorState);if(withoutBlockStyle){return EditorState.push(editorState,withoutBlockStyle,"change-block-type")}return null},onDelete:function onDelete(editorState){var selection=editorState.getSelection();if(!selection.isCollapsed()){return null}var content=editorState.getCurrentContent();var startKey=selection.getStartKey();var block=content.getBlockForKey(startKey);var length=block.getLength();if(selection.getStartOffset()<length){return null}var blockAfter=content.getBlockAfter(startKey);if(!blockAfter||blockAfter.getType()!=="atomic"){return null}var atomicBlockTarget=selection.merge({focusKey:blockAfter.getKey(),focusOffset:blockAfter.getLength()});var withoutAtomicBlock=DraftModifier.removeRange(content,atomicBlockTarget,"forward");if(withoutAtomicBlock!==content){return EditorState.push(editorState,withoutAtomicBlock,"remove-range")}return null},onTab:function onTab(event,editorState,maxDepth){var selection=editorState.getSelection();var key=selection.getAnchorKey();if(key!==selection.getFocusKey()){return editorState}var content=editorState.getCurrentContent();var block=content.getBlockForKey(key);var type=block.getType();if(type!=="unordered-list-item"&&type!=="ordered-list-item"){return editorState}event.preventDefault();var blockAbove=content.getBlockBefore(key);if(!blockAbove){return editorState}var typeAbove=blockAbove.getType();if(typeAbove!=="unordered-list-item"&&typeAbove!=="ordered-list-item"){return editorState}var depth=block.getDepth();if(!event.shiftKey&&depth===maxDepth){return editorState}maxDepth=Math.min(blockAbove.getDepth()+1,maxDepth);var withAdjustment=adjustBlockDepthForContentState(content,selection,event.shiftKey?-1:1,maxDepth);return EditorState.push(editorState,withAdjustment,"adjust-depth")},toggleBlockType:function toggleBlockType(editorState,blockType){var selection=editorState.getSelection();var startKey=selection.getStartKey();var endKey=selection.getEndKey();var content=editorState.getCurrentContent();var target=selection;if(startKey!==endKey&&selection.getEndOffset()===0){var blockBefore=nullthrows(content.getBlockBefore(endKey));endKey=blockBefore.getKey();target=target.merge({anchorKey:startKey,anchorOffset:selection.getStartOffset(),focusKey:endKey,focusOffset:blockBefore.getLength(),isBackward:false})}var hasAtomicBlock=content.getBlockMap().skipWhile(function(_,k){return k!==startKey}).reverse().skipWhile(function(_,k){return k!==endKey}).some(function(v){return v.getType()==="atomic"});if(hasAtomicBlock){return editorState}var typeToSet=content.getBlockForKey(startKey).getType()===blockType?"unstyled":blockType;return EditorState.push(editorState,DraftModifier.setBlockType(content,target,typeToSet),"change-block-type")},toggleCode:function toggleCode(editorState){var selection=editorState.getSelection();var anchorKey=selection.getAnchorKey();var focusKey=selection.getFocusKey();if(selection.isCollapsed()||anchorKey!==focusKey){return RichTextEditorUtil.toggleBlockType(editorState,"code-block")}return RichTextEditorUtil.toggleInlineStyle(editorState,"CODE")},toggleInlineStyle:function toggleInlineStyle(editorState,inlineStyle){var selection=editorState.getSelection();var currentStyle=editorState.getCurrentInlineStyle();if(selection.isCollapsed()){return EditorState.setInlineStyleOverride(editorState,currentStyle.has(inlineStyle)?currentStyle.remove(inlineStyle):currentStyle.add(inlineStyle))}var content=editorState.getCurrentContent();var newContent;if(currentStyle.has(inlineStyle)){newContent=DraftModifier.removeInlineStyle(content,selection,inlineStyle)}else{newContent=DraftModifier.applyInlineStyle(content,selection,inlineStyle)}return EditorState.push(editorState,newContent,"change-inline-style")},toggleLink:function toggleLink(editorState,targetSelection,entityKey){var withoutLink=DraftModifier.applyEntity(editorState.getCurrentContent(),targetSelection,entityKey);return EditorState.push(editorState,withoutLink,"apply-entity")},tryToRemoveBlockStyle:function tryToRemoveBlockStyle(editorState){var selection=editorState.getSelection();var offset=selection.getAnchorOffset();if(selection.isCollapsed()&&offset===0){var key=selection.getAnchorKey();var content=editorState.getCurrentContent();var block=content.getBlockForKey(key);if(block.getLength()>0){return null}var type=block.getType();var blockBefore=content.getBlockBefore(key);if(type==="code-block"&&blockBefore&&blockBefore.getType()==="code-block"){return null}if(type!=="unstyled"){return DraftModifier.setBlockType(content,selection,"unstyled")}}return null}};module.exports=RichTextEditorUtil},{"./DraftEntity":55,"./DraftModifier":58,"./EditorState":64,"./SelectionState":68,"./adjustBlockDepthForContentState":69,"fbjs/lib/nullthrows":188}],67:[function(require,module,exports){"use strict";var DraftModifier=require("./DraftModifier");var EditorState=require("./EditorState");var getContentStateFragment=require("./getContentStateFragment");var nullthrows=require("fbjs/lib/nullthrows");var clipboard=null;var SecondaryClipboard={cut:function cut(editorState){var content=editorState.getCurrentContent();var selection=editorState.getSelection();var targetRange=null;if(selection.isCollapsed()){var anchorKey=selection.getAnchorKey();var blockEnd=content.getBlockForKey(anchorKey).getLength();if(blockEnd===selection.getAnchorOffset()){return editorState}targetRange=selection.set("focusOffset",blockEnd)}else{targetRange=selection}targetRange=nullthrows(targetRange);clipboard=getContentStateFragment(content,targetRange);var afterRemoval=DraftModifier.removeRange(content,targetRange,"forward");if(afterRemoval===content){return editorState}return EditorState.push(editorState,afterRemoval,"remove-range")},paste:function paste(editorState){if(!clipboard){return editorState}var newContent=DraftModifier.replaceWithFragment(editorState.getCurrentContent(),editorState.getSelection(),clipboard);return EditorState.push(editorState,newContent,"insert-fragment")}};module.exports=SecondaryClipboard},{"./DraftModifier":58,"./EditorState":64,"./getContentStateFragment":97,"fbjs/lib/nullthrows":188}],68:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Immutable=require("immutable");var Record=Immutable.Record;var defaultRecord={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:false,hasFocus:false};var SelectionStateRecord=Record(defaultRecord);var SelectionState=function(_SelectionStateRecord){_inherits(SelectionState,_SelectionStateRecord);function SelectionState(){_classCallCheck(this,SelectionState);return _possibleConstructorReturn(this,_SelectionStateRecord.apply(this,arguments))}SelectionState.prototype.serialize=function serialize(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", "+"Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", "+"Is Backward: "+String(this.getIsBackward())+", "+"Has Focus: "+String(this.getHasFocus())};SelectionState.prototype.getAnchorKey=function getAnchorKey(){return this.get("anchorKey")};SelectionState.prototype.getAnchorOffset=function getAnchorOffset(){return this.get("anchorOffset")};SelectionState.prototype.getFocusKey=function getFocusKey(){return this.get("focusKey")};SelectionState.prototype.getFocusOffset=function getFocusOffset(){return this.get("focusOffset")};SelectionState.prototype.getIsBackward=function getIsBackward(){return this.get("isBackward")};SelectionState.prototype.getHasFocus=function getHasFocus(){return this.get("hasFocus")};SelectionState.prototype.hasEdgeWithin=function hasEdgeWithin(blockKey,start,end){var anchorKey=this.getAnchorKey();var focusKey=this.getFocusKey();if(anchorKey===focusKey&&anchorKey===blockKey){var selectionStart=this.getStartOffset();var selectionEnd=this.getEndOffset();return start<=selectionEnd&&selectionStart<=end}if(blockKey!==anchorKey&&blockKey!==focusKey){return false}var offsetToCheck=blockKey===anchorKey?this.getAnchorOffset():this.getFocusOffset();return start<=offsetToCheck&&end>=offsetToCheck};SelectionState.prototype.isCollapsed=function isCollapsed(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()};SelectionState.prototype.getStartKey=function getStartKey(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()};SelectionState.prototype.getStartOffset=function getStartOffset(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()};SelectionState.prototype.getEndKey=function getEndKey(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()};SelectionState.prototype.getEndOffset=function getEndOffset(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()};SelectionState.createEmpty=function createEmpty(key){return new SelectionState({anchorKey:key,anchorOffset:0,focusKey:key,focusOffset:0,isBackward:false,hasFocus:false})};return SelectionState}(SelectionStateRecord);module.exports=SelectionState},{immutable:206}],69:[function(require,module,exports){"use strict";function adjustBlockDepthForContentState(contentState,selectionState,adjustment,maxDepth){var startKey=selectionState.getStartKey();var endKey=selectionState.getEndKey();var blockMap=contentState.getBlockMap();var blocks=blockMap.toSeq().skipUntil(function(_,k){return k===startKey}).takeUntil(function(_,k){return k===endKey}).concat([[endKey,blockMap.get(endKey)]]).map(function(block){var depth=block.getDepth()+adjustment;depth=Math.max(0,Math.min(depth,maxDepth));return block.set("depth",depth)});blockMap=blockMap.merge(blocks);return contentState.merge({blockMap:blockMap,selectionBefore:selectionState,selectionAfter:selectionState})}module.exports=adjustBlockDepthForContentState},{}],70:[function(require,module,exports){"use strict";var CharacterMetadata=require("./CharacterMetadata");function applyEntityToContentBlock(contentBlock,start,end,entityKey){var characterList=contentBlock.getCharacterList();while(start<end){characterList=characterList.set(start,CharacterMetadata.applyEntity(characterList.get(start),entityKey));start++}return contentBlock.set("characterList",characterList)}module.exports=applyEntityToContentBlock},{"./CharacterMetadata":38}],71:[function(require,module,exports){"use strict";var Immutable=require("immutable");var applyEntityToContentBlock=require("./applyEntityToContentBlock");function applyEntityToContentState(contentState,selectionState,entityKey){var blockMap=contentState.getBlockMap();var startKey=selectionState.getStartKey();var startOffset=selectionState.getStartOffset();var endKey=selectionState.getEndKey();var endOffset=selectionState.getEndOffset();var newBlocks=blockMap.skipUntil(function(_,k){return k===startKey}).takeUntil(function(_,k){return k===endKey}).toOrderedMap().merge(Immutable.OrderedMap([[endKey,blockMap.get(endKey)]])).map(function(block,blockKey){var sliceStart=blockKey===startKey?startOffset:0;var sliceEnd=blockKey===endKey?endOffset:block.getLength();return applyEntityToContentBlock(block,sliceStart,sliceEnd,entityKey)});return contentState.merge({blockMap:blockMap.merge(newBlocks),selectionBefore:selectionState,selectionAfter:selectionState})}module.exports=applyEntityToContentState},{"./applyEntityToContentBlock":70,immutable:206}],72:[function(require,module,exports){"use strict";var DraftEntity=require("./DraftEntity");var DraftStringKey=require("./DraftStringKey");var encodeEntityRanges=require("./encodeEntityRanges");var encodeInlineStyleRanges=require("./encodeInlineStyleRanges");function convertFromDraftStateToRaw(contentState){var entityStorageKey=0;var entityStorageMap={};var rawBlocks=[];contentState.getBlockMap().forEach(function(block,blockKey){block.findEntityRanges(function(character){return character.getEntity()!==null},function(start){var stringifiedEntityKey=DraftStringKey.stringify(block.getEntityAt(start));if(!entityStorageMap.hasOwnProperty(stringifiedEntityKey)){entityStorageMap[stringifiedEntityKey]=""+entityStorageKey++}});rawBlocks.push({key:blockKey,text:block.getText(),type:block.getType(),depth:block.getDepth(),inlineStyleRanges:encodeInlineStyleRanges(block),entityRanges:encodeEntityRanges(block,entityStorageMap),data:block.getData().toObject()})});var entityKeys=Object.keys(entityStorageMap);var flippedStorageMap={};entityKeys.forEach(function(key,jj){var entity=DraftEntity.get(DraftStringKey.unstringify(key));flippedStorageMap[jj]={type:entity.getType(),mutability:entity.getMutability(),data:entity.getData()}});return{entityMap:flippedStorageMap,blocks:rawBlocks}}module.exports=convertFromDraftStateToRaw},{"./DraftEntity":55,"./DraftStringKey":62,"./encodeEntityRanges":90,"./encodeInlineStyleRanges":91}],73:[function(require,module,exports){(function(process){"use strict";var CharacterMetadata=require("./CharacterMetadata");var ContentBlock=require("./ContentBlock");var DefaultDraftBlockRenderMap=require("./DefaultDraftBlockRenderMap");var DraftEntity=require("./DraftEntity");var Immutable=require("immutable");var URI=require("fbjs/lib/URI");var generateRandomKey=require("./generateRandomKey");var getSafeBodyFromHTML=require("./getSafeBodyFromHTML");var invariant=require("fbjs/lib/invariant");var nullthrows=require("fbjs/lib/nullthrows");var sanitizeDraftText=require("./sanitizeDraftText");var List=Immutable.List;var OrderedSet=Immutable.OrderedSet;var NBSP="&nbsp;";var SPACE=" ";var MAX_DEPTH=4;var REGEX_CR=new RegExp("\r","g");var REGEX_LF=new RegExp("\n","g");var REGEX_NBSP=new RegExp(NBSP,"g");var REGEX_CARRIAGE=new RegExp("&#13;?","g");var REGEX_ZWS=new RegExp("&#8203;?","g");var boldValues=["bold","bolder","500","600","700","800","900"];var notBoldValues=["light","lighter","100","200","300","400"];var inlineTags={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"};var anchorAttr=["className","href","rel","target","title"];var lastBlock;function getEmptyChunk(){return{text:"",inlines:[],entities:[],blocks:[]}}function getWhitespaceChunk(inEntity){var entities=new Array(1);if(inEntity){entities[0]=inEntity}return{text:SPACE,inlines:[OrderedSet()],entities:entities,blocks:[]}}function getSoftNewlineChunk(){return{text:"\n",inlines:[OrderedSet()],entities:new Array(1),blocks:[]}}function getBlockDividerChunk(block,depth){return{text:"\r",inlines:[OrderedSet()],entities:new Array(1),blocks:[{type:block,depth:Math.max(0,Math.min(MAX_DEPTH,depth))}]}}function getListBlockType(tag,lastList){if(tag==="li"){return lastList==="ol"?"ordered-list-item":"unordered-list-item"}return null}function getBlockMapSupportedTags(blockRenderMap){var unstyledElement=blockRenderMap.get("unstyled").element;return blockRenderMap.map(function(config){return config.element}).valueSeq().toSet().filter(function(tag){return tag&&tag!==unstyledElement}).toArray().sort()}function getMultiMatchedType(tag,lastList,multiMatchExtractor){for(var ii=0;ii<multiMatchExtractor.length;ii++){var matchType=multiMatchExtractor[ii](tag,lastList);if(matchType){return matchType}}return null}function getBlockTypeForTag(tag,lastList,blockRenderMap){
var matchedTypes=blockRenderMap.filter(function(config){return config.element===tag||config.wrapper===tag}).keySeq().toSet().toArray().sort();switch(matchedTypes.length){case 0:return"unstyled";case 1:return matchedTypes[0];default:return getMultiMatchedType(tag,lastList,[getListBlockType])||"unstyled"}}function processInlineTag(tag,node,currentStyle){var styleToCheck=inlineTags[tag];if(styleToCheck){currentStyle=currentStyle.add(styleToCheck).toOrderedSet()}else if(node instanceof HTMLElement){(function(){var htmlElement=node;currentStyle=currentStyle.withMutations(function(style){var fontWeight=htmlElement.style.fontWeight;var fontStyle=htmlElement.style.fontStyle;var textDecoration=htmlElement.style.textDecoration;if(boldValues.indexOf(fontWeight)>=0){style.add("BOLD")}else if(notBoldValues.indexOf(fontWeight)>=0){style.remove("BOLD")}if(fontStyle==="italic"){style.add("ITALIC")}else if(fontStyle==="normal"){style.remove("ITALIC")}if(textDecoration==="underline"){style.add("UNDERLINE")}if(textDecoration==="line-through"){style.add("STRIKETHROUGH")}if(textDecoration==="none"){style.remove("UNDERLINE");style.remove("STRIKETHROUGH")}}).toOrderedSet()})()}return currentStyle}function joinChunks(A,B){var lastInA=A.text.slice(-1);var firstInB=B.text.slice(0,1);if(lastInA==="\r"&&firstInB==="\r"){A.text=A.text.slice(0,-1);A.inlines.pop();A.entities.pop();A.blocks.pop()}if(lastInA==="\r"){if(B.text===SPACE||B.text==="\n"){return A}else if(firstInB===SPACE||firstInB==="\n"){B.text=B.text.slice(1);B.inlines.shift();B.entities.shift()}}return{text:A.text+B.text,inlines:A.inlines.concat(B.inlines),entities:A.entities.concat(B.entities),blocks:A.blocks.concat(B.blocks)}}function containsSemanticBlockMarkup(html,blockTags){return blockTags.some(function(tag){return html.indexOf("<"+tag)!==-1})}function hasValidLinkText(link){!(link instanceof HTMLAnchorElement)?process.env.NODE_ENV!=="production"?invariant(false,"Link must be an HTMLAnchorElement."):invariant(false):void 0;var protocol=link.protocol;return protocol==="http:"||protocol==="https:"||protocol==="mailto:"}function genFragment(node,inlineStyle,lastList,inBlock,blockTags,depth,blockRenderMap,inEntity){var nodeName=node.nodeName.toLowerCase();var newBlock=false;var nextBlockType="unstyled";var lastLastBlock=lastBlock;if(nodeName==="#text"){var text=node.textContent;if(text.trim()===""&&inBlock!=="pre"){return getWhitespaceChunk(inEntity)}if(inBlock!=="pre"){text=text.replace(REGEX_LF,SPACE)}lastBlock=nodeName;return{text:text,inlines:Array(text.length).fill(inlineStyle),entities:Array(text.length).fill(inEntity),blocks:[]}}lastBlock=nodeName;if(nodeName==="br"){if(lastLastBlock==="br"&&(!inBlock||getBlockTypeForTag(inBlock,lastList,blockRenderMap)==="unstyled")){return getBlockDividerChunk("unstyled",depth)}return getSoftNewlineChunk()}var chunk=getEmptyChunk();var newChunk=null;inlineStyle=processInlineTag(nodeName,node,inlineStyle);if(nodeName==="ul"||nodeName==="ol"){if(lastList){depth+=1}lastList=nodeName}if(!inBlock&&blockTags.indexOf(nodeName)!==-1){chunk=getBlockDividerChunk(getBlockTypeForTag(nodeName,lastList,blockRenderMap),depth);inBlock=nodeName;newBlock=true}else if(lastList&&inBlock==="li"&&nodeName==="li"){chunk=getBlockDividerChunk(getBlockTypeForTag(nodeName,lastList,blockRenderMap),depth);inBlock=nodeName;newBlock=true;nextBlockType=lastList==="ul"?"unordered-list-item":"ordered-list-item"}var child=node.firstChild;if(child!=null){nodeName=child.nodeName.toLowerCase()}var entityId=null;while(child){if(child instanceof HTMLAnchorElement&&child.href&&hasValidLinkText(child)){(function(){var anchor=child;var entityConfig={};anchorAttr.forEach(function(attr){var anchorAttribute=anchor.getAttribute(attr);if(anchorAttribute){entityConfig[attr]=anchorAttribute}});entityConfig.url=new URI(anchor.href).toString();entityId=DraftEntity.create("LINK","MUTABLE",entityConfig)})()}else{entityId=undefined}newChunk=genFragment(child,inlineStyle,lastList,inBlock,blockTags,depth,blockRenderMap,entityId||inEntity);chunk=joinChunks(chunk,newChunk);var sibling=child.nextSibling;if(sibling&&blockTags.indexOf(nodeName)>=0&&inBlock){chunk=joinChunks(chunk,getSoftNewlineChunk())}if(sibling){nodeName=sibling.nodeName.toLowerCase()}child=sibling}if(newBlock){chunk=joinChunks(chunk,getBlockDividerChunk(nextBlockType,depth))}return chunk}function getChunkForHTML(html,DOMBuilder,blockRenderMap){html=html.trim().replace(REGEX_CR,"").replace(REGEX_NBSP,SPACE).replace(REGEX_CARRIAGE,"").replace(REGEX_ZWS,"");var supportedBlockTags=getBlockMapSupportedTags(blockRenderMap);var safeBody=DOMBuilder(html);if(!safeBody){return null}lastBlock=null;var workingBlocks=containsSemanticBlockMarkup(html,supportedBlockTags)?supportedBlockTags:["div"];var chunk=genFragment(safeBody,OrderedSet(),"ul",null,workingBlocks,-1,blockRenderMap);if(chunk.text.indexOf("\r")===0){chunk={text:chunk.text.slice(1),inlines:chunk.inlines.slice(1),entities:chunk.entities.slice(1),blocks:chunk.blocks}}if(chunk.text.slice(-1)==="\r"){chunk.text=chunk.text.slice(0,-1);chunk.inlines=chunk.inlines.slice(0,-1);chunk.entities=chunk.entities.slice(0,-1);chunk.blocks.pop()}if(chunk.blocks.length===0){chunk.blocks.push({type:"unstyled",depth:0})}if(chunk.text.split("\r").length===chunk.blocks.length+1){chunk.blocks.unshift({type:"unstyled",depth:0})}return chunk}function convertFromHTMLtoContentBlocks(html){var DOMBuilder=arguments.length<=1||arguments[1]===undefined?getSafeBodyFromHTML:arguments[1];var blockRenderMap=arguments.length<=2||arguments[2]===undefined?DefaultDraftBlockRenderMap:arguments[2];var chunk=getChunkForHTML(html,DOMBuilder,blockRenderMap);if(chunk==null){return null}var start=0;return chunk.text.split("\r").map(function(textBlock,ii){textBlock=sanitizeDraftText(textBlock);var end=start+textBlock.length;var inlines=nullthrows(chunk).inlines.slice(start,end);var entities=nullthrows(chunk).entities.slice(start,end);var characterList=List(inlines.map(function(style,ii){var data={style:style,entity:null};if(entities[ii]){data.entity=entities[ii]}return CharacterMetadata.create(data)}));start=end+1;return new ContentBlock({key:generateRandomKey(),type:nullthrows(chunk).blocks[ii].type,depth:nullthrows(chunk).blocks[ii].depth,text:textBlock,characterList:characterList})})}module.exports=convertFromHTMLtoContentBlocks}).call(this,require("_process"))},{"./CharacterMetadata":38,"./ContentBlock":40,"./DefaultDraftBlockRenderMap":43,"./DraftEntity":55,"./generateRandomKey":95,"./getSafeBodyFromHTML":106,"./sanitizeDraftText":132,_process:216,"fbjs/lib/URI":152,"fbjs/lib/invariant":180,"fbjs/lib/nullthrows":188,immutable:206}],74:[function(require,module,exports){"use strict";var _assign=require("object-assign");var _extends=_assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var ContentBlock=require("./ContentBlock");var ContentState=require("./ContentState");var DraftEntity=require("./DraftEntity");var Immutable=require("immutable");var createCharacterList=require("./createCharacterList");var decodeEntityRanges=require("./decodeEntityRanges");var decodeInlineStyleRanges=require("./decodeInlineStyleRanges");var generateRandomKey=require("./generateRandomKey");var Map=Immutable.Map;function convertFromRawToDraftState(rawState){var blocks=rawState.blocks;var entityMap=rawState.entityMap;var fromStorageToLocal={};Object.keys(entityMap).forEach(function(storageKey){var encodedEntity=entityMap[storageKey];var type=encodedEntity.type;var mutability=encodedEntity.mutability;var data=encodedEntity.data;var newKey=DraftEntity.create(type,mutability,data||{});fromStorageToLocal[storageKey]=newKey});var contentBlocks=blocks.map(function(block){var key=block.key;var type=block.type;var text=block.text;var depth=block.depth;var inlineStyleRanges=block.inlineStyleRanges;var entityRanges=block.entityRanges;var data=block.data;key=key||generateRandomKey();depth=depth||0;inlineStyleRanges=inlineStyleRanges||[];entityRanges=entityRanges||[];data=Map(data);var inlineStyles=decodeInlineStyleRanges(text,inlineStyleRanges);var filteredEntityRanges=entityRanges.filter(function(range){return fromStorageToLocal.hasOwnProperty(range.key)}).map(function(range){return _extends({},range,{key:fromStorageToLocal[range.key]})});var entities=decodeEntityRanges(text,filteredEntityRanges);var characterList=createCharacterList(inlineStyles,entities);return new ContentBlock({key:key,type:type,text:text,depth:depth,characterList:characterList,data:data})});return ContentState.createFromBlockArray(contentBlocks)}module.exports=convertFromRawToDraftState},{"./ContentBlock":40,"./ContentState":41,"./DraftEntity":55,"./createCharacterList":75,"./decodeEntityRanges":76,"./decodeInlineStyleRanges":77,"./generateRandomKey":95,immutable:206,"object-assign":215}],75:[function(require,module,exports){"use strict";var CharacterMetadata=require("./CharacterMetadata");var Immutable=require("immutable");var List=Immutable.List;function createCharacterList(inlineStyles,entities){var characterArray=inlineStyles.map(function(style,ii){var entity=entities[ii];return CharacterMetadata.create({style:style,entity:entity})});return List(characterArray)}module.exports=createCharacterList},{"./CharacterMetadata":38,immutable:206}],76:[function(require,module,exports){"use strict";var UnicodeUtils=require("fbjs/lib/UnicodeUtils");var substr=UnicodeUtils.substr;function decodeEntityRanges(text,ranges){var entities=Array(text.length).fill(null);if(ranges){ranges.forEach(function(range){var start=substr(text,0,range.offset).length;var end=start+substr(text,range.offset,range.length).length;for(var ii=start;ii<end;ii++){entities[ii]=range.key}})}return entities}module.exports=decodeEntityRanges},{"fbjs/lib/UnicodeUtils":156}],77:[function(require,module,exports){"use strict";var UnicodeUtils=require("fbjs/lib/UnicodeUtils");var _require=require("immutable");var OrderedSet=_require.OrderedSet;var substr=UnicodeUtils.substr;var EMPTY_SET=OrderedSet();function decodeInlineStyleRanges(text,ranges){var styles=Array(text.length).fill(EMPTY_SET);if(ranges){ranges.forEach(function(range){var cursor=substr(text,0,range.offset).length;var end=cursor+substr(text,range.offset,range.length).length;while(cursor<end){styles[cursor]=styles[cursor].add(range.style);cursor++}})}return styles}module.exports=decodeInlineStyleRanges},{"fbjs/lib/UnicodeUtils":156,immutable:206}],78:[function(require,module,exports){"use strict";var BlockTree=require("./BlockTree");var DraftModifier=require("./DraftModifier");var EditorState=require("./EditorState");var UserAgent=require("fbjs/lib/UserAgent");var getEntityKeyForSelection=require("./getEntityKeyForSelection");var isSelectionAtLeafStart=require("./isSelectionAtLeafStart");var nullthrows=require("fbjs/lib/nullthrows");var isEventHandled=require("./isEventHandled");var FF_QUICKFIND_CHAR="'";var FF_QUICKFIND_LINK_CHAR="/";var isFirefox=UserAgent.isBrowser("Firefox");function mustPreventDefaultForCharacter(character){return isFirefox&&(character==FF_QUICKFIND_CHAR||character==FF_QUICKFIND_LINK_CHAR)}function replaceText(editorState,text,inlineStyle,entityKey){var contentState=DraftModifier.replaceText(editorState.getCurrentContent(),editorState.getSelection(),text,inlineStyle,entityKey);return EditorState.push(editorState,contentState,"insert-characters")}function editOnBeforeInput(e){var chars=e.data;if(!chars){return}if(this.props.handleBeforeInput&&isEventHandled(this.props.handleBeforeInput(chars))){e.preventDefault();return}var editorState=this.props.editorState;var selection=editorState.getSelection();if(!selection.isCollapsed()){e.preventDefault();this.update(replaceText(editorState,chars,editorState.getCurrentInlineStyle(),getEntityKeyForSelection(editorState.getCurrentContent(),editorState.getSelection())));return}var mayAllowNative=!isSelectionAtLeafStart(editorState);var newEditorState=replaceText(editorState,chars,editorState.getCurrentInlineStyle(),getEntityKeyForSelection(editorState.getCurrentContent(),editorState.getSelection()));if(!mayAllowNative){e.preventDefault();this.update(newEditorState);return}var anchorKey=selection.getAnchorKey();var anchorTree=editorState.getBlockTree(anchorKey);var originalFingerprint=BlockTree.getFingerprint(anchorTree);var newFingerprint=BlockTree.getFingerprint(newEditorState.getBlockTree(anchorKey));if(mustPreventDefaultForCharacter(chars)||originalFingerprint!==newFingerprint||nullthrows(newEditorState.getDirectionMap()).get(anchorKey)!==nullthrows(editorState.getDirectionMap()).get(anchorKey)){e.preventDefault()}else{newEditorState=EditorState.set(newEditorState,{nativelyRenderedContent:newEditorState.getCurrentContent()})}this.update(newEditorState)}module.exports=editOnBeforeInput},{"./BlockTree":37,"./DraftModifier":58,"./EditorState":64,"./getEntityKeyForSelection":101,"./isEventHandled":114,"./isSelectionAtLeafStart":115,"fbjs/lib/UserAgent":157,"fbjs/lib/nullthrows":188}],79:[function(require,module,exports){(function(global){"use strict";var EditorState=require("./EditorState");var UserAgent=require("fbjs/lib/UserAgent");var getActiveElement=require("fbjs/lib/getActiveElement");var isWebKit=UserAgent.isEngine("WebKit");function editOnBlur(e){if(isWebKit&&getActiveElement()===document.body){global.getSelection().removeAllRanges()}var editorState=this.props.editorState;var currentSelection=editorState.getSelection();if(!currentSelection.getHasFocus()){return}var selection=currentSelection.set("hasFocus",false);this.props.onBlur&&this.props.onBlur(e);this.update(EditorState.acceptSelection(editorState,selection))}module.exports=editOnBlur}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./EditorState":64,"fbjs/lib/UserAgent":157,"fbjs/lib/getActiveElement":169}],80:[function(require,module,exports){"use strict";var EditorState=require("./EditorState");function editOnCompositionStart(){this.setRenderGuard();this.setMode("composite");this.update(EditorState.set(this.props.editorState,{inCompositionMode:true}))}module.exports=editOnCompositionStart},{"./EditorState":64}],81:[function(require,module,exports){"use strict";var getFragmentFromSelection=require("./getFragmentFromSelection");function editOnCopy(e){var editorState=this.props.editorState;var selection=editorState.getSelection();if(selection.isCollapsed()){e.preventDefault();return}this.setClipboard(getFragmentFromSelection(this.props.editorState))}module.exports=editOnCopy},{"./getFragmentFromSelection":102}],82:[function(require,module,exports){"use strict";var DraftModifier=require("./DraftModifier");var EditorState=require("./EditorState");var Style=require("fbjs/lib/Style");var getFragmentFromSelection=require("./getFragmentFromSelection");var getScrollPosition=require("fbjs/lib/getScrollPosition");function editOnCut(e){var _this=this;var editorState=this.props.editorState;var selection=editorState.getSelection();if(selection.isCollapsed()){e.preventDefault();return}var scrollParent=Style.getScrollParent(e.target);var _getScrollPosition=getScrollPosition(scrollParent);var x=_getScrollPosition.x;var y=_getScrollPosition.y;var fragment=getFragmentFromSelection(editorState);this.setClipboard(fragment);this.setRenderGuard();this.setMode("cut");setTimeout(function(){_this.restoreEditorDOM({x:x,y:y});_this.removeRenderGuard();_this.exitCurrentMode();_this.update(removeFragment(editorState))},0)}function removeFragment(editorState){var newContent=DraftModifier.removeRange(editorState.getCurrentContent(),editorState.getSelection(),"forward");return EditorState.push(editorState,newContent,"remove-range")}module.exports=editOnCut},{"./DraftModifier":58,"./EditorState":64,"./getFragmentFromSelection":102,"fbjs/lib/Style":150,"fbjs/lib/getScrollPosition":174}],83:[function(require,module,exports){"use strict";function editOnDragOver(e){this._internalDrag=false;this.setMode("drag");e.preventDefault()}module.exports=editOnDragOver},{}],84:[function(require,module,exports){"use strict";function editOnDragStart(){this._internalDrag=true;this.setMode("drag")}module.exports=editOnDragStart},{}],85:[function(require,module,exports){"use strict";var EditorState=require("./EditorState");function editOnFocus(e){var editorState=this.props.editorState;var currentSelection=editorState.getSelection();if(currentSelection.getHasFocus()){return}var selection=currentSelection.set("hasFocus",true);this.props.onFocus&&this.props.onFocus(e);this.update(EditorState.forceSelection(editorState,selection))}module.exports=editOnFocus},{"./EditorState":64}],86:[function(require,module,exports){(function(global){"use strict";var DraftModifier=require("./DraftModifier");var DraftOffsetKey=require("./DraftOffsetKey");var EditorState=require("./EditorState");var Entity=require("./DraftEntity");var UserAgent=require("fbjs/lib/UserAgent");var findAncestorOffsetKey=require("./findAncestorOffsetKey");var nullthrows=require("fbjs/lib/nullthrows");var isGecko=UserAgent.isEngine("Gecko");var DOUBLE_NEWLINE="\n\n";function editOnInput(){var domSelection=global.getSelection();var anchorNode=domSelection.anchorNode;var isCollapsed=domSelection.isCollapsed;if(anchorNode.nodeType!==Node.TEXT_NODE){return}var domText=anchorNode.textContent;var editorState=this.props.editorState;var offsetKey=nullthrows(findAncestorOffsetKey(anchorNode));var _DraftOffsetKey$decod=DraftOffsetKey.decode(offsetKey);var blockKey=_DraftOffsetKey$decod.blockKey;var decoratorKey=_DraftOffsetKey$decod.decoratorKey;var leafKey=_DraftOffsetKey$decod.leafKey;var _editorState$getBlock=editorState.getBlockTree(blockKey).getIn([decoratorKey,"leaves",leafKey]);var start=_editorState$getBlock.start;var end=_editorState$getBlock.end;var content=editorState.getCurrentContent();var block=content.getBlockForKey(blockKey);var modelText=block.getText().slice(start,end);if(domText.endsWith(DOUBLE_NEWLINE)){domText=domText.slice(0,-1)}if(domText===modelText){return}var selection=editorState.getSelection();var targetRange=selection.merge({anchorOffset:start,focusOffset:end,isBackward:false});var entityKey=block.getEntityAt(start);var entity=entityKey&&Entity.get(entityKey);var entityType=entity&&entity.getMutability();var preserveEntity=entityType==="MUTABLE";var changeType=preserveEntity?"spellcheck-change":"apply-entity";var newContent=DraftModifier.replaceText(content,targetRange,domText,block.getInlineStyleAt(start),preserveEntity?block.getEntityAt(start):null);var anchorOffset,focusOffset,startOffset,endOffset;if(isGecko){anchorOffset=domSelection.anchorOffset;focusOffset=domSelection.focusOffset;startOffset=start+Math.min(anchorOffset,focusOffset);endOffset=startOffset+Math.abs(anchorOffset-focusOffset);anchorOffset=startOffset;focusOffset=endOffset}else{var charDelta=domText.length-modelText.length;startOffset=selection.getStartOffset();endOffset=selection.getEndOffset();anchorOffset=isCollapsed?endOffset+charDelta:startOffset;focusOffset=endOffset+charDelta}var contentWithAdjustedDOMSelection=newContent.merge({selectionBefore:content.getSelectionAfter(),selectionAfter:selection.merge({anchorOffset:anchorOffset,focusOffset:focusOffset})});this.update(EditorState.push(editorState,contentWithAdjustedDOMSelection,changeType))}module.exports=editOnInput}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./DraftEntity":55,"./DraftModifier":58,"./DraftOffsetKey":59,"./EditorState":64,"./findAncestorOffsetKey":93,"fbjs/lib/UserAgent":157,"fbjs/lib/nullthrows":188}],87:[function(require,module,exports){"use strict";var DraftModifier=require("./DraftModifier");var EditorState=require("./EditorState");var KeyBindingUtil=require("./KeyBindingUtil");var Keys=require("fbjs/lib/Keys");var SecondaryClipboard=require("./SecondaryClipboard");var UserAgent=require("fbjs/lib/UserAgent");var keyCommandBackspaceToStartOfLine=require("./keyCommandBackspaceToStartOfLine");var keyCommandBackspaceWord=require("./keyCommandBackspaceWord");var keyCommandDeleteWord=require("./keyCommandDeleteWord");var keyCommandInsertNewline=require("./keyCommandInsertNewline");var keyCommandPlainBackspace=require("./keyCommandPlainBackspace");var keyCommandPlainDelete=require("./keyCommandPlainDelete");var keyCommandMoveSelectionToEndOfBlock=require("./keyCommandMoveSelectionToEndOfBlock");var keyCommandMoveSelectionToStartOfBlock=require("./keyCommandMoveSelectionToStartOfBlock");var keyCommandTransposeCharacters=require("./keyCommandTransposeCharacters");var keyCommandUndo=require("./keyCommandUndo");var isEventHandled=require("./isEventHandled");var isOptionKeyCommand=KeyBindingUtil.isOptionKeyCommand;var isChrome=UserAgent.isBrowser("Chrome");function onKeyCommand(command,editorState){switch(command){case"redo":return EditorState.redo(editorState);case"delete":return keyCommandPlainDelete(editorState);case"delete-word":return keyCommandDeleteWord(editorState);case"backspace":return keyCommandPlainBackspace(editorState);case"backspace-word":return keyCommandBackspaceWord(editorState);case"backspace-to-start-of-line":return keyCommandBackspaceToStartOfLine(editorState);case"split-block":return keyCommandInsertNewline(editorState);case"transpose-characters":return keyCommandTransposeCharacters(editorState);case"move-selection-to-start-of-block":return keyCommandMoveSelectionToStartOfBlock(editorState);case"move-selection-to-end-of-block":return keyCommandMoveSelectionToEndOfBlock(editorState);case"secondary-cut":return SecondaryClipboard.cut(editorState);case"secondary-paste":return SecondaryClipboard.paste(editorState);default:return editorState}}function editOnKeyDown(e){var keyCode=e.which;var editorState=this.props.editorState;switch(keyCode){case Keys.RETURN:e.preventDefault();if(this.props.handleReturn&&isEventHandled(this.props.handleReturn(e))){return}break;case Keys.ESC:e.preventDefault();this.props.onEscape&&this.props.onEscape(e);return;case Keys.TAB:this.props.onTab&&this.props.onTab(e);return;case Keys.UP:this.props.onUpArrow&&this.props.onUpArrow(e);return;case Keys.DOWN:this.props.onDownArrow&&this.props.onDownArrow(e);return;case Keys.SPACE:if(isChrome&&isOptionKeyCommand(e)){e.preventDefault();var contentState=DraftModifier.replaceText(editorState.getCurrentContent(),editorState.getSelection()," ");this.update(EditorState.push(editorState,contentState,"insert-characters"));return}}var command=this.props.keyBindingFn(e);if(!command){return}if(command==="undo"){keyCommandUndo(e,editorState,this.update);return}e.preventDefault();if(this.props.handleKeyCommand&&isEventHandled(this.props.handleKeyCommand(command))){return}var newState=onKeyCommand(command,editorState);if(newState!==editorState){this.update(newState)}}module.exports=editOnKeyDown},{"./DraftModifier":58,"./EditorState":64,"./KeyBindingUtil":65,"./SecondaryClipboard":67,"./isEventHandled":114,"./keyCommandBackspaceToStartOfLine":116,"./keyCommandBackspaceWord":117,"./keyCommandDeleteWord":118,"./keyCommandInsertNewline":119,"./keyCommandMoveSelectionToEndOfBlock":120,"./keyCommandMoveSelectionToStartOfBlock":121,"./keyCommandPlainBackspace":122,"./keyCommandPlainDelete":123,"./keyCommandTransposeCharacters":124,"./keyCommandUndo":125,"fbjs/lib/Keys":147,"fbjs/lib/UserAgent":157}],88:[function(require,module,exports){"use strict";var BlockMapBuilder=require("./BlockMapBuilder");var CharacterMetadata=require("./CharacterMetadata");var DataTransfer=require("fbjs/lib/DataTransfer");var DraftModifier=require("./DraftModifier");var DraftPasteProcessor=require("./DraftPasteProcessor");var EditorState=require("./EditorState");var getEntityKeyForSelection=require("./getEntityKeyForSelection");var getTextContentFromFiles=require("./getTextContentFromFiles");var splitTextIntoTextBlocks=require("./splitTextIntoTextBlocks");var isEventHandled=require("./isEventHandled");function editOnPaste(e){var _this=this;e.preventDefault();var data=new DataTransfer(e.clipboardData);if(!data.isRichText()){var files=data.getFiles();var defaultFileText=data.getText();if(files.length>0){if(this.props.handlePastedFiles&&isEventHandled(this.props.handlePastedFiles(files))){return}getTextContentFromFiles(files,function(fileText){fileText=fileText||defaultFileText;if(!fileText){return}var editorState=_this.props.editorState;var blocks=splitTextIntoTextBlocks(fileText);var character=CharacterMetadata.create({style:editorState.getCurrentInlineStyle(),entity:getEntityKeyForSelection(editorState.getCurrentContent(),editorState.getSelection())});var text=DraftPasteProcessor.processText(blocks,character);var fragment=BlockMapBuilder.createFromArray(text);var withInsertedText=DraftModifier.replaceWithFragment(editorState.getCurrentContent(),editorState.getSelection(),fragment);_this.update(EditorState.push(editorState,withInsertedText,"insert-fragment"))});return}}var textBlocks=[];var text=data.getText();var html=data.getHTML();if(this.props.handlePastedText&&isEventHandled(this.props.handlePastedText(text,html))){return}if(text){textBlocks=splitTextIntoTextBlocks(text)}if(!this.props.stripPastedStyles){var internalClipboard=this.getClipboard();if(data.isRichText()&&internalClipboard){if(html.indexOf(this.getEditorKey())!==-1||textBlocks.length===1&&internalClipboard.size===1&&internalClipboard.first().getText()===text){this.update(insertFragment(this.props.editorState,internalClipboard));return}}else if(internalClipboard&&data.types.includes("com.apple.webarchive")&&!data.types.includes("text/html")&&areTextBlocksAndClipboardEqual(textBlocks,internalClipboard)){this.update(insertFragment(this.props.editorState,internalClipboard));return}if(html){var htmlFragment=DraftPasteProcessor.processHTML(html,this.props.blockRenderMap);if(htmlFragment){var htmlMap=BlockMapBuilder.createFromArray(htmlFragment);this.update(insertFragment(this.props.editorState,htmlMap));return}}this.setClipboard(null)}if(textBlocks){var editorState=this.props.editorState;var character=CharacterMetadata.create({style:editorState.getCurrentInlineStyle(),entity:getEntityKeyForSelection(editorState.getCurrentContent(),editorState.getSelection())});var textFragment=DraftPasteProcessor.processText(textBlocks,character);var textMap=BlockMapBuilder.createFromArray(textFragment);this.update(insertFragment(this.props.editorState,textMap))}}function insertFragment(editorState,fragment){var newContent=DraftModifier.replaceWithFragment(editorState.getCurrentContent(),editorState.getSelection(),fragment);return EditorState.push(editorState,newContent,"insert-fragment")}function areTextBlocksAndClipboardEqual(textBlocks,blockMap){return textBlocks.length===blockMap.size&&blockMap.valueSeq().every(function(block,ii){return block.getText()===textBlocks[ii]})}module.exports=editOnPaste},{"./BlockMapBuilder":36,"./CharacterMetadata":38,"./DraftModifier":58,"./DraftPasteProcessor":60,"./EditorState":64,"./getEntityKeyForSelection":101,"./getTextContentFromFiles":108,"./isEventHandled":114,"./splitTextIntoTextBlocks":135,"fbjs/lib/DataTransfer":144}],89:[function(require,module,exports){"use strict";var EditorState=require("./EditorState");var ReactDOM=require("react-dom");var getDraftEditorSelection=require("./getDraftEditorSelection");function editOnSelect(){if(this._blockSelectEvents){return}var editorState=this.props.editorState;var documentSelection=getDraftEditorSelection(editorState,ReactDOM.findDOMNode(this.refs.editorContainer).firstChild);var updatedSelectionState=documentSelection.selectionState;if(updatedSelectionState!==editorState.getSelection()){if(documentSelection.needsRecovery){editorState=EditorState.forceSelection(editorState,updatedSelectionState)}else{editorState=EditorState.acceptSelection(editorState,updatedSelectionState)}this.update(editorState)}}module.exports=editOnSelect},{"./EditorState":64,"./getDraftEditorSelection":99,"react-dom":220}],90:[function(require,module,exports){"use strict";var DraftStringKey=require("./DraftStringKey");var UnicodeUtils=require("fbjs/lib/UnicodeUtils");var strlen=UnicodeUtils.strlen;function encodeEntityRanges(block,storageMap){var encoded=[];block.findEntityRanges(function(character){return!!character.getEntity()},function(start,end){var text=block.getText();var key=block.getEntityAt(start);encoded.push({offset:strlen(text.slice(0,start)),length:strlen(text.slice(start,end)),key:Number(storageMap[DraftStringKey.stringify(key)])})});return encoded}module.exports=encodeEntityRanges},{"./DraftStringKey":62,"fbjs/lib/UnicodeUtils":156}],91:[function(require,module,exports){"use strict";var UnicodeUtils=require("fbjs/lib/UnicodeUtils");var findRangesImmutable=require("./findRangesImmutable");var areEqual=function areEqual(a,b){return a===b};var isTruthy=function isTruthy(a){return!!a};var EMPTY_ARRAY=[];function getEncodedInlinesForType(block,styleList,styleToEncode){var ranges=[];var filteredInlines=styleList.map(function(style){return style.has(styleToEncode)}).toList();findRangesImmutable(filteredInlines,areEqual,isTruthy,function(start,end){var text=block.getText();ranges.push({offset:UnicodeUtils.strlen(text.slice(0,start)),length:UnicodeUtils.strlen(text.slice(start,end)),style:styleToEncode})});return ranges}function encodeInlineStyleRanges(block){var styleList=block.getCharacterList().map(function(c){return c.getStyle()}).toList();var ranges=styleList.flatten().toSet().map(function(style){return getEncodedInlinesForType(block,styleList,style)});return Array.prototype.concat.apply(EMPTY_ARRAY,ranges.toJS())}module.exports=encodeInlineStyleRanges},{"./findRangesImmutable":94,"fbjs/lib/UnicodeUtils":156}],92:[function(require,module,exports){(function(process){"use strict";var UnicodeUtils=require("fbjs/lib/UnicodeUtils");var getRangeClientRects=require("./getRangeClientRects");var invariant=require("fbjs/lib/invariant");function getLineHeightPx(element){var computed=getComputedStyle(element);var div=document.createElement("div");div.style.fontFamily=computed.fontFamily;div.style.fontSize=computed.fontSize;div.style.fontStyle=computed.fontStyle;div.style.fontWeight=computed.fontWeight;div.style.lineHeight=computed.lineHeight;div.style.position="absolute";div.textContent="M";document.body.appendChild(div);var rect=div.getBoundingClientRect();document.body.removeChild(div);return rect.height}function areRectsOnOneLine(rects,lineHeight){var minTop=Infinity;var minBottom=Infinity;var maxTop=-Infinity;var maxBottom=-Infinity;for(var ii=0;ii<rects.length;ii++){var rect=rects[ii];if(rect.width===0||rect.width===1){continue}minTop=Math.min(minTop,rect.top);minBottom=Math.min(minBottom,rect.bottom);maxTop=Math.max(maxTop,rect.top);maxBottom=Math.max(maxBottom,rect.bottom)}return maxTop<=minBottom&&maxTop-minTop<lineHeight&&maxBottom-minBottom<lineHeight}function getNodeLength(node){switch(node.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return node.length;default:return node.childNodes.length}}function expandRangeToStartOfLine(range){!range.collapsed?process.env.NODE_ENV!=="production"?invariant(false,"expandRangeToStartOfLine: Provided range is not collapsed."):invariant(false):void 0;range=range.cloneRange();var containingElement=range.startContainer;if(containingElement.nodeType!==1){containingElement=containingElement.parentNode}var lineHeight=getLineHeightPx(containingElement);var bestContainer=range.endContainer;var bestOffset=range.endOffset;range.setStart(range.startContainer,0);while(areRectsOnOneLine(getRangeClientRects(range),lineHeight)){bestContainer=range.startContainer;bestOffset=range.startOffset;!bestContainer.parentNode?process.env.NODE_ENV!=="production"?invariant(false,"Found unexpected detached subtree when traversing."):invariant(false):void 0;range.setStartBefore(bestContainer);if(bestContainer.nodeType===1&&getComputedStyle(bestContainer).display!=="inline"){
break}}var currentContainer=bestContainer;var maxIndexToConsider=bestOffset-1;do{var nodeValue=currentContainer.nodeValue;for(var ii=maxIndexToConsider;ii>=0;ii--){if(nodeValue!=null&&ii>0&&UnicodeUtils.isSurrogatePair(nodeValue,ii-1)){continue}range.setStart(currentContainer,ii);if(areRectsOnOneLine(getRangeClientRects(range),lineHeight)){bestContainer=currentContainer;bestOffset=ii}else{break}}if(ii===-1||currentContainer.childNodes.length===0){break}currentContainer=currentContainer.childNodes[ii];maxIndexToConsider=getNodeLength(currentContainer)}while(true);range.setStart(bestContainer,bestOffset);return range}module.exports=expandRangeToStartOfLine}).call(this,require("_process"))},{"./getRangeClientRects":104,_process:216,"fbjs/lib/UnicodeUtils":156,"fbjs/lib/invariant":180}],93:[function(require,module,exports){"use strict";var getSelectionOffsetKeyForNode=require("./getSelectionOffsetKeyForNode");function findAncestorOffsetKey(node){var searchNode=node;while(searchNode&&searchNode!==document.documentElement){var key=getSelectionOffsetKeyForNode(searchNode);if(key!=null){return key}searchNode=searchNode.parentNode}return null}module.exports=findAncestorOffsetKey},{"./getSelectionOffsetKeyForNode":107}],94:[function(require,module,exports){"use strict";function findRangesImmutable(haystack,areEqualFn,filterFn,foundFn){if(!haystack.size){return}var cursor=0;haystack.reduce(function(value,nextValue,nextIndex){if(!areEqualFn(value,nextValue)){if(filterFn(value)){foundFn(cursor,nextIndex)}cursor=nextIndex}return nextValue});filterFn(haystack.last())&&foundFn(cursor,haystack.count())}module.exports=findRangesImmutable},{}],95:[function(require,module,exports){"use strict";var seenKeys={};var MULTIPLIER=Math.pow(2,24);function generateRandomKey(){var key=void 0;while(key===undefined||seenKeys.hasOwnProperty(key)||!isNaN(+key)){key=Math.floor(Math.random()*MULTIPLIER).toString(32)}seenKeys[key]=true;return key}module.exports=generateRandomKey},{}],96:[function(require,module,exports){(function(process){"use strict";var DraftEntity=require("./DraftEntity");var DraftEntitySegments=require("./DraftEntitySegments");var getRangesForDraftEntity=require("./getRangesForDraftEntity");var invariant=require("fbjs/lib/invariant");function getCharacterRemovalRange(block,selectionState,direction){var start=selectionState.getStartOffset();var end=selectionState.getEndOffset();var entityKey=block.getEntityAt(start);if(!entityKey){return selectionState}var entity=DraftEntity.get(entityKey);var mutability=entity.getMutability();if(mutability==="MUTABLE"){return selectionState}var entityRanges=getRangesForDraftEntity(block,entityKey).filter(function(range){return start<range.end&&end>range.start});!(entityRanges.length==1)?process.env.NODE_ENV!=="production"?invariant(false,"There should only be one entity range within this removal range."):invariant(false):void 0;var entityRange=entityRanges[0];if(mutability==="IMMUTABLE"){return selectionState.merge({anchorOffset:entityRange.start,focusOffset:entityRange.end,isBackward:false})}var removalRange=DraftEntitySegments.getRemovalRange(start,end,block.getText().slice(entityRange.start,entityRange.end),entityRange.start,direction);return selectionState.merge({anchorOffset:removalRange.start,focusOffset:removalRange.end,isBackward:false})}module.exports=getCharacterRemovalRange}).call(this,require("_process"))},{"./DraftEntity":55,"./DraftEntitySegments":57,"./getRangesForDraftEntity":105,_process:216,"fbjs/lib/invariant":180}],97:[function(require,module,exports){"use strict";var generateRandomKey=require("./generateRandomKey");var removeEntitiesAtEdges=require("./removeEntitiesAtEdges");function getContentStateFragment(contentState,selectionState){var startKey=selectionState.getStartKey();var startOffset=selectionState.getStartOffset();var endKey=selectionState.getEndKey();var endOffset=selectionState.getEndOffset();var contentWithoutEdgeEntities=removeEntitiesAtEdges(contentState,selectionState);var blockMap=contentWithoutEdgeEntities.getBlockMap();var blockKeys=blockMap.keySeq();var startIndex=blockKeys.indexOf(startKey);var endIndex=blockKeys.indexOf(endKey)+1;var slice=blockMap.slice(startIndex,endIndex).map(function(block,blockKey){var newKey=generateRandomKey();var text=block.getText();var chars=block.getCharacterList();if(startKey===endKey){return block.merge({key:newKey,text:text.slice(startOffset,endOffset),characterList:chars.slice(startOffset,endOffset)})}if(blockKey===startKey){return block.merge({key:newKey,text:text.slice(startOffset),characterList:chars.slice(startOffset)})}if(blockKey===endKey){return block.merge({key:newKey,text:text.slice(0,endOffset),characterList:chars.slice(0,endOffset)})}return block.set("key",newKey)});return slice.toOrderedMap()}module.exports=getContentStateFragment},{"./generateRandomKey":95,"./removeEntitiesAtEdges":129}],98:[function(require,module,exports){"use strict";var KeyBindingUtil=require("./KeyBindingUtil");var Keys=require("fbjs/lib/Keys");var UserAgent=require("fbjs/lib/UserAgent");var isOSX=UserAgent.isPlatform("Mac OS X");var isWindows=UserAgent.isPlatform("Windows");var shouldFixFirefoxMovement=isOSX&&UserAgent.isBrowser("Firefox < 29");var hasCommandModifier=KeyBindingUtil.hasCommandModifier;var isCtrlKeyCommand=KeyBindingUtil.isCtrlKeyCommand;function shouldRemoveWord(e){return isOSX&&e.altKey||isCtrlKeyCommand(e)}function getZCommand(e){if(!hasCommandModifier(e)){return null}return e.shiftKey?"redo":"undo"}function getDeleteCommand(e){if(isWindows&&e.shiftKey){return null}return shouldRemoveWord(e)?"delete-word":"delete"}function getBackspaceCommand(e){if(hasCommandModifier(e)&&isOSX){return"backspace-to-start-of-line"}return shouldRemoveWord(e)?"backspace-word":"backspace"}function getDefaultKeyBinding(e){switch(e.keyCode){case 66:return hasCommandModifier(e)?"bold":null;case 68:return isCtrlKeyCommand(e)?"delete":null;case 72:return isCtrlKeyCommand(e)?"backspace":null;case 73:return hasCommandModifier(e)?"italic":null;case 74:return hasCommandModifier(e)?"code":null;case 75:return!isWindows&&isCtrlKeyCommand(e)?"secondary-cut":null;case 77:return isCtrlKeyCommand(e)?"split-block":null;case 79:return isCtrlKeyCommand(e)?"split-block":null;case 84:return isOSX&&isCtrlKeyCommand(e)?"transpose-characters":null;case 85:return hasCommandModifier(e)?"underline":null;case 87:return isOSX&&isCtrlKeyCommand(e)?"backspace-word":null;case 89:if(isCtrlKeyCommand(e)){return isWindows?"redo":"secondary-paste"}return null;case 90:return getZCommand(e)||null;case Keys.RETURN:return"split-block";case Keys.DELETE:return getDeleteCommand(e);case Keys.BACKSPACE:return getBackspaceCommand(e);case Keys.LEFT:return shouldFixFirefoxMovement&&hasCommandModifier(e)?"move-selection-to-start-of-block":null;case Keys.RIGHT:return shouldFixFirefoxMovement&&hasCommandModifier(e)?"move-selection-to-end-of-block":null;default:return null}}module.exports=getDefaultKeyBinding},{"./KeyBindingUtil":65,"fbjs/lib/Keys":147,"fbjs/lib/UserAgent":157}],99:[function(require,module,exports){(function(global){"use strict";var getDraftEditorSelectionWithNodes=require("./getDraftEditorSelectionWithNodes");function getDraftEditorSelection(editorState,root){var selection=global.getSelection();if(selection.rangeCount===0){return{selectionState:editorState.getSelection().set("hasFocus",false),needsRecovery:false}}return getDraftEditorSelectionWithNodes(editorState,root,selection.anchorNode,selection.anchorOffset,selection.focusNode,selection.focusOffset)}module.exports=getDraftEditorSelection}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./getDraftEditorSelectionWithNodes":100}],100:[function(require,module,exports){(function(process){"use strict";var findAncestorOffsetKey=require("./findAncestorOffsetKey");var getSelectionOffsetKeyForNode=require("./getSelectionOffsetKeyForNode");var getUpdatedSelectionState=require("./getUpdatedSelectionState");var invariant=require("fbjs/lib/invariant");var nullthrows=require("fbjs/lib/nullthrows");function getDraftEditorSelectionWithNodes(editorState,root,anchorNode,anchorOffset,focusNode,focusOffset){var anchorIsTextNode=anchorNode.nodeType===Node.TEXT_NODE;var focusIsTextNode=focusNode.nodeType===Node.TEXT_NODE;if(anchorIsTextNode&&focusIsTextNode){return{selectionState:getUpdatedSelectionState(editorState,nullthrows(findAncestorOffsetKey(anchorNode)),anchorOffset,nullthrows(findAncestorOffsetKey(focusNode)),focusOffset),needsRecovery:false}}var anchorPoint=null;var focusPoint=null;var needsRecovery=true;if(anchorIsTextNode){anchorPoint={key:nullthrows(findAncestorOffsetKey(anchorNode)),offset:anchorOffset};focusPoint=getPointForNonTextNode(root,focusNode,focusOffset)}else if(focusIsTextNode){focusPoint={key:nullthrows(findAncestorOffsetKey(focusNode)),offset:focusOffset};anchorPoint=getPointForNonTextNode(root,anchorNode,anchorOffset)}else{anchorPoint=getPointForNonTextNode(root,anchorNode,anchorOffset);focusPoint=getPointForNonTextNode(root,focusNode,focusOffset);if(anchorNode===focusNode&&anchorOffset===focusOffset){needsRecovery=!!anchorNode.firstChild&&anchorNode.firstChild.nodeName!=="BR"}}return{selectionState:getUpdatedSelectionState(editorState,anchorPoint.key,anchorPoint.offset,focusPoint.key,focusPoint.offset),needsRecovery:needsRecovery}}function getFirstLeaf(node){while(node.firstChild&&getSelectionOffsetKeyForNode(node.firstChild)){node=node.firstChild}return node}function getLastLeaf(node){while(node.lastChild&&getSelectionOffsetKeyForNode(node.lastChild)){node=node.lastChild}return node}function getPointForNonTextNode(editorRoot,startNode,childOffset){var node=startNode;var offsetKey=findAncestorOffsetKey(node);!(offsetKey!=null||editorRoot&&(editorRoot===node||editorRoot.firstChild===node))?process.env.NODE_ENV!=="production"?invariant(false,"Unknown node in selection range."):invariant(false):void 0;if(editorRoot===node){node=node.firstChild;!(node instanceof Element&&node.getAttribute("data-contents")==="true")?process.env.NODE_ENV!=="production"?invariant(false,"Invalid DraftEditorContents structure."):invariant(false):void 0;if(childOffset>0){childOffset=node.childNodes.length}}if(childOffset===0){var key=null;if(offsetKey!=null){key=offsetKey}else{var firstLeaf=getFirstLeaf(node);key=nullthrows(getSelectionOffsetKeyForNode(firstLeaf))}return{key:key,offset:0}}var nodeBeforeCursor=node.childNodes[childOffset-1];var leafKey=null;var textLength=null;if(!getSelectionOffsetKeyForNode(nodeBeforeCursor)){leafKey=nullthrows(offsetKey);textLength=getTextContentLength(nodeBeforeCursor)}else{var lastLeaf=getLastLeaf(nodeBeforeCursor);leafKey=nullthrows(getSelectionOffsetKeyForNode(lastLeaf));textLength=getTextContentLength(lastLeaf)}return{key:leafKey,offset:textLength}}function getTextContentLength(node){var textContent=node.textContent;return textContent==="\n"?0:textContent.length}module.exports=getDraftEditorSelectionWithNodes}).call(this,require("_process"))},{"./findAncestorOffsetKey":93,"./getSelectionOffsetKeyForNode":107,"./getUpdatedSelectionState":109,_process:216,"fbjs/lib/invariant":180,"fbjs/lib/nullthrows":188}],101:[function(require,module,exports){"use strict";var DraftEntity=require("./DraftEntity");function getEntityKeyForSelection(contentState,targetSelection){var entityKey;if(targetSelection.isCollapsed()){var key=targetSelection.getAnchorKey();var offset=targetSelection.getAnchorOffset();if(offset>0){entityKey=contentState.getBlockForKey(key).getEntityAt(offset-1);return filterKey(entityKey)}return null}var startKey=targetSelection.getStartKey();var startOffset=targetSelection.getStartOffset();var startBlock=contentState.getBlockForKey(startKey);entityKey=startOffset===startBlock.getLength()?null:startBlock.getEntityAt(startOffset);return filterKey(entityKey)}function filterKey(entityKey){if(entityKey){var entity=DraftEntity.get(entityKey);return entity.getMutability()==="MUTABLE"?entityKey:null}return null}module.exports=getEntityKeyForSelection},{"./DraftEntity":55}],102:[function(require,module,exports){"use strict";var getContentStateFragment=require("./getContentStateFragment");function getFragmentFromSelection(editorState){var selectionState=editorState.getSelection();if(selectionState.isCollapsed()){return null}return getContentStateFragment(editorState.getCurrentContent(),selectionState)}module.exports=getFragmentFromSelection},{"./getContentStateFragment":97}],103:[function(require,module,exports){"use strict";var getRangeClientRects=require("./getRangeClientRects");function getRangeBoundingClientRect(range){var rects=getRangeClientRects(range);var top=0;var right=0;var bottom=0;var left=0;if(rects.length){var _rects$=rects[0];top=_rects$.top;right=_rects$.right;bottom=_rects$.bottom;left=_rects$.left;for(var ii=1;ii<rects.length;ii++){var rect=rects[ii];if(rect.height!==0||rect.width!==0){top=Math.min(top,rect.top);right=Math.max(right,rect.right);bottom=Math.max(bottom,rect.bottom);left=Math.min(left,rect.left)}}}return{top:top,right:right,bottom:bottom,left:left,width:right-left,height:bottom-top}}module.exports=getRangeBoundingClientRect},{"./getRangeClientRects":104}],104:[function(require,module,exports){(function(process){"use strict";var UserAgent=require("fbjs/lib/UserAgent");var invariant=require("fbjs/lib/invariant");var isChrome=UserAgent.isBrowser("Chrome");function getRangeClientRectsChrome(range){var tempRange=range.cloneRange();var clientRects=[];for(var ancestor=range.endContainer;ancestor!=null;ancestor=ancestor.parentNode){var atCommonAncestor=ancestor===range.commonAncestorContainer;if(atCommonAncestor){tempRange.setStart(range.startContainer,range.startOffset)}else{tempRange.setStart(tempRange.endContainer,0)}var rects=Array.from(tempRange.getClientRects());clientRects.push(rects);if(atCommonAncestor){var _ref;clientRects.reverse();return(_ref=[]).concat.apply(_ref,clientRects)}tempRange.setEndBefore(ancestor)}!false?process.env.NODE_ENV!=="production"?invariant(false,"Found an unexpected detached subtree when getting range client rects."):invariant(false):void 0}var getRangeClientRects=isChrome?getRangeClientRectsChrome:function(range){return Array.from(range.getClientRects())};module.exports=getRangeClientRects}).call(this,require("_process"))},{_process:216,"fbjs/lib/UserAgent":157,"fbjs/lib/invariant":180}],105:[function(require,module,exports){(function(process){"use strict";var invariant=require("fbjs/lib/invariant");function getRangesForDraftEntity(block,key){var ranges=[];block.findEntityRanges(function(c){return c.getEntity()===key},function(start,end){ranges.push({start:start,end:end})});!!!ranges.length?process.env.NODE_ENV!=="production"?invariant(false,"Entity key not found in this range."):invariant(false):void 0;return ranges}module.exports=getRangesForDraftEntity}).call(this,require("_process"))},{_process:216,"fbjs/lib/invariant":180}],106:[function(require,module,exports){"use strict";var UserAgent=require("fbjs/lib/UserAgent");var isOldIE=UserAgent.isBrowser("IE <= 9");function getSafeBodyFromHTML(html){var doc;var root=null;if(!isOldIE&&document.implementation&&document.implementation.createHTMLDocument){doc=document.implementation.createHTMLDocument("foo");doc.documentElement.innerHTML=html;root=doc.getElementsByTagName("body")[0]}return root}module.exports=getSafeBodyFromHTML},{"fbjs/lib/UserAgent":157}],107:[function(require,module,exports){"use strict";function getSelectionOffsetKeyForNode(node){if(node instanceof Element){var offsetKey=node.getAttribute("data-offset-key");if(offsetKey){return offsetKey}for(var ii=0;ii<node.childNodes.length;ii++){var childOffsetKey=getSelectionOffsetKeyForNode(node.childNodes[ii]);if(childOffsetKey){return childOffsetKey}}}return null}module.exports=getSelectionOffsetKeyForNode},{}],108:[function(require,module,exports){(function(global){"use strict";var TEXT_CLIPPING_REGEX=/\.textClipping$/;var TEXT_TYPES={"text/plain":true,"text/html":true,"text/rtf":true};var TEXT_SIZE_UPPER_BOUND=5e3;function getTextContentFromFiles(files,callback){var readCount=0;var results=[];files.forEach(function(file){readFile(file,function(text){readCount++;text&&results.push(text.slice(0,TEXT_SIZE_UPPER_BOUND));if(readCount==files.length){callback(results.join("\r"))}})})}function readFile(file,callback){if(!global.FileReader||file.type&&!(file.type in TEXT_TYPES)){callback("");return}if(file.type===""){var contents="";if(TEXT_CLIPPING_REGEX.test(file.name)){contents=file.name.replace(TEXT_CLIPPING_REGEX,"")}callback(contents);return}var reader=new FileReader;reader.onload=function(){callback(reader.result)};reader.onerror=function(){callback("")};reader.readAsText(file)}module.exports=getTextContentFromFiles}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],109:[function(require,module,exports){(function(process){"use strict";var DraftOffsetKey=require("./DraftOffsetKey");var nullthrows=require("fbjs/lib/nullthrows");function getUpdatedSelectionState(editorState,anchorKey,anchorOffset,focusKey,focusOffset){var selection=nullthrows(editorState.getSelection());if(process.env.NODE_ENV!=="production"){if(!anchorKey||!focusKey){console.warn("Invalid selection state.",arguments,editorState.toJS());return selection}}var anchorPath=DraftOffsetKey.decode(anchorKey);var anchorBlockKey=anchorPath.blockKey;var anchorLeaf=editorState.getBlockTree(anchorBlockKey).getIn([anchorPath.decoratorKey,"leaves",anchorPath.leafKey]);var focusPath=DraftOffsetKey.decode(focusKey);var focusBlockKey=focusPath.blockKey;var focusLeaf=editorState.getBlockTree(focusBlockKey).getIn([focusPath.decoratorKey,"leaves",focusPath.leafKey]);var anchorLeafStart=anchorLeaf.get("start");var focusLeafStart=focusLeaf.get("start");var anchorBlockOffset=anchorLeaf?anchorLeafStart+anchorOffset:null;var focusBlockOffset=focusLeaf?focusLeafStart+focusOffset:null;var areEqual=selection.getAnchorKey()===anchorBlockKey&&selection.getAnchorOffset()===anchorBlockOffset&&selection.getFocusKey()===focusBlockKey&&selection.getFocusOffset()===focusBlockOffset;if(areEqual){return selection}var isBackward=false;if(anchorBlockKey===focusBlockKey){var anchorLeafEnd=anchorLeaf.get("end");var focusLeafEnd=focusLeaf.get("end");if(focusLeafStart===anchorLeafStart&&focusLeafEnd===anchorLeafEnd){isBackward=focusOffset<anchorOffset}else{isBackward=focusLeafStart<anchorLeafStart}}else{var startKey=editorState.getCurrentContent().getBlockMap().keySeq().skipUntil(function(v){return v===anchorBlockKey||v===focusBlockKey}).first();isBackward=startKey===focusBlockKey}return selection.merge({anchorKey:anchorBlockKey,anchorOffset:anchorBlockOffset,focusKey:focusBlockKey,focusOffset:focusBlockOffset,isBackward:isBackward})}module.exports=getUpdatedSelectionState}).call(this,require("_process"))},{"./DraftOffsetKey":59,_process:216,"fbjs/lib/nullthrows":188}],110:[function(require,module,exports){"use strict";var getRangeBoundingClientRect=require("./getRangeBoundingClientRect");function getVisibleSelectionRect(global){var selection=global.getSelection();if(!selection.rangeCount){return null}var range=selection.getRangeAt(0);var boundingRect=getRangeBoundingClientRect(range);var top=boundingRect.top;var right=boundingRect.right;var bottom=boundingRect.bottom;var left=boundingRect.left;if(top===0&&right===0&&bottom===0&&left===0){return null}return boundingRect}module.exports=getVisibleSelectionRect},{"./getRangeBoundingClientRect":103}],111:[function(require,module,exports){(function(process){"use strict";var BlockMapBuilder=require("./BlockMapBuilder");var generateRandomKey=require("./generateRandomKey");var insertIntoList=require("./insertIntoList");var invariant=require("fbjs/lib/invariant");function insertFragmentIntoContentState(contentState,selectionState,fragment){!selectionState.isCollapsed()?process.env.NODE_ENV!=="production"?invariant(false,"`insertFragment` should only be called with a collapsed selection state."):invariant(false):void 0;var targetKey=selectionState.getStartKey();var targetOffset=selectionState.getStartOffset();var blockMap=contentState.getBlockMap();var fragmentSize=fragment.size;var finalKey;var finalOffset;if(fragmentSize===1){var targetBlock=blockMap.get(targetKey);var pastedBlock=fragment.first();var text=targetBlock.getText();var chars=targetBlock.getCharacterList();var newBlock=targetBlock.merge({text:text.slice(0,targetOffset)+pastedBlock.getText()+text.slice(targetOffset),characterList:insertIntoList(chars,pastedBlock.getCharacterList(),targetOffset),data:pastedBlock.getData()});blockMap=blockMap.set(targetKey,newBlock);finalKey=targetKey;finalOffset=targetOffset+pastedBlock.getText().length;return contentState.merge({blockMap:blockMap.set(targetKey,newBlock),selectionBefore:selectionState,selectionAfter:selectionState.merge({anchorKey:finalKey,anchorOffset:finalOffset,focusKey:finalKey,focusOffset:finalOffset,isBackward:false})})}var newBlockArr=[];contentState.getBlockMap().forEach(function(block,blockKey){if(blockKey!==targetKey){newBlockArr.push(block);return}var text=block.getText();var chars=block.getCharacterList();var blockSize=text.length;var headText=text.slice(0,targetOffset);var headCharacters=chars.slice(0,targetOffset);var appendToHead=fragment.first();var modifiedHead=block.merge({text:headText+appendToHead.getText(),characterList:headCharacters.concat(appendToHead.getCharacterList()),type:headText?block.getType():appendToHead.getType(),data:appendToHead.getData()});newBlockArr.push(modifiedHead);fragment.slice(1,fragmentSize-1).forEach(function(fragmentBlock){newBlockArr.push(fragmentBlock.set("key",generateRandomKey()))});var tailText=text.slice(targetOffset,blockSize);var tailCharacters=chars.slice(targetOffset,blockSize);var prependToTail=fragment.last();finalKey=generateRandomKey();var modifiedTail=prependToTail.merge({key:finalKey,text:prependToTail.getText()+tailText,characterList:prependToTail.getCharacterList().concat(tailCharacters),data:prependToTail.getData()});newBlockArr.push(modifiedTail)});finalOffset=fragment.last().getLength();return contentState.merge({blockMap:BlockMapBuilder.createFromArray(newBlockArr),selectionBefore:selectionState,selectionAfter:selectionState.merge({anchorKey:finalKey,anchorOffset:finalOffset,focusKey:finalKey,focusOffset:finalOffset,isBackward:false})})}module.exports=insertFragmentIntoContentState}).call(this,require("_process"))},{"./BlockMapBuilder":36,"./generateRandomKey":95,"./insertIntoList":112,_process:216,"fbjs/lib/invariant":180}],112:[function(require,module,exports){"use strict";function insertIntoList(targetList,toInsert,offset){if(offset===targetList.count()){toInsert.forEach(function(c){targetList=targetList.push(c)})}else if(offset===0){toInsert.reverse().forEach(function(c){targetList=targetList.unshift(c)})}else{var head=targetList.slice(0,offset);var tail=targetList.slice(offset);targetList=head.concat(toInsert,tail).toList()}return targetList}module.exports=insertIntoList},{}],113:[function(require,module,exports){(function(process){"use strict";var Immutable=require("immutable");var insertIntoList=require("./insertIntoList");var invariant=require("fbjs/lib/invariant");var Repeat=Immutable.Repeat;function insertTextIntoContentState(contentState,selectionState,text,characterMetadata){!selectionState.isCollapsed()?process.env.NODE_ENV!=="production"?invariant(false,"`insertText` should only be called with a collapsed range."):invariant(false):void 0;var len=text.length;if(!len){return contentState}var blockMap=contentState.getBlockMap();var key=selectionState.getStartKey();var offset=selectionState.getStartOffset();var block=blockMap.get(key);var blockText=block.getText();var newBlock=block.merge({text:blockText.slice(0,offset)+text+blockText.slice(offset,block.getLength()),characterList:insertIntoList(block.getCharacterList(),Repeat(characterMetadata,len).toList(),offset)});var newOffset=offset+len;return contentState.merge({blockMap:blockMap.set(key,newBlock),selectionAfter:selectionState.merge({anchorOffset:newOffset,focusOffset:newOffset})})}module.exports=insertTextIntoContentState}).call(this,require("_process"))},{"./insertIntoList":112,_process:216,"fbjs/lib/invariant":180,immutable:206}],114:[function(require,module,exports){"use strict";function isEventHandled(value){return value==="handled"||value===true}module.exports=isEventHandled},{}],115:[function(require,module,exports){"use strict";function isSelectionAtLeafStart(editorState){var selection=editorState.getSelection();var anchorKey=selection.getAnchorKey();var blockTree=editorState.getBlockTree(anchorKey);var offset=selection.getStartOffset();var isAtStart=false;blockTree.some(function(leafSet){if(offset===leafSet.get("start")){isAtStart=true;return true}if(offset<leafSet.get("end")){return leafSet.get("leaves").some(function(leaf){var leafStart=leaf.get("start");if(offset===leafStart){isAtStart=true;return true}return false})}return false});return isAtStart}module.exports=isSelectionAtLeafStart},{}],116:[function(require,module,exports){(function(global){"use strict";var EditorState=require("./EditorState");var expandRangeToStartOfLine=require("./expandRangeToStartOfLine");var getDraftEditorSelectionWithNodes=require("./getDraftEditorSelectionWithNodes");var moveSelectionBackward=require("./moveSelectionBackward");var removeTextWithStrategy=require("./removeTextWithStrategy");function keyCommandBackspaceToStartOfLine(editorState){var afterRemoval=removeTextWithStrategy(editorState,function(strategyState){var selection=strategyState.getSelection();if(selection.isCollapsed()&&selection.getAnchorOffset()===0){return moveSelectionBackward(strategyState,1)}var domSelection=global.getSelection();var range=domSelection.getRangeAt(0);range=expandRangeToStartOfLine(range);return getDraftEditorSelectionWithNodes(strategyState,null,range.endContainer,range.endOffset,range.startContainer,range.startOffset).selectionState},"backward");if(afterRemoval===editorState.getCurrentContent()){return editorState}return EditorState.push(editorState,afterRemoval,"remove-range")}module.exports=keyCommandBackspaceToStartOfLine}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./EditorState":64,"./expandRangeToStartOfLine":92,"./getDraftEditorSelectionWithNodes":100,"./moveSelectionBackward":127,"./removeTextWithStrategy":131}],117:[function(require,module,exports){"use strict";var DraftRemovableWord=require("./DraftRemovableWord");var EditorState=require("./EditorState");var moveSelectionBackward=require("./moveSelectionBackward");var removeTextWithStrategy=require("./removeTextWithStrategy");function keyCommandBackspaceWord(editorState){var afterRemoval=removeTextWithStrategy(editorState,function(strategyState){var selection=strategyState.getSelection();var offset=selection.getStartOffset();if(offset===0){return moveSelectionBackward(strategyState,1)}var key=selection.getStartKey();var content=strategyState.getCurrentContent();var text=content.getBlockForKey(key).getText().slice(0,offset);var toRemove=DraftRemovableWord.getBackward(text);return moveSelectionBackward(strategyState,toRemove.length||1)},"backward");if(afterRemoval===editorState.getCurrentContent()){return editorState}return EditorState.push(editorState,afterRemoval,"remove-range")}module.exports=keyCommandBackspaceWord},{"./DraftRemovableWord":61,"./EditorState":64,"./moveSelectionBackward":127,"./removeTextWithStrategy":131}],118:[function(require,module,exports){"use strict";var DraftRemovableWord=require("./DraftRemovableWord");var EditorState=require("./EditorState");var moveSelectionForward=require("./moveSelectionForward");var removeTextWithStrategy=require("./removeTextWithStrategy");function keyCommandDeleteWord(editorState){var afterRemoval=removeTextWithStrategy(editorState,function(strategyState){var selection=strategyState.getSelection();var offset=selection.getStartOffset();var key=selection.getStartKey();var content=strategyState.getCurrentContent();var text=content.getBlockForKey(key).getText().slice(offset);var toRemove=DraftRemovableWord.getForward(text);return moveSelectionForward(strategyState,toRemove.length||1)},"forward");if(afterRemoval===editorState.getCurrentContent()){return editorState}return EditorState.push(editorState,afterRemoval,"remove-range")}module.exports=keyCommandDeleteWord},{"./DraftRemovableWord":61,"./EditorState":64,"./moveSelectionForward":128,"./removeTextWithStrategy":131}],119:[function(require,module,exports){"use strict";var DraftModifier=require("./DraftModifier");var EditorState=require("./EditorState");function keyCommandInsertNewline(editorState){var contentState=DraftModifier.splitBlock(editorState.getCurrentContent(),editorState.getSelection());return EditorState.push(editorState,contentState,"split-block")}module.exports=keyCommandInsertNewline},{"./DraftModifier":58,"./EditorState":64}],120:[function(require,module,exports){"use strict";var EditorState=require("./EditorState");function keyCommandMoveSelectionToEndOfBlock(editorState){var selection=editorState.getSelection();var endKey=selection.getEndKey();var content=editorState.getCurrentContent();var textLength=content.getBlockForKey(endKey).getLength();return EditorState.set(editorState,{selection:selection.merge({anchorKey:endKey,anchorOffset:textLength,focusKey:endKey,focusOffset:textLength,isBackward:false}),forceSelection:true})}module.exports=keyCommandMoveSelectionToEndOfBlock},{"./EditorState":64}],121:[function(require,module,exports){"use strict";var EditorState=require("./EditorState");function keyCommandMoveSelectionToStartOfBlock(editorState){var selection=editorState.getSelection();var startKey=selection.getStartKey();return EditorState.set(editorState,{selection:selection.merge({anchorKey:startKey,anchorOffset:0,focusKey:startKey,focusOffset:0,isBackward:false}),forceSelection:true})}module.exports=keyCommandMoveSelectionToStartOfBlock},{"./EditorState":64}],122:[function(require,module,exports){"use strict";var EditorState=require("./EditorState");var UnicodeUtils=require("fbjs/lib/UnicodeUtils");var moveSelectionBackward=require("./moveSelectionBackward");var removeTextWithStrategy=require("./removeTextWithStrategy");function keyCommandPlainBackspace(editorState){var afterRemoval=removeTextWithStrategy(editorState,function(strategyState){var selection=strategyState.getSelection();var content=strategyState.getCurrentContent();var key=selection.getAnchorKey();var offset=selection.getAnchorOffset();var charBehind=content.getBlockForKey(key).getText()[offset-1];return moveSelectionBackward(strategyState,charBehind?UnicodeUtils.getUTF16Length(charBehind,0):1)},"backward");if(afterRemoval===editorState.getCurrentContent()){return editorState}var selection=editorState.getSelection();return EditorState.push(editorState,afterRemoval.set("selectionBefore",selection),selection.isCollapsed()?"backspace-character":"remove-range")}module.exports=keyCommandPlainBackspace},{"./EditorState":64,"./moveSelectionBackward":127,"./removeTextWithStrategy":131,"fbjs/lib/UnicodeUtils":156}],123:[function(require,module,exports){"use strict";var EditorState=require("./EditorState");var UnicodeUtils=require("fbjs/lib/UnicodeUtils");var moveSelectionForward=require("./moveSelectionForward");var removeTextWithStrategy=require("./removeTextWithStrategy");function keyCommandPlainDelete(editorState){var afterRemoval=removeTextWithStrategy(editorState,function(strategyState){var selection=strategyState.getSelection();var content=strategyState.getCurrentContent();var key=selection.getAnchorKey();var offset=selection.getAnchorOffset();var charAhead=content.getBlockForKey(key).getText()[offset];return moveSelectionForward(strategyState,charAhead?UnicodeUtils.getUTF16Length(charAhead,0):1)},"forward");if(afterRemoval===editorState.getCurrentContent()){return editorState;
}var selection=editorState.getSelection();return EditorState.push(editorState,afterRemoval.set("selectionBefore",selection),selection.isCollapsed()?"delete-character":"remove-range")}module.exports=keyCommandPlainDelete},{"./EditorState":64,"./moveSelectionForward":128,"./removeTextWithStrategy":131,"fbjs/lib/UnicodeUtils":156}],124:[function(require,module,exports){"use strict";var DraftModifier=require("./DraftModifier");var EditorState=require("./EditorState");var getContentStateFragment=require("./getContentStateFragment");function keyCommandTransposeCharacters(editorState){var selection=editorState.getSelection();if(!selection.isCollapsed()){return editorState}var offset=selection.getAnchorOffset();if(offset===0){return editorState}var blockKey=selection.getAnchorKey();var content=editorState.getCurrentContent();var block=content.getBlockForKey(blockKey);var length=block.getLength();if(length<=1){return editorState}var removalRange;var finalSelection;if(offset===length){removalRange=selection.set("anchorOffset",offset-1);finalSelection=selection}else{removalRange=selection.set("focusOffset",offset+1);finalSelection=removalRange.set("anchorOffset",offset+1)}var movedFragment=getContentStateFragment(content,removalRange);var afterRemoval=DraftModifier.removeRange(content,removalRange,"backward");var selectionAfter=afterRemoval.getSelectionAfter();var targetOffset=selectionAfter.getAnchorOffset()-1;var targetRange=selectionAfter.merge({anchorOffset:targetOffset,focusOffset:targetOffset});var afterInsert=DraftModifier.replaceWithFragment(afterRemoval,targetRange,movedFragment);var newEditorState=EditorState.push(editorState,afterInsert,"insert-fragment");return EditorState.acceptSelection(newEditorState,finalSelection)}module.exports=keyCommandTransposeCharacters},{"./DraftModifier":58,"./EditorState":64,"./getContentStateFragment":97}],125:[function(require,module,exports){"use strict";var EditorState=require("./EditorState");function keyCommandUndo(e,editorState,updateFn){var undoneState=EditorState.undo(editorState);if(editorState.getLastChangeType()==="spellcheck-change"){var nativelyRenderedContent=undoneState.getCurrentContent();updateFn(EditorState.set(undoneState,{nativelyRenderedContent:nativelyRenderedContent}));return}e.preventDefault();if(!editorState.getNativelyRenderedContent()){updateFn(undoneState);return}updateFn(EditorState.set(editorState,{nativelyRenderedContent:null}));setTimeout(function(){updateFn(undoneState)},0)}module.exports=keyCommandUndo},{"./EditorState":64}],126:[function(require,module,exports){"use strict";var Immutable=require("immutable");var Map=Immutable.Map;function modifyBlockForContentState(contentState,selectionState,operation){var startKey=selectionState.getStartKey();var endKey=selectionState.getEndKey();var blockMap=contentState.getBlockMap();var newBlocks=blockMap.toSeq().skipUntil(function(_,k){return k===startKey}).takeUntil(function(_,k){return k===endKey}).concat(Map([[endKey,blockMap.get(endKey)]])).map(operation);return contentState.merge({blockMap:blockMap.merge(newBlocks),selectionBefore:selectionState,selectionAfter:selectionState})}module.exports=modifyBlockForContentState},{immutable:206}],127:[function(require,module,exports){"use strict";function moveSelectionBackward(editorState,maxDistance){var selection=editorState.getSelection();var content=editorState.getCurrentContent();var key=selection.getStartKey();var offset=selection.getStartOffset();var focusKey=key;var focusOffset=0;if(maxDistance>offset){var keyBefore=content.getKeyBefore(key);if(keyBefore==null){focusKey=key}else{focusKey=keyBefore;var blockBefore=content.getBlockForKey(keyBefore);focusOffset=blockBefore.getText().length}}else{focusOffset=offset-maxDistance}return selection.merge({focusKey:focusKey,focusOffset:focusOffset,isBackward:true})}module.exports=moveSelectionBackward},{}],128:[function(require,module,exports){"use strict";function moveSelectionForward(editorState,maxDistance){var selection=editorState.getSelection();var key=selection.getStartKey();var offset=selection.getStartOffset();var content=editorState.getCurrentContent();var focusKey=key;var focusOffset;var block=content.getBlockForKey(key);if(maxDistance>block.getText().length-offset){focusKey=content.getKeyAfter(key);focusOffset=0}else{focusOffset=offset+maxDistance}return selection.merge({focusKey:focusKey,focusOffset:focusOffset})}module.exports=moveSelectionForward},{}],129:[function(require,module,exports){(function(process){"use strict";var CharacterMetadata=require("./CharacterMetadata");var DraftEntity=require("./DraftEntity");var findRangesImmutable=require("./findRangesImmutable");var invariant=require("fbjs/lib/invariant");function removeEntitiesAtEdges(contentState,selectionState){var blockMap=contentState.getBlockMap();var updatedBlocks={};var startKey=selectionState.getStartKey();var startOffset=selectionState.getStartOffset();var startBlock=blockMap.get(startKey);var updatedStart=removeForBlock(startBlock,startOffset);if(updatedStart!==startBlock){updatedBlocks[startKey]=updatedStart}var endKey=selectionState.getEndKey();var endOffset=selectionState.getEndOffset();var endBlock=blockMap.get(endKey);if(startKey===endKey){endBlock=updatedStart}var updatedEnd=removeForBlock(endBlock,endOffset);if(updatedEnd!==endBlock){updatedBlocks[endKey]=updatedEnd}if(!Object.keys(updatedBlocks).length){return contentState.set("selectionAfter",selectionState)}return contentState.merge({blockMap:blockMap.merge(updatedBlocks),selectionAfter:selectionState})}function getRemovalRange(characters,key,offset){var removalRange;findRangesImmutable(characters,function(a,b){return a.getEntity()===b.getEntity()},function(element){return element.getEntity()===key},function(start,end){if(start<=offset&&end>=offset){removalRange={start:start,end:end}}});!(typeof removalRange==="object")?process.env.NODE_ENV!=="production"?invariant(false,"Removal range must exist within character list."):invariant(false):void 0;return removalRange}function removeForBlock(block,offset){var chars=block.getCharacterList();var charBefore=offset>0?chars.get(offset-1):undefined;var charAfter=offset<chars.count()?chars.get(offset):undefined;var entityBeforeCursor=charBefore?charBefore.getEntity():undefined;var entityAfterCursor=charAfter?charAfter.getEntity():undefined;if(entityAfterCursor&&entityAfterCursor===entityBeforeCursor){var entity=DraftEntity.get(entityAfterCursor);if(entity.getMutability()!=="MUTABLE"){var _getRemovalRange=getRemovalRange(chars,entityAfterCursor,offset);var start=_getRemovalRange.start;var end=_getRemovalRange.end;var current;while(start<end){current=chars.get(start);chars=chars.set(start,CharacterMetadata.applyEntity(current,null));start++}return block.set("characterList",chars)}}return block}module.exports=removeEntitiesAtEdges}).call(this,require("_process"))},{"./CharacterMetadata":38,"./DraftEntity":55,"./findRangesImmutable":94,_process:216,"fbjs/lib/invariant":180}],130:[function(require,module,exports){"use strict";var Immutable=require("immutable");function removeRangeFromContentState(contentState,selectionState){if(selectionState.isCollapsed()){return contentState}var blockMap=contentState.getBlockMap();var startKey=selectionState.getStartKey();var startOffset=selectionState.getStartOffset();var endKey=selectionState.getEndKey();var endOffset=selectionState.getEndOffset();var startBlock=blockMap.get(startKey);var endBlock=blockMap.get(endKey);var characterList;if(startBlock===endBlock){characterList=removeFromList(startBlock.getCharacterList(),startOffset,endOffset)}else{characterList=startBlock.getCharacterList().slice(0,startOffset).concat(endBlock.getCharacterList().slice(endOffset))}var modifiedStart=startBlock.merge({text:startBlock.getText().slice(0,startOffset)+endBlock.getText().slice(endOffset),characterList:characterList});var newBlocks=blockMap.toSeq().skipUntil(function(_,k){return k===startKey}).takeUntil(function(_,k){return k===endKey}).concat(Immutable.Map([[endKey,null]])).map(function(_,k){return k===startKey?modifiedStart:null});blockMap=blockMap.merge(newBlocks).filter(function(block){return!!block});return contentState.merge({blockMap:blockMap,selectionBefore:selectionState,selectionAfter:selectionState.merge({anchorKey:startKey,anchorOffset:startOffset,focusKey:startKey,focusOffset:startOffset,isBackward:false})})}function removeFromList(targetList,startOffset,endOffset){if(startOffset===0){while(startOffset<endOffset){targetList=targetList.shift();startOffset++}}else if(endOffset===targetList.count()){while(endOffset>startOffset){targetList=targetList.pop();endOffset--}}else{var head=targetList.slice(0,startOffset);var tail=targetList.slice(endOffset);targetList=head.concat(tail).toList()}return targetList}module.exports=removeRangeFromContentState},{immutable:206}],131:[function(require,module,exports){"use strict";var DraftModifier=require("./DraftModifier");function removeTextWithStrategy(editorState,strategy,direction){var selection=editorState.getSelection();var content=editorState.getCurrentContent();var target=selection;if(selection.isCollapsed()){if(direction==="forward"){if(editorState.isSelectionAtEndOfContent()){return content}}else if(editorState.isSelectionAtStartOfContent()){return content}target=strategy(editorState);if(target===selection){return content}}return DraftModifier.removeRange(content,target,direction)}module.exports=removeTextWithStrategy},{"./DraftModifier":58}],132:[function(require,module,exports){"use strict";var REGEX_BLOCK_DELIMITER=new RegExp("\r","g");function sanitizeDraftText(input){return input.replace(REGEX_BLOCK_DELIMITER,"")}module.exports=sanitizeDraftText},{}],133:[function(require,module,exports){(function(global){"use strict";var containsNode=require("fbjs/lib/containsNode");var getActiveElement=require("fbjs/lib/getActiveElement");function setDraftEditorSelection(selectionState,node,blockKey,nodeStart,nodeEnd){if(!containsNode(document.documentElement,node)){return}var selection=global.getSelection();var anchorKey=selectionState.getAnchorKey();var anchorOffset=selectionState.getAnchorOffset();var focusKey=selectionState.getFocusKey();var focusOffset=selectionState.getFocusOffset();var isBackward=selectionState.getIsBackward();if(!selection.extend&&isBackward){var tempKey=anchorKey;var tempOffset=anchorOffset;anchorKey=focusKey;anchorOffset=focusOffset;focusKey=tempKey;focusOffset=tempOffset;isBackward=false}var hasAnchor=anchorKey===blockKey&&nodeStart<=anchorOffset&&nodeEnd>=anchorOffset;var hasFocus=focusKey===blockKey&&nodeStart<=focusOffset&&nodeEnd>=focusOffset;if(hasAnchor&&hasFocus){selection.removeAllRanges();addPointToSelection(selection,node,anchorOffset-nodeStart);addFocusToSelection(selection,node,focusOffset-nodeStart);return}if(!isBackward){if(hasAnchor){selection.removeAllRanges();addPointToSelection(selection,node,anchorOffset-nodeStart)}if(hasFocus){addFocusToSelection(selection,node,focusOffset-nodeStart)}}else{if(hasFocus){selection.removeAllRanges();addPointToSelection(selection,node,focusOffset-nodeStart)}if(hasAnchor){var storedFocusNode=selection.focusNode;var storedFocusOffset=selection.focusOffset;selection.removeAllRanges();addPointToSelection(selection,node,anchorOffset-nodeStart);addFocusToSelection(selection,storedFocusNode,storedFocusOffset)}}}function addFocusToSelection(selection,node,offset){if(selection.extend&&containsNode(getActiveElement(),node)){selection.extend(node,offset)}else{var range=selection.getRangeAt(0);range.setEnd(node,offset);selection.addRange(range.cloneRange())}}function addPointToSelection(selection,node,offset){var range=document.createRange();range.setStart(node,offset);selection.addRange(range)}module.exports=setDraftEditorSelection}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"fbjs/lib/containsNode":162,"fbjs/lib/getActiveElement":169}],134:[function(require,module,exports){(function(process){"use strict";var Immutable=require("immutable");var generateRandomKey=require("./generateRandomKey");var invariant=require("fbjs/lib/invariant");var Map=Immutable.Map;function splitBlockInContentState(contentState,selectionState){!selectionState.isCollapsed()?process.env.NODE_ENV!=="production"?invariant(false,"Selection range must be collapsed."):invariant(false):void 0;var key=selectionState.getAnchorKey();var offset=selectionState.getAnchorOffset();var blockMap=contentState.getBlockMap();var blockToSplit=blockMap.get(key);var text=blockToSplit.getText();var chars=blockToSplit.getCharacterList();var blockAbove=blockToSplit.merge({text:text.slice(0,offset),characterList:chars.slice(0,offset)});var keyBelow=generateRandomKey();var blockBelow=blockAbove.merge({key:keyBelow,text:text.slice(offset),characterList:chars.slice(offset),data:Map()});var blocksBefore=blockMap.toSeq().takeUntil(function(v){return v===blockToSplit});var blocksAfter=blockMap.toSeq().skipUntil(function(v){return v===blockToSplit}).rest();var newBlocks=blocksBefore.concat([[blockAbove.getKey(),blockAbove],[blockBelow.getKey(),blockBelow]],blocksAfter).toOrderedMap();return contentState.merge({blockMap:newBlocks,selectionBefore:selectionState,selectionAfter:selectionState.merge({anchorKey:keyBelow,anchorOffset:0,focusKey:keyBelow,focusOffset:0,isBackward:false})})}module.exports=splitBlockInContentState}).call(this,require("_process"))},{"./generateRandomKey":95,_process:216,"fbjs/lib/invariant":180,immutable:206}],135:[function(require,module,exports){"use strict";var NEWLINE_REGEX=/\r\n?|\n/g;function splitTextIntoTextBlocks(text){return text.split(NEWLINE_REGEX)}module.exports=splitTextIntoTextBlocks},{}],136:[function(require,module,exports){var encode=require("./lib/encode.js"),decode=require("./lib/decode.js");exports.decode=function(data,level){return(!level||level<=0?decode.XML:decode.HTML)(data)};exports.decodeStrict=function(data,level){return(!level||level<=0?decode.XML:decode.HTMLStrict)(data)};exports.encode=function(data,level){return(!level||level<=0?encode.XML:encode.HTML)(data)};exports.encodeXML=encode.XML;exports.encodeHTML4=exports.encodeHTML5=exports.encodeHTML=encode.HTML;exports.decodeXML=exports.decodeXMLStrict=decode.XML;exports.decodeHTML4=exports.decodeHTML5=exports.decodeHTML=decode.HTML;exports.decodeHTML4Strict=exports.decodeHTML5Strict=exports.decodeHTMLStrict=decode.HTMLStrict;exports.escape=encode.escape},{"./lib/decode.js":137,"./lib/encode.js":139}],137:[function(require,module,exports){var entityMap=require("../maps/entities.json"),legacyMap=require("../maps/legacy.json"),xmlMap=require("../maps/xml.json"),decodeCodePoint=require("./decode_codepoint.js");var decodeXMLStrict=getStrictDecoder(xmlMap),decodeHTMLStrict=getStrictDecoder(entityMap);function getStrictDecoder(map){var keys=Object.keys(map).join("|"),replace=getReplacer(map);keys+="|#[xX][\\da-fA-F]+|#\\d+";var re=new RegExp("&(?:"+keys+");","g");return function(str){return String(str).replace(re,replace)}}var decodeHTML=function(){var legacy=Object.keys(legacyMap).sort(sorter);var keys=Object.keys(entityMap).sort(sorter);for(var i=0,j=0;i<keys.length;i++){if(legacy[j]===keys[i]){keys[i]+=";?";j++}else{keys[i]+=";"}}var re=new RegExp("&(?:"+keys.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),replace=getReplacer(entityMap);function replacer(str){if(str.substr(-1)!==";")str+=";";return replace(str)}return function(str){return String(str).replace(re,replacer)}}();function sorter(a,b){return a<b?1:-1}function getReplacer(map){return function replace(str){if(str.charAt(1)==="#"){if(str.charAt(2)==="X"||str.charAt(2)==="x"){return decodeCodePoint(parseInt(str.substr(3),16))}return decodeCodePoint(parseInt(str.substr(2),10))}return map[str.slice(1,-1)]}}module.exports={XML:decodeXMLStrict,HTML:decodeHTML,HTMLStrict:decodeHTMLStrict}},{"../maps/entities.json":141,"../maps/legacy.json":142,"../maps/xml.json":143,"./decode_codepoint.js":138}],138:[function(require,module,exports){var decodeMap=require("../maps/decode.json");module.exports=decodeCodePoint;function decodeCodePoint(codePoint){if(codePoint>=55296&&codePoint<=57343||codePoint>1114111){return"�"}if(codePoint in decodeMap){codePoint=decodeMap[codePoint]}var output="";if(codePoint>65535){codePoint-=65536;output+=String.fromCharCode(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}output+=String.fromCharCode(codePoint);return output}},{"../maps/decode.json":140}],139:[function(require,module,exports){var inverseXML=getInverseObj(require("../maps/xml.json")),xmlReplacer=getInverseReplacer(inverseXML);exports.XML=getInverse(inverseXML,xmlReplacer);var inverseHTML=getInverseObj(require("../maps/entities.json")),htmlReplacer=getInverseReplacer(inverseHTML);exports.HTML=getInverse(inverseHTML,htmlReplacer);function getInverseObj(obj){return Object.keys(obj).sort().reduce(function(inverse,name){inverse[obj[name]]="&"+name+";";return inverse},{})}function getInverseReplacer(inverse){var single=[],multiple=[];Object.keys(inverse).forEach(function(k){if(k.length===1){single.push("\\"+k)}else{multiple.push(k)}});multiple.unshift("["+single.join("")+"]");return new RegExp(multiple.join("|"),"g")}var re_nonASCII=/[^\0-\x7F]/g,re_astralSymbols=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function singleCharReplacer(c){return"&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"}function astralReplacer(c){var high=c.charCodeAt(0);var low=c.charCodeAt(1);var codePoint=(high-55296)*1024+low-56320+65536;return"&#x"+codePoint.toString(16).toUpperCase()+";"}function getInverse(inverse,re){function func(name){return inverse[name]}return function(data){return data.replace(re,func).replace(re_astralSymbols,astralReplacer).replace(re_nonASCII,singleCharReplacer)}}var re_xmlChars=getInverseReplacer(inverseXML);function escapeXML(data){return data.replace(re_xmlChars,singleCharReplacer).replace(re_astralSymbols,astralReplacer).replace(re_nonASCII,singleCharReplacer)}exports.escape=escapeXML},{"../maps/entities.json":141,"../maps/xml.json":143}],140:[function(require,module,exports){module.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},{}],141:[function(require,module,exports){module.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",
NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},{}],142:[function(require,module,exports){module.exports={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"&",AMP:"&",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"}},{}],143:[function(require,module,exports){module.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},{}],144:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var PhotosMimeType=require("./PhotosMimeType");var createArrayFromMixed=require("./createArrayFromMixed");var emptyFunction=require("./emptyFunction");var CR_LF_REGEX=new RegExp("\r\n","g");var LF_ONLY="\n";var RICH_TEXT_TYPES={"text/rtf":1,"text/html":1};function getFileFromDataTransfer(item){if(item.kind=="file"){return item.getAsFile()}}var DataTransfer=function(){function DataTransfer(data){_classCallCheck(this,DataTransfer);this.data=data;this.types=data.types?createArrayFromMixed(data.types):[]}DataTransfer.prototype.isRichText=function isRichText(){if(this.getHTML()&&this.getText()){return true}if(this.isImage()){return false}return this.types.some(function(type){return RICH_TEXT_TYPES[type]})};DataTransfer.prototype.getText=function getText(){var text;if(this.data.getData){if(!this.types.length){text=this.data.getData("Text")}else if(this.types.indexOf("text/plain")!=-1){text=this.data.getData("text/plain")}}return text?text.replace(CR_LF_REGEX,LF_ONLY):null};DataTransfer.prototype.getHTML=function getHTML(){if(this.data.getData){if(!this.types.length){return this.data.getData("Text")}else if(this.types.indexOf("text/html")!=-1){return this.data.getData("text/html")}}};DataTransfer.prototype.isLink=function isLink(){return this.types.some(function(type){return type.indexOf("Url")!=-1||type.indexOf("text/uri-list")!=-1||type.indexOf("text/x-moz-url")})};DataTransfer.prototype.getLink=function getLink(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var url=this.data.getData("text/x-moz-url").split("\n");return url[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null};DataTransfer.prototype.isImage=function isImage(){var isImage=this.types.some(function(type){return type.indexOf("application/x-moz-file")!=-1});if(isImage){return true}var items=this.getFiles();for(var i=0;i<items.length;i++){var type=items[i].type;if(!PhotosMimeType.isImage(type)){return false}}return true};DataTransfer.prototype.getCount=function getCount(){if(this.data.hasOwnProperty("items")){return this.data.items.length}else if(this.data.hasOwnProperty("mozItemCount")){return this.data.mozItemCount}else if(this.data.files){return this.data.files.length}return null};DataTransfer.prototype.getFiles=function getFiles(){if(this.data.items){return Array.prototype.slice.call(this.data.items).map(getFileFromDataTransfer).filter(emptyFunction.thatReturnsArgument)}else if(this.data.files){return Array.prototype.slice.call(this.data.files)}else{return[]}};DataTransfer.prototype.hasFiles=function hasFiles(){return this.getFiles().length>0};return DataTransfer}();module.exports=DataTransfer},{"./PhotosMimeType":148,"./createArrayFromMixed":163,"./emptyFunction":166}],145:[function(require,module,exports){(function(process){"use strict";var emptyFunction=require("./emptyFunction");var EventListener={listen:function listen(target,eventType,callback){if(target.addEventListener){target.addEventListener(eventType,callback,false);return{remove:function remove(){target.removeEventListener(eventType,callback,false)}}}else if(target.attachEvent){target.attachEvent("on"+eventType,callback);return{remove:function remove(){target.detachEvent("on"+eventType,callback)}}}},capture:function capture(target,eventType,callback){if(target.addEventListener){target.addEventListener(eventType,callback,true);return{remove:function remove(){target.removeEventListener(eventType,callback,true)}}}else{if(process.env.NODE_ENV!=="production"){console.error("Attempted to listen to events during the capture phase on a "+"browser that does not support the capture phase. Your application "+"will not receive some events.")}return{remove:emptyFunction}}},registerDefault:function registerDefault(){}};module.exports=EventListener}).call(this,require("_process"))},{"./emptyFunction":166,_process:216}],146:[function(require,module,exports){"use strict";var canUseDOM=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);var ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:typeof Worker!=="undefined",canUseEventListeners:canUseDOM&&!!(window.addEventListener||window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM};module.exports=ExecutionEnvironment},{}],147:[function(require,module,exports){"use strict";module.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},{}],148:[function(require,module,exports){"use strict";var PhotosMimeType={isImage:function isImage(mimeString){return getParts(mimeString)[0]==="image"},isJpeg:function isJpeg(mimeString){var parts=getParts(mimeString);return PhotosMimeType.isImage(mimeString)&&(parts[1]==="jpeg"||parts[1]==="pjpeg")}};function getParts(mimeString){return mimeString.split("/")}module.exports=PhotosMimeType},{}],149:[function(require,module,exports){"use strict";function _isViewportScrollElement(element,doc){return!!doc&&(element===doc.documentElement||element===doc.body)}var Scroll={getTop:function getTop(element){var doc=element.ownerDocument;return _isViewportScrollElement(element,doc)?doc.body.scrollTop||doc.documentElement.scrollTop:element.scrollTop},setTop:function setTop(element,newTop){var doc=element.ownerDocument;if(_isViewportScrollElement(element,doc)){doc.body.scrollTop=doc.documentElement.scrollTop=newTop}else{element.scrollTop=newTop}},getLeft:function getLeft(element){var doc=element.ownerDocument;return _isViewportScrollElement(element,doc)?doc.body.scrollLeft||doc.documentElement.scrollLeft:element.scrollLeft},setLeft:function setLeft(element,newLeft){var doc=element.ownerDocument;if(_isViewportScrollElement(element,doc)){doc.body.scrollLeft=doc.documentElement.scrollLeft=newLeft}else{element.scrollLeft=newLeft}}};module.exports=Scroll},{}],150:[function(require,module,exports){"use strict";var getStyleProperty=require("./getStyleProperty");function _isNodeScrollable(element,name){var overflow=Style.get(element,name);return overflow==="auto"||overflow==="scroll"}var Style={get:getStyleProperty,getScrollParent:function getScrollParent(node){if(!node){return null}while(node&&node!==document.body){if(_isNodeScrollable(node,"overflow")||_isNodeScrollable(node,"overflowY")||_isNodeScrollable(node,"overflowX")){return node}node=node.parentNode}return window}};module.exports=Style},{"./getStyleProperty":175}],151:[function(require,module,exports){"use strict";var PUNCTUATION="[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;"+"・、。〈-】〔-〟：-？！-／"+"［-｀｛-･⸮؟٪-٬؛،؍"+"﴾﴿᠁।၊။‐-‧‰-⁞"+"¡-±´-¸º»¿]";module.exports={getPunctuation:function getPunctuation(){return PUNCTUATION}}},{}],152:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var URI=function(){function URI(uri){_classCallCheck(this,URI);this._uri=uri}URI.prototype.toString=function toString(){return this._uri};return URI}();module.exports=URI},{}],153:[function(require,module,exports){(function(process){"use strict";var UnicodeBidiDirection=require("./UnicodeBidiDirection");var invariant=require("./invariant");var RANGE_BY_BIDI_TYPE={L:"A-Za-zªµºÀ-ÖØ-öø-ƺƻ"+"Ƽ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸ"+"ʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷ"+"ͺͻ-ͽͿΆΈ-ΊΌΎ-Ρ"+"Σ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ"+"՚-՟ա-և։ःऄ-हऻऽ"+"ा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥"+"०-९॰ॱॲ-ঀং-ঃঅ-ঌ"+"এ-ঐও-নপ-রলশ-হঽ"+"া-ীে-ৈো-ৌৎৗড়-ঢ়"+"য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃ"+"ਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼"+"ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯"+"ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-ર"+"લ-ળવ-હઽા-ીૉો-ૌૐ"+"ૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐ"+"ଓ-ନପ-ରଲ-ଳଵ-ହଽାୀ"+"େ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯"+"୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-க"+"ங-சஜஞ-டண-தந-பம-ஹ"+"ா-ிு-ூெ-ைொ-ௌௐௗ"+"௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐ"+"ఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ"+"౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನ"+"ಪ-ಳವ-ಹಽಾಿೀ-ೄೆ"+"ೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯"+"ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽ"+"ാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ"+"൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖ"+"ක-නඳ-රලව-ෆා-ෑෘ-ෟ"+"෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅ"+"ๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈ"+"ຊຍດ-ທນ-ຟມ-ຣລວ"+"ສ-ຫອ-ະາ-ຳຽເ-ໄໆ"+"໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔"+"༕-༗༚-༟༠-༩༪-༳༴༶༸"+"༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ"+"྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘"+"࿙-࿚က-ဪါ-ာေးျ-ြဿ"+"၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡ"+"ၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁ"+"ႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ"+"႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼ"+"ჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈ"+"ኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅ"+"ወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨"+"፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮"+"ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰ"+"ᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶"+"ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅ"+"ះ-ៈ។-៖ៗ៘-៚ៜ០-៩"+"᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪ"+"ᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱ"+"ᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫ"+"ᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖ"+"ᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤ"+"ᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭"+"ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ"+"᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠ"+"ᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧ"+"ᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫ"+"ᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙"+"ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡"+"ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫ"+"ᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕ"+"Ἐ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝ"+"Ὗ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌ"+"ῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎"+"ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝ"+"ℤΩℨK-ℭℯ-ℴℵ-ℸℹ"+"ℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄ"+"ↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿"+"Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤ"+"Ⳬ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ"+"⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾ"+"ⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇"+"〡-〩〮-〯〱-〵〸-〺〻〼"+"ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿ"+"ㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟"+"ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇"+"㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋"+"㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵"+"一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ"+"꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫ"+"Ꙁ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ"+"꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎ"+"Ꞑ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁ"+"ꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵"+"꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ"+"꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉"+"ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼ"+"ꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍"+"ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ"+"꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴ"+"ꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯ"+"ꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱ"+"ꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟"+"ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵ"+"ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮ"+"ꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤ"+"ꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣"+"ힰ-ퟆퟋ-ퟻ-豈-舘並-龎"+"ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰ"+"ｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏ"+"ￒ-ￗￚ-ￜ",R:"֐־׀׃׆׈-׏א-ת׫-ׯ"+"װ-ײ׳-״׵-׿߀-߉ߊ-ߪ"+"ߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ"+"࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞"+"࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ"+"﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",AL:"؈؋؍؛؜؝؞-؟ؠ-ؿـ"+"ف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦ"+"ۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏"+"ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿"+"ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒"+"ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ"+"﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵"+"ﹶ-ﻼ﻽-﻾"};var REGEX_STRONG=new RegExp("["+RANGE_BY_BIDI_TYPE.L+RANGE_BY_BIDI_TYPE.R+RANGE_BY_BIDI_TYPE.AL+"]");var REGEX_RTL=new RegExp("["+RANGE_BY_BIDI_TYPE.R+RANGE_BY_BIDI_TYPE.AL+"]");function firstStrongChar(str){var match=REGEX_STRONG.exec(str);return match==null?null:match[0]}function firstStrongCharDir(str){var strongChar=firstStrongChar(str);if(strongChar==null){return UnicodeBidiDirection.NEUTRAL}return REGEX_RTL.exec(strongChar)?UnicodeBidiDirection.RTL:UnicodeBidiDirection.LTR}function resolveBlockDir(str,fallback){fallback=fallback||UnicodeBidiDirection.NEUTRAL;if(!str.length){return fallback}var blockDir=firstStrongCharDir(str);return blockDir===UnicodeBidiDirection.NEUTRAL?fallback:blockDir}function getDirection(str,strongFallback){if(!strongFallback){strongFallback=UnicodeBidiDirection.getGlobalDir()}!UnicodeBidiDirection.isStrong(strongFallback)?process.env.NODE_ENV!=="production"?invariant(false,"Fallback direction must be a strong direction"):invariant(false):void 0;return resolveBlockDir(str,strongFallback)}function isDirectionLTR(str,strongFallback){return getDirection(str,strongFallback)===UnicodeBidiDirection.LTR}function isDirectionRTL(str,strongFallback){return getDirection(str,strongFallback)===UnicodeBidiDirection.RTL}var UnicodeBidi={firstStrongChar:firstStrongChar,firstStrongCharDir:firstStrongCharDir,resolveBlockDir:resolveBlockDir,getDirection:getDirection,isDirectionLTR:isDirectionLTR,isDirectionRTL:isDirectionRTL};module.exports=UnicodeBidi}).call(this,require("_process"))},{"./UnicodeBidiDirection":154,"./invariant":180,_process:216}],154:[function(require,module,exports){(function(process){"use strict";var invariant=require("./invariant");var NEUTRAL="NEUTRAL";var LTR="LTR";var RTL="RTL";var globalDir=null;function isStrong(dir){return dir===LTR||dir===RTL}function getHTMLDir(dir){!isStrong(dir)?process.env.NODE_ENV!=="production"?invariant(false,"`dir` must be a strong direction to be converted to HTML Direction"):invariant(false):void 0;return dir===LTR?"ltr":"rtl"}function getHTMLDirIfDifferent(dir,otherDir){!isStrong(dir)?process.env.NODE_ENV!=="production"?invariant(false,"`dir` must be a strong direction to be converted to HTML Direction"):invariant(false):void 0;!isStrong(otherDir)?process.env.NODE_ENV!=="production"?invariant(false,"`otherDir` must be a strong direction to be converted to HTML Direction"):invariant(false):void 0;return dir===otherDir?null:getHTMLDir(dir)}function setGlobalDir(dir){globalDir=dir}function initGlobalDir(){setGlobalDir(LTR)}function getGlobalDir(){if(!globalDir){this.initGlobalDir()}!globalDir?process.env.NODE_ENV!=="production"?invariant(false,"Global direction not set."):invariant(false):void 0;return globalDir}var UnicodeBidiDirection={NEUTRAL:NEUTRAL,LTR:LTR,RTL:RTL,isStrong:isStrong,getHTMLDir:getHTMLDir,getHTMLDirIfDifferent:getHTMLDirIfDifferent,setGlobalDir:setGlobalDir,initGlobalDir:initGlobalDir,getGlobalDir:getGlobalDir};module.exports=UnicodeBidiDirection}).call(this,require("_process"))},{"./invariant":180,_process:216}],155:[function(require,module,exports){(function(process){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var UnicodeBidi=require("./UnicodeBidi");var UnicodeBidiDirection=require("./UnicodeBidiDirection");var invariant=require("./invariant");var UnicodeBidiService=function(){function UnicodeBidiService(defaultDir){_classCallCheck(this,UnicodeBidiService);if(!defaultDir){defaultDir=UnicodeBidiDirection.getGlobalDir()}else{!UnicodeBidiDirection.isStrong(defaultDir)?process.env.NODE_ENV!=="production"?invariant(false,"Default direction must be a strong direction (LTR or RTL)"):invariant(false):void 0}this._defaultDir=defaultDir;this.reset()}UnicodeBidiService.prototype.reset=function reset(){this._lastDir=this._defaultDir};UnicodeBidiService.prototype.getDirection=function getDirection(str){this._lastDir=UnicodeBidi.getDirection(str,this._lastDir);return this._lastDir};return UnicodeBidiService}();module.exports=UnicodeBidiService}).call(this,require("_process"))},{"./UnicodeBidi":153,"./UnicodeBidiDirection":154,"./invariant":180,_process:216}],156:[function(require,module,exports){(function(process){"use strict";var invariant=require("./invariant");var SURROGATE_HIGH_START=55296;var SURROGATE_HIGH_END=56319;var SURROGATE_LOW_START=56320;var SURROGATE_LOW_END=57343;var SURROGATE_UNITS_REGEX=/[\uD800-\uDFFF]/;function isCodeUnitInSurrogateRange(codeUnit){return SURROGATE_HIGH_START<=codeUnit&&codeUnit<=SURROGATE_LOW_END}function isSurrogatePair(str,index){!(0<=index&&index<str.length)?process.env.NODE_ENV!=="production"?invariant(false,"isSurrogatePair: Invalid index %s for string length %s.",index,str.length):invariant(false):void 0;if(index+1===str.length){return false}var first=str.charCodeAt(index);var second=str.charCodeAt(index+1);return SURROGATE_HIGH_START<=first&&first<=SURROGATE_HIGH_END&&SURROGATE_LOW_START<=second&&second<=SURROGATE_LOW_END}function hasSurrogateUnit(str){return SURROGATE_UNITS_REGEX.test(str)}function getUTF16Length(str,pos){return 1+isCodeUnitInSurrogateRange(str.charCodeAt(pos))}function strlen(str){if(!hasSurrogateUnit(str)){return str.length}var len=0;for(var pos=0;pos<str.length;pos+=getUTF16Length(str,pos)){len++}return len}function substr(str,start,length){start=start||0;length=length===undefined?Infinity:length||0;if(!hasSurrogateUnit(str)){return str.substr(start,length)}var size=str.length;if(size<=0||start>size||length<=0){return""}var posA=0;if(start>0){for(;start>0&&posA<size;start--){posA+=getUTF16Length(str,posA)}if(posA>=size){return""}}else if(start<0){for(posA=size;start<0&&0<posA;start++){posA-=getUTF16Length(str,posA-1)}if(posA<0){posA=0}}var posB=size;if(length<size){for(posB=posA;length>0&&posB<size;length--){posB+=getUTF16Length(str,posB)}}return str.substring(posA,posB)}function substring(str,start,end){start=start||0;end=end===undefined?Infinity:end||0;if(start<0){start=0}if(end<0){end=0}var length=Math.abs(end-start);start=start<end?start:end;return substr(str,start,length)}function getCodePoints(str){var codePoints=[];for(var pos=0;pos<str.length;pos+=getUTF16Length(str,pos)){codePoints.push(str.codePointAt(pos))}return codePoints}var UnicodeUtils={getCodePoints:getCodePoints,getUTF16Length:getUTF16Length,hasSurrogateUnit:hasSurrogateUnit,isCodeUnitInSurrogateRange:isCodeUnitInSurrogateRange,isSurrogatePair:isSurrogatePair,strlen:strlen,substring:substring,substr:substr};module.exports=UnicodeUtils}).call(this,require("_process"))},{"./invariant":180,_process:216}],157:[function(require,module,exports){"use strict";var UserAgentData=require("./UserAgentData");var VersionRange=require("./VersionRange");var mapObject=require("./mapObject");var memoizeStringOnly=require("./memoizeStringOnly");function compare(name,version,query,normalizer){if(name===query){return true}if(!query.startsWith(name)){return false}var range=query.slice(name.length);if(version){range=normalizer?normalizer(range):range;return VersionRange.contains(range,version)}return false}function normalizePlatformVersion(version){if(UserAgentData.platformName==="Windows"){return version.replace(/^\s*NT/,"")}return version}var UserAgent={isBrowser:function isBrowser(query){return compare(UserAgentData.browserName,UserAgentData.browserFullVersion,query)},isBrowserArchitecture:function isBrowserArchitecture(query){return compare(UserAgentData.browserArchitecture,null,query)},isDevice:function isDevice(query){return compare(UserAgentData.deviceName,null,query)},isEngine:function isEngine(query){return compare(UserAgentData.engineName,UserAgentData.engineVersion,query)},isPlatform:function isPlatform(query){return compare(UserAgentData.platformName,UserAgentData.platformFullVersion,query,normalizePlatformVersion)},isPlatformArchitecture:function isPlatformArchitecture(query){return compare(UserAgentData.platformArchitecture,null,query)}};module.exports=mapObject(UserAgent,memoizeStringOnly)},{"./UserAgentData":158,"./VersionRange":159,"./mapObject":186,"./memoizeStringOnly":187}],158:[function(require,module,exports){"use strict";var UAParser=require("ua-parser-js");var UNKNOWN="Unknown";var PLATFORM_MAP={"Mac OS":"Mac OS X"};function convertPlatformName(name){return PLATFORM_MAP[name]||name}function getBrowserVersion(version){if(!version){return{major:"",minor:""}}var parts=version.split(".");return{major:parts[0],minor:parts[1]}}var parser=new UAParser;var results=parser.getResult();var browserVersionData=getBrowserVersion(results.browser.version);var uaData={browserArchitecture:results.cpu.architecture||UNKNOWN,browserFullVersion:results.browser.version||UNKNOWN,browserMinorVersion:browserVersionData.minor||UNKNOWN,browserName:results.browser.name||UNKNOWN,browserVersion:results.browser.major||UNKNOWN,deviceName:results.device.model||UNKNOWN,engineName:results.engine.name||UNKNOWN,engineVersion:results.engine.version||UNKNOWN,platformArchitecture:results.cpu.architecture||UNKNOWN,platformName:convertPlatformName(results.os.name)||UNKNOWN,platformVersion:results.os.version||UNKNOWN,platformFullVersion:results.os.version||UNKNOWN};module.exports=uaData},{"ua-parser-js":470}],159:[function(require,module,exports){(function(process){"use strict";var invariant=require("./invariant");var componentRegex=/\./;var orRegex=/\|\|/;var rangeRegex=/\s+\-\s+/;var modifierRegex=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/;var numericRegex=/^(\d*)(.*)/;function checkOrExpression(range,version){var expressions=range.split(orRegex);if(expressions.length>1){return expressions.some(function(range){return VersionRange.contains(range,version)})}else{range=expressions[0].trim();return checkRangeExpression(range,version)}}function checkRangeExpression(range,version){var expressions=range.split(rangeRegex);!(expressions.length>0&&expressions.length<=2)?process.env.NODE_ENV!=="production"?invariant(false,'the "-" operator expects exactly 2 operands'):invariant(false):void 0;
if(expressions.length===1){return checkSimpleExpression(expressions[0],version)}else{var startVersion=expressions[0];var endVersion=expressions[1];!(isSimpleVersion(startVersion)&&isSimpleVersion(endVersion))?process.env.NODE_ENV!=="production"?invariant(false,'operands to the "-" operator must be simple (no modifiers)'):invariant(false):void 0;return checkSimpleExpression(">="+startVersion,version)&&checkSimpleExpression("<="+endVersion,version)}}function checkSimpleExpression(range,version){range=range.trim();if(range===""){return true}var versionComponents=version.split(componentRegex);var _getModifierAndCompon=getModifierAndComponents(range);var modifier=_getModifierAndCompon.modifier;var rangeComponents=_getModifierAndCompon.rangeComponents;switch(modifier){case"<":return checkLessThan(versionComponents,rangeComponents);case"<=":return checkLessThanOrEqual(versionComponents,rangeComponents);case">=":return checkGreaterThanOrEqual(versionComponents,rangeComponents);case">":return checkGreaterThan(versionComponents,rangeComponents);case"~":case"~>":return checkApproximateVersion(versionComponents,rangeComponents);default:return checkEqual(versionComponents,rangeComponents)}}function checkLessThan(a,b){return compareComponents(a,b)===-1}function checkLessThanOrEqual(a,b){var result=compareComponents(a,b);return result===-1||result===0}function checkEqual(a,b){return compareComponents(a,b)===0}function checkGreaterThanOrEqual(a,b){var result=compareComponents(a,b);return result===1||result===0}function checkGreaterThan(a,b){return compareComponents(a,b)===1}function checkApproximateVersion(a,b){var lowerBound=b.slice();var upperBound=b.slice();if(upperBound.length>1){upperBound.pop()}var lastIndex=upperBound.length-1;var numeric=parseInt(upperBound[lastIndex],10);if(isNumber(numeric)){upperBound[lastIndex]=numeric+1+""}return checkGreaterThanOrEqual(a,lowerBound)&&checkLessThan(a,upperBound)}function getModifierAndComponents(range){var rangeComponents=range.split(componentRegex);var matches=rangeComponents[0].match(modifierRegex);!matches?process.env.NODE_ENV!=="production"?invariant(false,"expected regex to match but it did not"):invariant(false):void 0;return{modifier:matches[1],rangeComponents:[matches[2]].concat(rangeComponents.slice(1))}}function isNumber(number){return!isNaN(number)&&isFinite(number)}function isSimpleVersion(range){return!getModifierAndComponents(range).modifier}function zeroPad(array,length){for(var i=array.length;i<length;i++){array[i]="0"}}function normalizeVersions(a,b){a=a.slice();b=b.slice();zeroPad(a,b.length);for(var i=0;i<b.length;i++){var matches=b[i].match(/^[x*]$/i);if(matches){b[i]=a[i]="0";if(matches[0]==="*"&&i===b.length-1){for(var j=i;j<a.length;j++){a[j]="0"}}}}zeroPad(b,a.length);return[a,b]}function compareNumeric(a,b){var aPrefix=a.match(numericRegex)[1];var bPrefix=b.match(numericRegex)[1];var aNumeric=parseInt(aPrefix,10);var bNumeric=parseInt(bPrefix,10);if(isNumber(aNumeric)&&isNumber(bNumeric)&&aNumeric!==bNumeric){return compare(aNumeric,bNumeric)}else{return compare(a,b)}}function compare(a,b){!(typeof a===typeof b)?process.env.NODE_ENV!=="production"?invariant(false,'"a" and "b" must be of the same type'):invariant(false):void 0;if(a>b){return 1}else if(a<b){return-1}else{return 0}}function compareComponents(a,b){var _normalizeVersions=normalizeVersions(a,b);var aNormalized=_normalizeVersions[0];var bNormalized=_normalizeVersions[1];for(var i=0;i<bNormalized.length;i++){var result=compareNumeric(aNormalized[i],bNormalized[i]);if(result){return result}}return 0}var VersionRange={contains:function contains(range,version){return checkOrExpression(range.trim(),version.trim())}};module.exports=VersionRange}).call(this,require("_process"))},{"./invariant":180,_process:216}],160:[function(require,module,exports){"use strict";var _hyphenPattern=/-(.)/g;function camelize(string){return string.replace(_hyphenPattern,function(_,character){return character.toUpperCase()})}module.exports=camelize},{}],161:[function(require,module,exports){"use strict";var camelize=require("./camelize");var msPattern=/^-ms-/;function camelizeStyleName(string){return camelize(string.replace(msPattern,"ms-"))}module.exports=camelizeStyleName},{"./camelize":160}],162:[function(require,module,exports){"use strict";var isTextNode=require("./isTextNode");function containsNode(outerNode,innerNode){if(!outerNode||!innerNode){return false}else if(outerNode===innerNode){return true}else if(isTextNode(outerNode)){return false}else if(isTextNode(innerNode)){return containsNode(outerNode,innerNode.parentNode)}else if("contains"in outerNode){return outerNode.contains(innerNode)}else if(outerNode.compareDocumentPosition){return!!(outerNode.compareDocumentPosition(innerNode)&16)}else{return false}}module.exports=containsNode},{"./isTextNode":182}],163:[function(require,module,exports){(function(process){"use strict";var invariant=require("./invariant");function toArray(obj){var length=obj.length;!(!Array.isArray(obj)&&(typeof obj==="object"||typeof obj==="function"))?process.env.NODE_ENV!=="production"?invariant(false,"toArray: Array-like object expected"):invariant(false):void 0;!(typeof length==="number")?process.env.NODE_ENV!=="production"?invariant(false,"toArray: Object needs a length property"):invariant(false):void 0;!(length===0||length-1 in obj)?process.env.NODE_ENV!=="production"?invariant(false,"toArray: Object should have keys for indices"):invariant(false):void 0;!(typeof obj.callee!=="function")?process.env.NODE_ENV!=="production"?invariant(false,"toArray: Object can't be `arguments`. Use rest params "+"(function(...args) {}) or Array.from() instead."):invariant(false):void 0;if(obj.hasOwnProperty){try{return Array.prototype.slice.call(obj)}catch(e){}}var ret=Array(length);for(var ii=0;ii<length;ii++){ret[ii]=obj[ii]}return ret}function hasArrayNature(obj){return!!obj&&(typeof obj=="object"||typeof obj=="function")&&"length"in obj&&!("setInterval"in obj)&&typeof obj.nodeType!="number"&&(Array.isArray(obj)||"callee"in obj||"item"in obj)}function createArrayFromMixed(obj){if(!hasArrayNature(obj)){return[obj]}else if(Array.isArray(obj)){return obj.slice()}else{return toArray(obj)}}module.exports=createArrayFromMixed}).call(this,require("_process"))},{"./invariant":180,_process:216}],164:[function(require,module,exports){(function(process){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment");var createArrayFromMixed=require("./createArrayFromMixed");var getMarkupWrap=require("./getMarkupWrap");var invariant=require("./invariant");var dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null;var nodeNamePattern=/^\s*<(\w+)/;function getNodeName(markup){var nodeNameMatch=markup.match(nodeNamePattern);return nodeNameMatch&&nodeNameMatch[1].toLowerCase()}function createNodesFromMarkup(markup,handleScript){var node=dummyNode;!!!dummyNode?process.env.NODE_ENV!=="production"?invariant(false,"createNodesFromMarkup dummy not initialized"):invariant(false):void 0;var nodeName=getNodeName(markup);var wrap=nodeName&&getMarkupWrap(nodeName);if(wrap){node.innerHTML=wrap[1]+markup+wrap[2];var wrapDepth=wrap[0];while(wrapDepth--){node=node.lastChild}}else{node.innerHTML=markup}var scripts=node.getElementsByTagName("script");if(scripts.length){!handleScript?process.env.NODE_ENV!=="production"?invariant(false,"createNodesFromMarkup(...): Unexpected <script> element rendered."):invariant(false):void 0;createArrayFromMixed(scripts).forEach(handleScript)}var nodes=Array.from(node.childNodes);while(node.lastChild){node.removeChild(node.lastChild)}return nodes}module.exports=createNodesFromMarkup}).call(this,require("_process"))},{"./ExecutionEnvironment":146,"./createArrayFromMixed":163,"./getMarkupWrap":173,"./invariant":180,_process:216}],165:[function(require,module,exports){"use strict";function cx(classNames){if(typeof classNames=="object"){return Object.keys(classNames).filter(function(className){return classNames[className]}).map(replace).join(" ")}return Array.prototype.map.call(arguments,replace).join(" ")}function replace(str){return str.replace(/\//g,"-")}module.exports=cx},{}],166:[function(require,module,exports){"use strict";function makeEmptyFunction(arg){return function(){return arg}}var emptyFunction=function emptyFunction(){};emptyFunction.thatReturns=makeEmptyFunction;emptyFunction.thatReturnsFalse=makeEmptyFunction(false);emptyFunction.thatReturnsTrue=makeEmptyFunction(true);emptyFunction.thatReturnsNull=makeEmptyFunction(null);emptyFunction.thatReturnsThis=function(){return this};emptyFunction.thatReturnsArgument=function(arg){return arg};module.exports=emptyFunction},{}],167:[function(require,module,exports){(function(process){"use strict";var emptyObject={};if(process.env.NODE_ENV!=="production"){Object.freeze(emptyObject)}module.exports=emptyObject}).call(this,require("_process"))},{_process:216}],168:[function(require,module,exports){"use strict";function focusNode(node){try{node.focus()}catch(e){}}module.exports=focusNode},{}],169:[function(require,module,exports){"use strict";function getActiveElement(){if(typeof document==="undefined"){return null}try{return document.activeElement||document.body}catch(e){return document.body}}module.exports=getActiveElement},{}],170:[function(require,module,exports){"use strict";var isWebkit=typeof navigator!=="undefined"&&navigator.userAgent.indexOf("AppleWebKit")>-1;function getDocumentScrollElement(doc){doc=doc||document;return!isWebkit&&doc.compatMode==="CSS1Compat"?doc.documentElement:doc.body}module.exports=getDocumentScrollElement},{}],171:[function(require,module,exports){"use strict";var getElementRect=require("./getElementRect");function getElementPosition(element){var rect=getElementRect(element);return{x:rect.left,y:rect.top,width:rect.right-rect.left,height:rect.bottom-rect.top}}module.exports=getElementPosition},{"./getElementRect":172}],172:[function(require,module,exports){"use strict";var containsNode=require("./containsNode");function getElementRect(elem){var docElem=document.documentElement;if(!("getBoundingClientRect"in elem)||!containsNode(docElem,elem)){return{left:0,right:0,top:0,bottom:0}}var rect=elem.getBoundingClientRect();return{left:Math.round(rect.left)-docElem.clientLeft,right:Math.round(rect.right)-docElem.clientLeft,top:Math.round(rect.top)-docElem.clientTop,bottom:Math.round(rect.bottom)-docElem.clientTop}}module.exports=getElementRect},{"./containsNode":162}],173:[function(require,module,exports){(function(process){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment");var invariant=require("./invariant");var dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null;var shouldWrap={};var selectWrap=[1,'<select multiple="true">',"</select>"];var tableWrap=[1,"<table>","</table>"];var trWrap=[3,"<table><tbody><tr>","</tr></tbody></table>"];var svgWrap=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"];var markupWrap={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:selectWrap,option:selectWrap,caption:tableWrap,colgroup:tableWrap,tbody:tableWrap,tfoot:tableWrap,thead:tableWrap,td:trWrap,th:trWrap};var svgElements=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];svgElements.forEach(function(nodeName){markupWrap[nodeName]=svgWrap;shouldWrap[nodeName]=true});function getMarkupWrap(nodeName){!!!dummyNode?process.env.NODE_ENV!=="production"?invariant(false,"Markup wrapping node not initialized"):invariant(false):void 0;if(!markupWrap.hasOwnProperty(nodeName)){nodeName="*"}if(!shouldWrap.hasOwnProperty(nodeName)){if(nodeName==="*"){dummyNode.innerHTML="<link />"}else{dummyNode.innerHTML="<"+nodeName+"></"+nodeName+">"}shouldWrap[nodeName]=!dummyNode.firstChild}return shouldWrap[nodeName]?markupWrap[nodeName]:null}module.exports=getMarkupWrap}).call(this,require("_process"))},{"./ExecutionEnvironment":146,"./invariant":180,_process:216}],174:[function(require,module,exports){"use strict";var getDocumentScrollElement=require("./getDocumentScrollElement");var getUnboundedScrollPosition=require("./getUnboundedScrollPosition");function getScrollPosition(scrollable){var documentScrollElement=getDocumentScrollElement();if(scrollable===window){scrollable=documentScrollElement}var scrollPosition=getUnboundedScrollPosition(scrollable);var viewport=scrollable===documentScrollElement?document.documentElement:scrollable;var xMax=scrollable.scrollWidth-viewport.clientWidth;var yMax=scrollable.scrollHeight-viewport.clientHeight;scrollPosition.x=Math.max(0,Math.min(scrollPosition.x,xMax));scrollPosition.y=Math.max(0,Math.min(scrollPosition.y,yMax));return scrollPosition}module.exports=getScrollPosition},{"./getDocumentScrollElement":170,"./getUnboundedScrollPosition":176}],175:[function(require,module,exports){"use strict";var camelize=require("./camelize");var hyphenate=require("./hyphenate");function asString(value){return value==null?value:String(value)}function getStyleProperty(node,name){var computedStyle=void 0;if(window.getComputedStyle){computedStyle=window.getComputedStyle(node,null);if(computedStyle){return asString(computedStyle.getPropertyValue(hyphenate(name)))}}if(document.defaultView&&document.defaultView.getComputedStyle){computedStyle=document.defaultView.getComputedStyle(node,null);if(computedStyle){return asString(computedStyle.getPropertyValue(hyphenate(name)))}if(name==="display"){return"none"}}if(node.currentStyle){if(name==="float"){return asString(node.currentStyle.cssFloat||node.currentStyle.styleFloat)}return asString(node.currentStyle[camelize(name)])}return asString(node.style&&node.style[camelize(name)])}module.exports=getStyleProperty},{"./camelize":160,"./hyphenate":178}],176:[function(require,module,exports){"use strict";function getUnboundedScrollPosition(scrollable){if(scrollable===window){return{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}}return{x:scrollable.scrollLeft,y:scrollable.scrollTop}}module.exports=getUnboundedScrollPosition},{}],177:[function(require,module,exports){"use strict";function getViewportWidth(){var width=void 0;if(document.documentElement){width=document.documentElement.clientWidth}if(!width&&document.body){width=document.body.clientWidth}return width||0}function getViewportHeight(){var height=void 0;if(document.documentElement){height=document.documentElement.clientHeight}if(!height&&document.body){height=document.body.clientHeight}return height||0}function getViewportDimensions(){return{width:window.innerWidth||getViewportWidth(),height:window.innerHeight||getViewportHeight()}}getViewportDimensions.withoutScrollbars=function(){return{width:getViewportWidth(),height:getViewportHeight()}};module.exports=getViewportDimensions},{}],178:[function(require,module,exports){"use strict";var _uppercasePattern=/([A-Z])/g;function hyphenate(string){return string.replace(_uppercasePattern,"-$1").toLowerCase()}module.exports=hyphenate},{}],179:[function(require,module,exports){"use strict";var hyphenate=require("./hyphenate");var msPattern=/^ms-/;function hyphenateStyleName(string){return hyphenate(string).replace(msPattern,"-ms-")}module.exports=hyphenateStyleName},{"./hyphenate":178}],180:[function(require,module,exports){(function(process){"use strict";function invariant(condition,format,a,b,c,d,e,f){if(process.env.NODE_ENV!=="production"){if(format===undefined){throw new Error("invariant requires an error message argument")}}if(!condition){var error;if(format===undefined){error=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error(format.replace(/%s/g,function(){return args[argIndex++]}));error.name="Invariant Violation"}error.framesToPop=1;throw error}}module.exports=invariant}).call(this,require("_process"))},{_process:216}],181:[function(require,module,exports){"use strict";function isNode(object){return!!(object&&(typeof Node==="function"?object instanceof Node:typeof object==="object"&&typeof object.nodeType==="number"&&typeof object.nodeName==="string"))}module.exports=isNode},{}],182:[function(require,module,exports){"use strict";var isNode=require("./isNode");function isTextNode(object){return isNode(object)&&object.nodeType==3}module.exports=isTextNode},{"./isNode":181}],183:[function(require,module,exports){"use strict";function joinClasses(className){if(!className){className=""}var nextClass=void 0;var argLength=arguments.length;if(argLength>1){for(var ii=1;ii<argLength;ii++){nextClass=arguments[ii];if(nextClass){className=(className?className+" ":"")+nextClass}}}return className}module.exports=joinClasses},{}],184:[function(require,module,exports){(function(process){"use strict";var invariant=require("./invariant");var keyMirror=function keyMirror(obj){var ret={};var key;!(obj instanceof Object&&!Array.isArray(obj))?process.env.NODE_ENV!=="production"?invariant(false,"keyMirror(...): Argument must be an object."):invariant(false):void 0;for(key in obj){if(!obj.hasOwnProperty(key)){continue}ret[key]=key}return ret};module.exports=keyMirror}).call(this,require("_process"))},{"./invariant":180,_process:216}],185:[function(require,module,exports){"use strict";var keyOf=function keyOf(oneKeyObj){var key;for(key in oneKeyObj){if(!oneKeyObj.hasOwnProperty(key)){continue}return key}return null};module.exports=keyOf},{}],186:[function(require,module,exports){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty;function mapObject(object,callback,context){if(!object){return null}var result={};for(var name in object){if(hasOwnProperty.call(object,name)){result[name]=callback.call(context,object[name],name,object)}}return result}module.exports=mapObject},{}],187:[function(require,module,exports){"use strict";function memoizeStringOnly(callback){var cache={};return function(string){if(!cache.hasOwnProperty(string)){cache[string]=callback.call(this,string)}return cache[string]}}module.exports=memoizeStringOnly},{}],188:[function(require,module,exports){"use strict";var nullthrows=function nullthrows(x){if(x!=null){return x}throw new Error("Got unexpected null or undefined")};module.exports=nullthrows},{}],189:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment");var performance;if(ExecutionEnvironment.canUseDOM){performance=window.performance||window.msPerformance||window.webkitPerformance}module.exports=performance||{}},{"./ExecutionEnvironment":146}],190:[function(require,module,exports){"use strict";var performance=require("./performance");var performanceNow;if(performance.now){performanceNow=function performanceNow(){return performance.now()}}else{performanceNow=function performanceNow(){return Date.now()}}module.exports=performanceNow},{"./performance":189}],191:[function(require,module,exports){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty;function is(x,y){if(x===y){return x!==0||y!==0||1/x===1/y}else{return x!==x&&y!==y}}function shallowEqual(objA,objB){if(is(objA,objB)){return true}if(typeof objA!=="object"||objA===null||typeof objB!=="object"||objB===null){return false}var keysA=Object.keys(objA);var keysB=Object.keys(objB);if(keysA.length!==keysB.length){return false}for(var i=0;i<keysA.length;i++){if(!hasOwnProperty.call(objB,keysA[i])||!is(objA[keysA[i]],objB[keysA[i]])){return false}}return true}module.exports=shallowEqual},{}],192:[function(require,module,exports){(function(process){"use strict";var emptyFunction=require("./emptyFunction");var warning=emptyFunction;if(process.env.NODE_ENV!=="production"){(function(){var printWarning=function printWarning(format){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}var argIndex=0;var message="Warning: "+format.replace(/%s/g,function(){return args[argIndex++]});if(typeof console!=="undefined"){console.error(message)}try{throw new Error(message)}catch(x){}};warning=function warning(condition,format){if(format===undefined){throw new Error("`warning(condition, format, ...args)` requires a warning "+"message argument")}if(format.indexOf("Failed Composite propType: ")===0){return}if(!condition){for(var _len2=arguments.length,args=Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++){args[_key2-2]=arguments[_key2]}printWarning.apply(undefined,[format].concat(args))}}})()}module.exports=warning}).call(this,require("_process"))},{"./emptyFunction":166,_process:216}],193:[function(require,module,exports){var Freezer=require("./src/freezer");module.exports=Freezer},{"./src/freezer":195}],194:[function(require,module,exports){"use strict";var Utils=require("./utils");var emitterProto={on:function(eventName,listener,once){var listeners=this._events[eventName]||[];listeners.push({callback:listener,once:once});this._events[eventName]=listeners;return this},once:function(eventName,listener){this.on(eventName,listener,true)},off:function(eventName,listener){if(typeof eventName=="undefined"){this._events={}}else if(typeof listener=="undefined"){this._events[eventName]=[]}else{var listeners=this._events[eventName]||[],i;for(i=listeners.length-1;i>=0;i--){if(listeners[i]===listener)listeners.splice(i,1)}}return this},trigger:function(eventName){var args=[].slice.call(arguments,1),listeners=this._events[eventName]||[],onceListeners=[],i,listener;for(i=0;i<listeners.length;i++){listener=listeners[i];if(listener.callback)listener.callback.apply(null,args);else{listener.once=true}if(listener.once)onceListeners.push(i)}for(i=onceListeners.length-1;i>=0;i--){listeners.splice(onceListeners[i],1)}return this}};var Emitter=Utils.createNonEnumerable(emitterProto);module.exports=Emitter},{"./utils":198}],195:[function(require,module,exports){"use strict";var Utils=require("./utils.js"),Emitter=require("./emitter"),Mixins=require("./mixins"),Frozen=require("./frozen");var Freezer=function(initialValue,mutable){var me=this;var frozen;var notify=function notify(eventName,node,options){if(eventName=="listener")return Frozen.createListener(node);return Frozen.update(eventName,node,options)};var freeze=function(){};if(!mutable)freeze=function(obj){Object.freeze(obj)};frozen=Frozen.freeze(initialValue,notify,freeze);var listener=frozen.getListener();var updating=false;listener.on("immediate",function(prevNode,updated){if(prevNode!=frozen)return;frozen=updated;if(!updating){updating=true;Utils.nextTick(function(){updating=false;me.trigger("update",frozen)})}});Utils.addNE(this,{get:function(){return frozen},set:function(node){var newNode=notify("reset",frozen,node);newNode.__.listener.trigger("immediate",frozen,newNode)}});Utils.addNE(this,{getData:this.get,setData:this.set});this._events=[]};Freezer.prototype=Utils.createNonEnumerable({constructor:Freezer},Emitter);module.exports=Freezer},{"./emitter":194,"./frozen":196,"./mixins":197,"./utils.js":198}],196:[function(require,module,exports){"use strict";var Utils=require("./utils"),Mixins=require("./mixins"),Emitter=require("./emitter");var Frozen={freeze:function(node,notify,freezeFn){if(node&&node.__){return node}var me=this,frozen,mixin,cons;if(node.constructor==Array){frozen=this.createArray(node.length)}else{frozen=Object.create(Mixins.Hash)}Utils.addNE(frozen,{__:{listener:false,parents:[],notify:notify,dirty:false,freezeFn:freezeFn}});Utils.each(node,function(child,key){cons=child&&child.constructor;if(cons==Array||cons==Object){child=me.freeze(child,notify,freezeFn)}if(child&&child.__){me.addParent(child,frozen)}frozen[key]=child});freezeFn(frozen);return frozen},update:function(type,node,options){if(!this[type])return Utils.error("Unknown update type: "+type);return this[type](node,options)},reset:function(node,value){var me=this,frozen;if(value&&value.__){frozen=value;frozen.__.listener=value.__.listener;frozen.__.parents=[];this.fixChildren(frozen,node);Utils.each(frozen,function(child){if(child&&child.__){me.removeParent(node);me.addParent(child,frozen)}})}else{frozen=this.freeze(node,node.__.notify,node.__.freezeFn)}return frozen},merge:function(node,attrs){var trans=node.__.trans,attrs=Utils.extend({},attrs);if(trans){for(var attr in attrs)trans[attr]=attrs[attr];return node}var me=this,frozen=this.copyMeta(node),notify=node.__.notify,val,cons,key,isFrozen;Utils.each(node,function(child,key){isFrozen=child&&child.__;if(isFrozen){me.removeParent(child,node)}val=attrs[key];if(!val){if(isFrozen)me.addParent(child,frozen);return frozen[key]=child}cons=val&&val.constructor;if(cons==Array||cons==Object)val=me.freeze(val,notify,node.__.freezeFn);if(val&&val.__)me.addParent(val,frozen);delete attrs[key];frozen[key]=val});for(key in attrs){val=attrs[key];cons=val&&val.constructor;if(cons==Array||cons==Object)val=me.freeze(val,notify,node.__.freezeFn);if(val&&val.__)me.addParent(val,frozen);frozen[key]=val}node.__.freezeFn(frozen);this.refreshParents(node,frozen);return frozen},replace:function(node,replacement){var me=this,cons=replacement&&replacement.constructor,__=node.__,frozen=replacement;if(cons==Array||cons==Object){frozen=me.freeze(replacement,__.notify,__.freezeFn);frozen.__.parents=__.parents;if(__.listener)frozen.__.listener=node.__.listener;if(frozen.__.listener)this.trigger(frozen,"update",frozen)}if(!__.parents.length&&__.listener){__.listener.trigger("immediate",node,frozen)}for(var i=__.parents.length-1;i>=0;i--){if(i==0){this.refresh(__.parents[i],node,frozen,false)}else{this.markDirty(__.parents[i],[node,frozen])}}return frozen},remove:function(node,attrs){var trans=node.__.trans;if(trans){for(var l=attrs.length-1;l>=0;l--)delete trans[attrs[l]];return node}var me=this,frozen=this.copyMeta(node),isFrozen;Utils.each(node,function(child,key){isFrozen=child&&child.__;if(isFrozen){me.removeParent(child,node)}if(attrs.indexOf(key)!=-1){return}if(isFrozen)me.addParent(child,frozen);frozen[key]=child});node.__.freezeFn(frozen);this.refreshParents(node,frozen);return frozen},splice:function(node,args){var trans=node.__.trans;if(trans){trans.splice.apply(trans,args);return node}var me=this,frozen=this.copyMeta(node),index=args[0],deleteIndex=index+args[1],__=node.__,con,child;Utils.each(node,function(child,i){if(child&&child.__){me.removeParent(child,node);if(i<index||i>=deleteIndex)me.addParent(child,frozen)}frozen[i]=child});if(args.length>1){for(var i=args.length-1;i>=2;i--){child=args[i];con=child&&child.constructor;if(con==Array||con==Object)child=this.freeze(child,__.notify,__.freezeFn);if(child&&child.__)this.addParent(child,frozen);args[i]=child}}Array.prototype.splice.apply(frozen,args);node.__.freezeFn(frozen);this.refreshParents(node,frozen);return frozen},transact:function(node){var me=this,transacting=node.__.trans,trans;if(transacting)return transacting;trans=node.constructor==Array?[]:{};Utils.each(node,function(child,key){trans[key]=child});node.__.trans=trans;Utils.nextTick(function(){if(node.__.trans)me.run(node)});return trans},run:function(node){var me=this,trans=node.__.trans;if(!trans)return node;Utils.each(trans,function(child,key){if(child&&child.__){me.removeParent(child,node)}});delete node.__.trans;var result=this.replace(node,trans);return result},refresh:function(node,oldChild,newChild,returnUpdated){var me=this,trans=node.__.trans,found=0;if(trans){Utils.each(trans,function(child,key){if(found)return;if(child===oldChild){trans[key]=newChild;found=1;if(newChild&&newChild.__)me.addParent(newChild,node)}});return node}var frozen=this.copyMeta(node),dirty=node.__.dirty,dirt,replacement,__;if(dirty){dirt=dirty[0],replacement=dirty[1]}Utils.each(node,function(child,key){if(child===oldChild){child=newChild}else if(child===dirt){child=replacement}if(child&&(__=child.__)){if(!__.trans&&__.dirty){child=me.refresh(child,__.dirty[0],__.dirty[1],true)}me.removeParent(child,node);me.addParent(child,frozen)}frozen[key]=child});node.__.freezeFn(frozen);node.__.dirty=false;if(returnUpdated)return frozen;this.refreshParents(node,frozen)},fixChildren:function(node,oldNode){var me=this;Utils.each(node,function(child){if(!child||!child.__)return;if(child.__.parents.indexOf(node)!=-1)return me.fixChildren(child);if(child.__.parents.length==1)return child.__.parents=[node];if(oldNode)me.removeParent(child,oldNode);me.addParent(node)})},copyMeta:function(node){var me=this,frozen;if(node.constructor==Array){frozen=this.createArray(node.length)}else{frozen=Object.create(Mixins.Hash)}var __=node.__;Utils.addNE(frozen,{__:{notify:__.notify,listener:__.listener,parents:__.parents.slice(0),trans:__.trans,dirty:false,freezeFn:__.freezeFn}});return frozen},refreshParents:function(oldChild,newChild){var __=oldChild.__,i;if(__.listener)this.trigger(newChild,"update",newChild);if(!__.parents.length){if(__.listener){__.listener.trigger("immediate",oldChild,newChild)}}else{for(i=__.parents.length-1;i>=0;i--){if(i==0)this.refresh(__.parents[i],oldChild,newChild,false);else{this.markDirty(__.parents[i],[oldChild,newChild])}}}},markDirty:function(node,dirt){var __=node.__,i;__.dirty=dirt;if(__.trans)this.refresh(node,dirt[0],dirt[1]);for(i=__.parents.length-1;i>=0;i--){this.markDirty(__.parents[i],dirt)}},removeParent:function(node,parent){var parents=node.__.parents,index=parents.indexOf(parent);if(index!=-1){parents.splice(index,1)}},addParent:function(node,parent){var parents=node.__.parents,index=parents.indexOf(parent);if(index==-1){parents[parents.length]=parent}},trigger:function(node,eventName,param){var listener=node.__.listener,ticking=listener.ticking;listener.ticking=param;if(!ticking){Utils.nextTick(function(){var updated=listener.ticking;listener.ticking=false;listener.trigger(eventName,updated)})}},createListener:function(frozen){var l=frozen.__.listener;if(!l){l=Object.create(Emitter,{_events:{value:{},writable:true}});frozen.__.listener=l}return l},createArray:function(){if([].__proto__)return function(length){var arr=new Array(length);arr.__proto__=Mixins.List;return arr};return function(length){var arr=new Array(length),methods=Mixins.arrayMethods;for(var m in methods){arr[m]=methods[m]}return arr}}()};module.exports=Frozen},{"./emitter":194,"./mixins":197,"./utils":198}],197:[function(require,module,exports){"use strict";var Utils=require("./utils.js");var createNE=function(attrs){var ne={};for(var key in attrs){ne[key]={writable:true,configurable:true,enumerable:false,value:attrs[key]}}return ne};var commonMethods={set:function(attr,value){var attrs=attr,update=this.__.trans;if(typeof value!="undefined"){attrs={};attrs[attr]=value}if(!update){for(var key in attrs){update=update||this[key]!=attrs[key]}if(!update)return this}return this.__.notify("merge",this,attrs)},reset:function(attrs){return this.__.notify("replace",this,attrs)},getListener:function(){return this.__.notify("listener",this)},toJS:function(){var js;if(this.constructor==Array){js=new Array(this.length)}else{js={}}Utils.each(this,function(child,i){if(child&&child.__)js[i]=child.toJS();else js[i]=child});return js},transact:function(){return this.__.notify("transact",this)},run:function(){return this.__.notify("run",this)}};var arrayMethods=Utils.extend({push:function(el){return this.append([el])},append:function(els){if(els&&els.length)return this.__.notify("splice",this,[this.length,0].concat(els));return this},pop:function(){if(!this.length)return this;return this.__.notify("splice",this,[this.length-1,1])},unshift:function(el){return this.prepend([el])},prepend:function(els){if(els&&els.length)return this.__.notify("splice",this,[0,0].concat(els));return this},shift:function(){if(!this.length)return this;return this.__.notify("splice",this,[0,1])},splice:function(index,toRemove,toAdd){
return this.__.notify("splice",this,arguments)}},commonMethods);var FrozenArray=Object.create(Array.prototype,createNE(arrayMethods));var Mixins={Hash:Object.create(Object.prototype,createNE(Utils.extend({remove:function(keys){var filtered=[],k=keys;if(keys.constructor!=Array)k=[keys];for(var i=0,l=k.length;i<l;i++){if(this.hasOwnProperty(k[i]))filtered.push(k[i])}if(filtered.length)return this.__.notify("remove",this,filtered);return this}},commonMethods))),List:FrozenArray,arrayMethods:arrayMethods};module.exports=Mixins},{"./utils.js":198}],198:[function(require,module,exports){"use strict";var global=new Function("return this")();var Utils={extend:function(ob,props){for(var p in props){ob[p]=props[p]}return ob},createNonEnumerable:function(obj,proto){var ne={};for(var key in obj)ne[key]={value:obj[key]};return Object.create(proto||{},ne)},error:function(message){var err=new Error(message);if(console)return console.error(err);else throw err},each:function(o,clbk){var i,l,keys;if(o&&o.constructor==Array){for(i=0,l=o.length;i<l;i++)clbk(o[i],i)}else{keys=Object.keys(o);for(i=0,l=keys.length;i<l;i++)clbk(o[keys[i]],keys[i])}},addNE:function(node,attrs){for(var key in attrs){Object.defineProperty(node,key,{enumerable:false,configurable:true,writable:true,value:attrs[key]})}},nextTick:function(){var queue=[],dirty=false,fn,hasPostMessage=!!global.postMessage,messageName="nexttick",trigger=function(){return hasPostMessage?function trigger(){global.postMessage(messageName,"*")}:function trigger(){setTimeout(function(){processQueue()},0)}}(),processQueue=function(){return hasPostMessage?function processQueue(event){if(event.source===global&&event.data===messageName){event.stopPropagation();flushQueue()}}:flushQueue}();function flushQueue(){while(fn=queue.shift()){fn()}dirty=false}function nextTick(fn){queue.push(fn);if(dirty)return;dirty=true;trigger()}if(hasPostMessage)global.addEventListener("message",processQueue,true);nextTick.removeListener=function(){global.removeEventListener("message",processQueue,true)};return nextTick}()};module.exports=Utils},{}],199:[function(require,module,exports){"use strict";exports.__esModule=true;var addEventListener=exports.addEventListener=function addEventListener(node,event,listener){return node.addEventListener?node.addEventListener(event,listener,false):node.attachEvent("on"+event,listener)};var removeEventListener=exports.removeEventListener=function removeEventListener(node,event,listener){return node.removeEventListener?node.removeEventListener(event,listener,false):node.detachEvent("on"+event,listener)};var getConfirmation=exports.getConfirmation=function getConfirmation(message,callback){return callback(window.confirm(message))};var supportsHistory=exports.supportsHistory=function supportsHistory(){var ua=window.navigator.userAgent;if((ua.indexOf("Android 2.")!==-1||ua.indexOf("Android 4.0")!==-1)&&ua.indexOf("Mobile Safari")!==-1&&ua.indexOf("Chrome")===-1&&ua.indexOf("Windows Phone")===-1)return false;return window.history&&"pushState"in window.history};var supportsPopStateOnHashChange=exports.supportsPopStateOnHashChange=function supportsPopStateOnHashChange(){return window.navigator.userAgent.indexOf("Trident")===-1};var supportsGoWithoutReloadUsingHash=exports.supportsGoWithoutReloadUsingHash=function supportsGoWithoutReloadUsingHash(){return window.navigator.userAgent.indexOf("Firefox")===-1}},{}],200:[function(require,module,exports){"use strict";exports.__esModule=true;var canUseDOM=exports.canUseDOM=!!(typeof window!=="undefined"&&window.document&&window.document.createElement)},{}],201:[function(require,module,exports){"use strict";exports.__esModule=true;exports.locationsAreEqual=exports.createLocation=undefined;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj};var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _resolvePathname=require("resolve-pathname");var _resolvePathname2=_interopRequireDefault(_resolvePathname);var _PathUtils=require("./PathUtils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var createLocation=exports.createLocation=function createLocation(path,state,key,currentLocation){var location=void 0;if(typeof path==="string"){location=(0,_PathUtils.parsePath)(path);location.state=state}else{location=_extends({},path);if(location.pathname===undefined)location.pathname="";if(location.search){if(location.search.charAt(0)!=="?")location.search="?"+location.search}else{location.search=""}if(location.hash){if(location.hash.charAt(0)!=="#")location.hash="#"+location.hash}else{location.hash=""}if(state!==undefined&&location.state===undefined)location.state=state}location.key=key;if(currentLocation){if(!location.pathname){location.pathname=currentLocation.pathname}else if(location.pathname.charAt(0)!=="/"){location.pathname=(0,_resolvePathname2.default)(location.pathname,currentLocation.pathname)}}return location};var looseEqual=function looseEqual(a,b){if(a==null)return a==b;var typeofA=typeof a==="undefined"?"undefined":_typeof(a);var typeofB=typeof b==="undefined"?"undefined":_typeof(b);if(typeofA!==typeofB)return false;if(Array.isArray(a)){if(!Array.isArray(b)||a.length!==b.length)return false;return a.every(function(item,index){return looseEqual(item,b[index])})}else if(typeofA==="object"){var aKeys=Object.keys(a);var bKeys=Object.keys(b);if(aKeys.length!==bKeys.length)return false;return aKeys.every(function(key){return looseEqual(a[key],b[key])})}return a===b};var locationsAreEqual=exports.locationsAreEqual=function locationsAreEqual(a,b){return a.pathname===b.pathname&&a.search===b.search&&a.hash===b.hash&&a.key===b.key&&looseEqual(a.state,b.state)}},{"./PathUtils":202,"resolve-pathname":406}],202:[function(require,module,exports){"use strict";exports.__esModule=true;var addLeadingSlash=exports.addLeadingSlash=function addLeadingSlash(path){return path.charAt(0)==="/"?path:"/"+path};var stripLeadingSlash=exports.stripLeadingSlash=function stripLeadingSlash(path){return path.charAt(0)==="/"?path.substr(1):path};var stripPrefix=exports.stripPrefix=function stripPrefix(path,prefix){return path.indexOf(prefix)===0?path.substr(prefix.length):path};var parsePath=exports.parsePath=function parsePath(path){var pathname=path||"/";var search="";var hash="";var hashIndex=pathname.indexOf("#");if(hashIndex!==-1){hash=pathname.substr(hashIndex);pathname=pathname.substr(0,hashIndex)}var searchIndex=pathname.indexOf("?");if(searchIndex!==-1){search=pathname.substr(searchIndex);pathname=pathname.substr(0,searchIndex)}return{pathname:pathname,search:search==="?"?"":search,hash:hash==="#"?"":hash}};var createPath=exports.createPath=function createPath(location){var pathname=location.pathname;var search=location.search;var hash=location.hash;var path=pathname||"/";if(search&&search!=="?")path+=search.charAt(0)==="?"?search:"?"+search;if(hash&&hash!=="#")path+=hash.charAt(0)==="#"?hash:"#"+hash;return path}},{}],203:[function(require,module,exports){(function(process){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);var _LocationUtils=require("./LocationUtils");var _PathUtils=require("./PathUtils");var _createTransitionManager=require("./createTransitionManager");var _createTransitionManager2=_interopRequireDefault(_createTransitionManager);var _ExecutionEnvironment=require("./ExecutionEnvironment");var _DOMUtils=require("./DOMUtils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HashChangeEvent="hashchange";var HashPathCoders={hashbang:{encodePath:function encodePath(path){return path.charAt(0)==="!"?path:"!/"+(0,_PathUtils.stripLeadingSlash)(path)},decodePath:function decodePath(path){return path.charAt(0)==="!"?path.substr(1):path}},noslash:{encodePath:_PathUtils.stripLeadingSlash,decodePath:_PathUtils.addLeadingSlash},slash:{encodePath:_PathUtils.addLeadingSlash,decodePath:_PathUtils.addLeadingSlash}};var getHashPath=function getHashPath(){var href=window.location.href;var hashIndex=href.indexOf("#");return hashIndex===-1?"":href.substring(hashIndex+1)};var pushHashPath=function pushHashPath(path){return window.location.hash=path};var replaceHashPath=function replaceHashPath(path){var hashIndex=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,hashIndex>=0?hashIndex:0)+"#"+path)};var createHashHistory=function createHashHistory(){var props=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];!_ExecutionEnvironment.canUseDOM?process.env.NODE_ENV!=="production"?(0,_invariant2.default)(false,"Hash history needs a DOM"):(0,_invariant2.default)(false):void 0;var globalHistory=window.history;var canGoWithoutReload=(0,_DOMUtils.supportsGoWithoutReloadUsingHash)();var _props$basename=props.basename;var basename=_props$basename===undefined?"":_props$basename;var _props$getUserConfirm=props.getUserConfirmation;var getUserConfirmation=_props$getUserConfirm===undefined?_DOMUtils.getConfirmation:_props$getUserConfirm;var _props$hashType=props.hashType;var hashType=_props$hashType===undefined?"slash":_props$hashType;var _HashPathCoders$hashT=HashPathCoders[hashType];var encodePath=_HashPathCoders$hashT.encodePath;var decodePath=_HashPathCoders$hashT.decodePath;var getDOMLocation=function getDOMLocation(){var path=decodePath(getHashPath());if(basename)path=(0,_PathUtils.stripPrefix)(path,basename);return(0,_PathUtils.parsePath)(path)};var transitionManager=(0,_createTransitionManager2.default)();var setState=function setState(nextState){_extends(history,nextState);history.length=globalHistory.length;transitionManager.notifyListeners(history.location,history.action)};var forceNextPop=false;var ignorePath=null;var handleHashChange=function handleHashChange(){var path=getHashPath();var encodedPath=encodePath(path);if(path!==encodedPath){replaceHashPath(encodedPath)}else{var location=getDOMLocation();var prevLocation=history.location;if(!forceNextPop&&(0,_LocationUtils.locationsAreEqual)(prevLocation,location))return;if(ignorePath===(0,_PathUtils.createPath)(location))return;ignorePath=null;handlePop(location)}};var handlePop=function handlePop(location){if(forceNextPop){forceNextPop=false;setState()}else{(function(){var action="POP";transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(ok){setState({action:action,location:location})}else{revertPop(location)}})})()}};var revertPop=function revertPop(fromLocation){var toLocation=history.location;var toIndex=allPaths.lastIndexOf((0,_PathUtils.createPath)(toLocation));if(toIndex===-1)toIndex=0;var fromIndex=allPaths.lastIndexOf((0,_PathUtils.createPath)(fromLocation));if(fromIndex===-1)fromIndex=0;var delta=toIndex-fromIndex;if(delta){forceNextPop=true;go(delta)}};var path=getHashPath();var encodedPath=encodePath(path);if(path!==encodedPath)replaceHashPath(encodedPath);var initialLocation=getDOMLocation();var allPaths=[(0,_PathUtils.createPath)(initialLocation)];var push=function push(path,state){process.env.NODE_ENV!=="production"?(0,_warning2.default)(state===undefined,"Hash history cannot push state; it is ignored"):void 0;var action="PUSH";var location=(0,_LocationUtils.createLocation)(path,undefined,undefined,history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok)return;var path=(0,_PathUtils.createPath)(location);var encodedPath=encodePath(basename+path);var hashChanged=getHashPath()!==encodedPath;if(hashChanged){ignorePath=path;pushHashPath(encodedPath);var prevIndex=allPaths.lastIndexOf((0,_PathUtils.createPath)(history.location));var nextPaths=allPaths.slice(0,prevIndex===-1?0:prevIndex+1);nextPaths.push(path);allPaths=nextPaths;setState({action:action,location:location})}else{process.env.NODE_ENV!=="production"?(0,_warning2.default)(false,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"):void 0;setState()}})};var replace=function replace(path,state){process.env.NODE_ENV!=="production"?(0,_warning2.default)(state===undefined,"Hash history cannot replace state; it is ignored"):void 0;var action="REPLACE";var location=(0,_LocationUtils.createLocation)(path,undefined,undefined,history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok)return;var path=(0,_PathUtils.createPath)(location);var encodedPath=encodePath(basename+path);var hashChanged=getHashPath()!==encodedPath;if(hashChanged){ignorePath=path;replaceHashPath(encodedPath)}var prevIndex=allPaths.indexOf((0,_PathUtils.createPath)(history.location));if(prevIndex!==-1)allPaths[prevIndex]=path;setState({action:action,location:location})})};var go=function go(n){process.env.NODE_ENV!=="production"?(0,_warning2.default)(canGoWithoutReload,"Hash history go(n) causes a full page reload in this browser"):void 0;globalHistory.go(n)};var goBack=function goBack(){return go(-1)};var goForward=function goForward(){return go(1)};var listenerCount=0;var checkDOMListeners=function checkDOMListeners(delta){listenerCount+=delta;if(listenerCount===1){(0,_DOMUtils.addEventListener)(window,HashChangeEvent,handleHashChange)}else if(listenerCount===0){(0,_DOMUtils.removeEventListener)(window,HashChangeEvent,handleHashChange)}};var isBlocked=false;var block=function block(){var prompt=arguments.length<=0||arguments[0]===undefined?false:arguments[0];var unblock=transitionManager.setPrompt(prompt);if(!isBlocked){checkDOMListeners(1);isBlocked=true}return function(){if(isBlocked){isBlocked=false;checkDOMListeners(-1)}return unblock()}};var listen=function listen(listener){var unlisten=transitionManager.appendListener(listener);checkDOMListeners(1);return function(){checkDOMListeners(-1);return unlisten()}};var history={length:globalHistory.length,action:"POP",location:initialLocation,push:push,replace:replace,go:go,goBack:goBack,goForward:goForward,block:block,listen:listen};return history};exports.default=createHashHistory}).call(this,require("_process"))},{"./DOMUtils":199,"./ExecutionEnvironment":200,"./LocationUtils":201,"./PathUtils":202,"./createTransitionManager":204,_process:216,invariant:207,warning:471}],204:[function(require,module,exports){(function(process){"use strict";exports.__esModule=true;var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var createTransitionManager=function createTransitionManager(){var prompt=null;var setPrompt=function setPrompt(nextPrompt){process.env.NODE_ENV!=="production"?(0,_warning2.default)(prompt==null,"A history supports only one prompt at a time"):void 0;prompt=nextPrompt;return function(){if(prompt===nextPrompt)prompt=null}};var confirmTransitionTo=function confirmTransitionTo(location,action,getUserConfirmation,callback){if(prompt!=null){var result=typeof prompt==="function"?prompt(location,action):prompt;if(typeof result==="string"){if(typeof getUserConfirmation==="function"){getUserConfirmation(result,callback)}else{process.env.NODE_ENV!=="production"?(0,_warning2.default)(false,"A history needs a getUserConfirmation function in order to use a prompt message"):void 0;callback(true)}}else{callback(result!==false)}}else{callback(true)}};var listeners=[];var appendListener=function appendListener(listener){listeners.push(listener);return function(){listeners=listeners.filter(function(item){return item!==listener})}};var notifyListeners=function notifyListeners(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return listeners.forEach(function(listener){return listener.apply(undefined,args)})};return{setPrompt:setPrompt,confirmTransitionTo:confirmTransitionTo,appendListener:appendListener,notifyListeners:notifyListeners}};exports.default=createTransitionManager}).call(this,require("_process"))},{_process:216,warning:471}],205:[function(require,module,exports){"use strict";var REACT_STATICS={childContextTypes:true,contextTypes:true,defaultProps:true,displayName:true,getDefaultProps:true,mixins:true,propTypes:true,type:true};var KNOWN_STATICS={name:true,length:true,prototype:true,caller:true,arguments:true,arity:true};var isGetOwnPropertySymbolsAvailable=typeof Object.getOwnPropertySymbols==="function";module.exports=function hoistNonReactStatics(targetComponent,sourceComponent,customStatics){if(typeof sourceComponent!=="string"){var keys=Object.getOwnPropertyNames(sourceComponent);if(isGetOwnPropertySymbolsAvailable){keys=keys.concat(Object.getOwnPropertySymbols(sourceComponent))}for(var i=0;i<keys.length;++i){if(!REACT_STATICS[keys[i]]&&!KNOWN_STATICS[keys[i]]&&(!customStatics||!customStatics[keys[i]])){try{targetComponent[keys[i]]=sourceComponent[keys[i]]}catch(error){}}}}return targetComponent}},{}],206:[function(require,module,exports){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.Immutable=factory()})(this,function(){"use strict";var SLICE$0=Array.prototype.slice;function createClass(ctor,superClass){if(superClass){ctor.prototype=Object.create(superClass.prototype)}ctor.prototype.constructor=ctor}function Iterable(value){return isIterable(value)?value:Seq(value)}createClass(KeyedIterable,Iterable);function KeyedIterable(value){return isKeyed(value)?value:KeyedSeq(value)}createClass(IndexedIterable,Iterable);function IndexedIterable(value){return isIndexed(value)?value:IndexedSeq(value)}createClass(SetIterable,Iterable);function SetIterable(value){return isIterable(value)&&!isAssociative(value)?value:SetSeq(value)}function isIterable(maybeIterable){return!!(maybeIterable&&maybeIterable[IS_ITERABLE_SENTINEL])}function isKeyed(maybeKeyed){return!!(maybeKeyed&&maybeKeyed[IS_KEYED_SENTINEL])}function isIndexed(maybeIndexed){return!!(maybeIndexed&&maybeIndexed[IS_INDEXED_SENTINEL])}function isAssociative(maybeAssociative){return isKeyed(maybeAssociative)||isIndexed(maybeAssociative)}function isOrdered(maybeOrdered){return!!(maybeOrdered&&maybeOrdered[IS_ORDERED_SENTINEL])}Iterable.isIterable=isIterable;Iterable.isKeyed=isKeyed;Iterable.isIndexed=isIndexed;Iterable.isAssociative=isAssociative;Iterable.isOrdered=isOrdered;Iterable.Keyed=KeyedIterable;Iterable.Indexed=IndexedIterable;Iterable.Set=SetIterable;var IS_ITERABLE_SENTINEL="@@__IMMUTABLE_ITERABLE__@@";var IS_KEYED_SENTINEL="@@__IMMUTABLE_KEYED__@@";var IS_INDEXED_SENTINEL="@@__IMMUTABLE_INDEXED__@@";var IS_ORDERED_SENTINEL="@@__IMMUTABLE_ORDERED__@@";var DELETE="delete";var SHIFT=5;var SIZE=1<<SHIFT;var MASK=SIZE-1;var NOT_SET={};var CHANGE_LENGTH={value:false};var DID_ALTER={value:false};function MakeRef(ref){ref.value=false;return ref}function SetRef(ref){ref&&(ref.value=true)}function OwnerID(){}function arrCopy(arr,offset){offset=offset||0;var len=Math.max(0,arr.length-offset);var newArr=new Array(len);for(var ii=0;ii<len;ii++){newArr[ii]=arr[ii+offset]}return newArr}function ensureSize(iter){if(iter.size===undefined){iter.size=iter.__iterate(returnTrue)}return iter.size}function wrapIndex(iter,index){if(typeof index!=="number"){var uint32Index=index>>>0;if(""+uint32Index!==index||uint32Index===4294967295){return NaN}index=uint32Index}return index<0?ensureSize(iter)+index:index}function returnTrue(){return true}function wholeSlice(begin,end,size){return(begin===0||size!==undefined&&begin<=-size)&&(end===undefined||size!==undefined&&end>=size)}function resolveBegin(begin,size){return resolveIndex(begin,size,0)}function resolveEnd(end,size){return resolveIndex(end,size,size)}function resolveIndex(index,size,defaultIndex){return index===undefined?defaultIndex:index<0?Math.max(0,size+index):size===undefined?index:Math.min(size,index)}var ITERATE_KEYS=0;var ITERATE_VALUES=1;var ITERATE_ENTRIES=2;var REAL_ITERATOR_SYMBOL=typeof Symbol==="function"&&Symbol.iterator;var FAUX_ITERATOR_SYMBOL="@@iterator";var ITERATOR_SYMBOL=REAL_ITERATOR_SYMBOL||FAUX_ITERATOR_SYMBOL;function Iterator(next){this.next=next}Iterator.prototype.toString=function(){return"[Iterator]"};Iterator.KEYS=ITERATE_KEYS;Iterator.VALUES=ITERATE_VALUES;Iterator.ENTRIES=ITERATE_ENTRIES;Iterator.prototype.inspect=Iterator.prototype.toSource=function(){return this.toString()};Iterator.prototype[ITERATOR_SYMBOL]=function(){return this};function iteratorValue(type,k,v,iteratorResult){var value=type===0?k:type===1?v:[k,v];iteratorResult?iteratorResult.value=value:iteratorResult={value:value,done:false};return iteratorResult}function iteratorDone(){return{value:undefined,done:true}}function hasIterator(maybeIterable){return!!getIteratorFn(maybeIterable)}function isIterator(maybeIterator){return maybeIterator&&typeof maybeIterator.next==="function"}function getIterator(iterable){var iteratorFn=getIteratorFn(iterable);return iteratorFn&&iteratorFn.call(iterable)}function getIteratorFn(iterable){var iteratorFn=iterable&&(REAL_ITERATOR_SYMBOL&&iterable[REAL_ITERATOR_SYMBOL]||iterable[FAUX_ITERATOR_SYMBOL]);if(typeof iteratorFn==="function"){return iteratorFn}}function isArrayLike(value){return value&&typeof value.length==="number"}createClass(Seq,Iterable);function Seq(value){return value===null||value===undefined?emptySequence():isIterable(value)?value.toSeq():seqFromValue(value)}Seq.of=function(){return Seq(arguments)};Seq.prototype.toSeq=function(){return this};Seq.prototype.toString=function(){return this.__toString("Seq {","}")};Seq.prototype.cacheResult=function(){if(!this._cache&&this.__iterateUncached){this._cache=this.entrySeq().toArray();this.size=this._cache.length}return this};Seq.prototype.__iterate=function(fn,reverse){return seqIterate(this,fn,reverse,true)};Seq.prototype.__iterator=function(type,reverse){return seqIterator(this,type,reverse,true)};createClass(KeyedSeq,Seq);function KeyedSeq(value){return value===null||value===undefined?emptySequence().toKeyedSeq():isIterable(value)?isKeyed(value)?value.toSeq():value.fromEntrySeq():keyedSeqFromValue(value)}KeyedSeq.prototype.toKeyedSeq=function(){return this};createClass(IndexedSeq,Seq);function IndexedSeq(value){return value===null||value===undefined?emptySequence():!isIterable(value)?indexedSeqFromValue(value):isKeyed(value)?value.entrySeq():value.toIndexedSeq()}IndexedSeq.of=function(){return IndexedSeq(arguments)};IndexedSeq.prototype.toIndexedSeq=function(){return this};IndexedSeq.prototype.toString=function(){return this.__toString("Seq [","]")};IndexedSeq.prototype.__iterate=function(fn,reverse){return seqIterate(this,fn,reverse,false)};IndexedSeq.prototype.__iterator=function(type,reverse){return seqIterator(this,type,reverse,false)};createClass(SetSeq,Seq);function SetSeq(value){return(value===null||value===undefined?emptySequence():!isIterable(value)?indexedSeqFromValue(value):isKeyed(value)?value.entrySeq():value).toSetSeq()}SetSeq.of=function(){return SetSeq(arguments)};SetSeq.prototype.toSetSeq=function(){return this};Seq.isSeq=isSeq;Seq.Keyed=KeyedSeq;Seq.Set=SetSeq;Seq.Indexed=IndexedSeq;var IS_SEQ_SENTINEL="@@__IMMUTABLE_SEQ__@@";Seq.prototype[IS_SEQ_SENTINEL]=true;createClass(ArraySeq,IndexedSeq);function ArraySeq(array){this._array=array;this.size=array.length}ArraySeq.prototype.get=function(index,notSetValue){return this.has(index)?this._array[wrapIndex(this,index)]:notSetValue};ArraySeq.prototype.__iterate=function(fn,reverse){var array=this._array;var maxIndex=array.length-1;for(var ii=0;ii<=maxIndex;ii++){if(fn(array[reverse?maxIndex-ii:ii],ii,this)===false){return ii+1}}return ii};ArraySeq.prototype.__iterator=function(type,reverse){var array=this._array;var maxIndex=array.length-1;var ii=0;return new Iterator(function(){return ii>maxIndex?iteratorDone():iteratorValue(type,ii,array[reverse?maxIndex-ii++:ii++])})};createClass(ObjectSeq,KeyedSeq);function ObjectSeq(object){var keys=Object.keys(object);this._object=object;this._keys=keys;this.size=keys.length}ObjectSeq.prototype.get=function(key,notSetValue){if(notSetValue!==undefined&&!this.has(key)){return notSetValue}return this._object[key]};ObjectSeq.prototype.has=function(key){return this._object.hasOwnProperty(key)};ObjectSeq.prototype.__iterate=function(fn,reverse){var object=this._object;var keys=this._keys;var maxIndex=keys.length-1;for(var ii=0;ii<=maxIndex;ii++){var key=keys[reverse?maxIndex-ii:ii];if(fn(object[key],key,this)===false){return ii+1}}return ii};ObjectSeq.prototype.__iterator=function(type,reverse){var object=this._object;var keys=this._keys;var maxIndex=keys.length-1;var ii=0;return new Iterator(function(){var key=keys[reverse?maxIndex-ii:ii];return ii++>maxIndex?iteratorDone():iteratorValue(type,key,object[key])})};ObjectSeq.prototype[IS_ORDERED_SENTINEL]=true;createClass(IterableSeq,IndexedSeq);function IterableSeq(iterable){this._iterable=iterable;this.size=iterable.length||iterable.size}IterableSeq.prototype.__iterateUncached=function(fn,reverse){if(reverse){return this.cacheResult().__iterate(fn,reverse)}var iterable=this._iterable;var iterator=getIterator(iterable);var iterations=0;if(isIterator(iterator)){var step;while(!(step=iterator.next()).done){if(fn(step.value,iterations++,this)===false){break}}}return iterations};IterableSeq.prototype.__iteratorUncached=function(type,reverse){if(reverse){return this.cacheResult().__iterator(type,reverse)}var iterable=this._iterable;var iterator=getIterator(iterable);if(!isIterator(iterator)){return new Iterator(iteratorDone)}var iterations=0;return new Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,iterations++,step.value)})};createClass(IteratorSeq,IndexedSeq);function IteratorSeq(iterator){this._iterator=iterator;this._iteratorCache=[]}IteratorSeq.prototype.__iterateUncached=function(fn,reverse){if(reverse){return this.cacheResult().__iterate(fn,reverse)}var iterator=this._iterator;var cache=this._iteratorCache;var iterations=0;while(iterations<cache.length){if(fn(cache[iterations],iterations++,this)===false){return iterations}}var step;while(!(step=iterator.next()).done){var val=step.value;cache[iterations]=val;if(fn(val,iterations++,this)===false){break}}return iterations};IteratorSeq.prototype.__iteratorUncached=function(type,reverse){if(reverse){return this.cacheResult().__iterator(type,reverse)}var iterator=this._iterator;var cache=this._iteratorCache;var iterations=0;return new Iterator(function(){if(iterations>=cache.length){var step=iterator.next();if(step.done){return step}cache[iterations]=step.value}return iteratorValue(type,iterations,cache[iterations++])})};function isSeq(maybeSeq){return!!(maybeSeq&&maybeSeq[IS_SEQ_SENTINEL])}var EMPTY_SEQ;function emptySequence(){return EMPTY_SEQ||(EMPTY_SEQ=new ArraySeq([]))}function keyedSeqFromValue(value){var seq=Array.isArray(value)?new ArraySeq(value).fromEntrySeq():isIterator(value)?new IteratorSeq(value).fromEntrySeq():hasIterator(value)?new IterableSeq(value).fromEntrySeq():typeof value==="object"?new ObjectSeq(value):undefined;if(!seq){throw new TypeError("Expected Array or iterable object of [k, v] entries, "+"or keyed object: "+value)}return seq}function indexedSeqFromValue(value){var seq=maybeIndexedSeqFromValue(value);if(!seq){throw new TypeError("Expected Array or iterable object of values: "+value)}return seq}function seqFromValue(value){var seq=maybeIndexedSeqFromValue(value)||typeof value==="object"&&new ObjectSeq(value);if(!seq){throw new TypeError("Expected Array or iterable object of values, or keyed object: "+value)}return seq}function maybeIndexedSeqFromValue(value){return isArrayLike(value)?new ArraySeq(value):isIterator(value)?new IteratorSeq(value):hasIterator(value)?new IterableSeq(value):undefined}function seqIterate(seq,fn,reverse,useKeys){var cache=seq._cache;if(cache){var maxIndex=cache.length-1;for(var ii=0;ii<=maxIndex;ii++){var entry=cache[reverse?maxIndex-ii:ii];if(fn(entry[1],useKeys?entry[0]:ii,seq)===false){return ii+1}}return ii}return seq.__iterateUncached(fn,reverse)}function seqIterator(seq,type,reverse,useKeys){var cache=seq._cache;if(cache){var maxIndex=cache.length-1;var ii=0;return new Iterator(function(){var entry=cache[reverse?maxIndex-ii:ii];return ii++>maxIndex?iteratorDone():iteratorValue(type,useKeys?entry[0]:ii-1,entry[1])})}return seq.__iteratorUncached(type,reverse)}function fromJS(json,converter){return converter?fromJSWith(converter,json,"",{"":json}):fromJSDefault(json)}function fromJSWith(converter,json,key,parentJSON){if(Array.isArray(json)){return converter.call(parentJSON,key,IndexedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json)}))}if(isPlainObj(json)){return converter.call(parentJSON,key,KeyedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json)}))}return json}function fromJSDefault(json){if(Array.isArray(json)){return IndexedSeq(json).map(fromJSDefault).toList()}if(isPlainObj(json)){return KeyedSeq(json).map(fromJSDefault).toMap()}return json}function isPlainObj(value){return value&&(value.constructor===Object||value.constructor===undefined)}function is(valueA,valueB){if(valueA===valueB||valueA!==valueA&&valueB!==valueB){return true}if(!valueA||!valueB){return false}if(typeof valueA.valueOf==="function"&&typeof valueB.valueOf==="function"){valueA=valueA.valueOf();valueB=valueB.valueOf();if(valueA===valueB||valueA!==valueA&&valueB!==valueB){return true}if(!valueA||!valueB){return false}}if(typeof valueA.equals==="function"&&typeof valueB.equals==="function"&&valueA.equals(valueB)){return true}return false}function deepEqual(a,b){if(a===b){return true}if(!isIterable(b)||a.size!==undefined&&b.size!==undefined&&a.size!==b.size||a.__hash!==undefined&&b.__hash!==undefined&&a.__hash!==b.__hash||isKeyed(a)!==isKeyed(b)||isIndexed(a)!==isIndexed(b)||isOrdered(a)!==isOrdered(b)){return false}if(a.size===0&&b.size===0){return true}var notAssociative=!isAssociative(a);if(isOrdered(a)){var entries=a.entries();return b.every(function(v,k){var entry=entries.next().value;return entry&&is(entry[1],v)&&(notAssociative||is(entry[0],k))})&&entries.next().done}var flipped=false;if(a.size===undefined){if(b.size===undefined){if(typeof a.cacheResult==="function"){a.cacheResult()}}else{flipped=true;var _=a;a=b;b=_}}var allEqual=true;var bSize=b.__iterate(function(v,k){if(notAssociative?!a.has(v):flipped?!is(v,a.get(k,NOT_SET)):!is(a.get(k,NOT_SET),v)){allEqual=false;return false}});return allEqual&&a.size===bSize}createClass(Repeat,IndexedSeq);function Repeat(value,times){if(!(this instanceof Repeat)){return new Repeat(value,times)}this._value=value;this.size=times===undefined?Infinity:Math.max(0,times);if(this.size===0){if(EMPTY_REPEAT){return EMPTY_REPEAT}EMPTY_REPEAT=this}}Repeat.prototype.toString=function(){if(this.size===0){return"Repeat []"}return"Repeat [ "+this._value+" "+this.size+" times ]"};Repeat.prototype.get=function(index,notSetValue){return this.has(index)?this._value:notSetValue};Repeat.prototype.includes=function(searchValue){return is(this._value,searchValue)};Repeat.prototype.slice=function(begin,end){var size=this.size;return wholeSlice(begin,end,size)?this:new Repeat(this._value,resolveEnd(end,size)-resolveBegin(begin,size))};Repeat.prototype.reverse=function(){return this};Repeat.prototype.indexOf=function(searchValue){if(is(this._value,searchValue)){return 0}return-1};Repeat.prototype.lastIndexOf=function(searchValue){if(is(this._value,searchValue)){
return this.size}return-1};Repeat.prototype.__iterate=function(fn,reverse){for(var ii=0;ii<this.size;ii++){if(fn(this._value,ii,this)===false){return ii+1}}return ii};Repeat.prototype.__iterator=function(type,reverse){var this$0=this;var ii=0;return new Iterator(function(){return ii<this$0.size?iteratorValue(type,ii++,this$0._value):iteratorDone()})};Repeat.prototype.equals=function(other){return other instanceof Repeat?is(this._value,other._value):deepEqual(other)};var EMPTY_REPEAT;function invariant(condition,error){if(!condition)throw new Error(error)}createClass(Range,IndexedSeq);function Range(start,end,step){if(!(this instanceof Range)){return new Range(start,end,step)}invariant(step!==0,"Cannot step a Range by 0");start=start||0;if(end===undefined){end=Infinity}step=step===undefined?1:Math.abs(step);if(end<start){step=-step}this._start=start;this._end=end;this._step=step;this.size=Math.max(0,Math.ceil((end-start)/step-1)+1);if(this.size===0){if(EMPTY_RANGE){return EMPTY_RANGE}EMPTY_RANGE=this}}Range.prototype.toString=function(){if(this.size===0){return"Range []"}return"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"};Range.prototype.get=function(index,notSetValue){return this.has(index)?this._start+wrapIndex(this,index)*this._step:notSetValue};Range.prototype.includes=function(searchValue){var possibleIndex=(searchValue-this._start)/this._step;return possibleIndex>=0&&possibleIndex<this.size&&possibleIndex===Math.floor(possibleIndex)};Range.prototype.slice=function(begin,end){if(wholeSlice(begin,end,this.size)){return this}begin=resolveBegin(begin,this.size);end=resolveEnd(end,this.size);if(end<=begin){return new Range(0,0)}return new Range(this.get(begin,this._end),this.get(end,this._end),this._step)};Range.prototype.indexOf=function(searchValue){var offsetValue=searchValue-this._start;if(offsetValue%this._step===0){var index=offsetValue/this._step;if(index>=0&&index<this.size){return index}}return-1};Range.prototype.lastIndexOf=function(searchValue){return this.indexOf(searchValue)};Range.prototype.__iterate=function(fn,reverse){var maxIndex=this.size-1;var step=this._step;var value=reverse?this._start+maxIndex*step:this._start;for(var ii=0;ii<=maxIndex;ii++){if(fn(value,ii,this)===false){return ii+1}value+=reverse?-step:step}return ii};Range.prototype.__iterator=function(type,reverse){var maxIndex=this.size-1;var step=this._step;var value=reverse?this._start+maxIndex*step:this._start;var ii=0;return new Iterator(function(){var v=value;value+=reverse?-step:step;return ii>maxIndex?iteratorDone():iteratorValue(type,ii++,v)})};Range.prototype.equals=function(other){return other instanceof Range?this._start===other._start&&this._end===other._end&&this._step===other._step:deepEqual(this,other)};var EMPTY_RANGE;createClass(Collection,Iterable);function Collection(){throw TypeError("Abstract")}createClass(KeyedCollection,Collection);function KeyedCollection(){}createClass(IndexedCollection,Collection);function IndexedCollection(){}createClass(SetCollection,Collection);function SetCollection(){}Collection.Keyed=KeyedCollection;Collection.Indexed=IndexedCollection;Collection.Set=SetCollection;var imul=typeof Math.imul==="function"&&Math.imul(4294967295,2)===-2?Math.imul:function imul(a,b){a=a|0;b=b|0;var c=a&65535;var d=b&65535;return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0};function smi(i32){return i32>>>1&1073741824|i32&3221225471}function hash(o){if(o===false||o===null||o===undefined){return 0}if(typeof o.valueOf==="function"){o=o.valueOf();if(o===false||o===null||o===undefined){return 0}}if(o===true){return 1}var type=typeof o;if(type==="number"){var h=o|0;if(h!==o){h^=o*4294967295}while(o>4294967295){o/=4294967295;h^=o}return smi(h)}if(type==="string"){return o.length>STRING_HASH_CACHE_MIN_STRLEN?cachedHashString(o):hashString(o)}if(typeof o.hashCode==="function"){return o.hashCode()}if(type==="object"){return hashJSObj(o)}if(typeof o.toString==="function"){return hashString(o.toString())}throw new Error("Value type "+type+" cannot be hashed.")}function cachedHashString(string){var hash=stringHashCache[string];if(hash===undefined){hash=hashString(string);if(STRING_HASH_CACHE_SIZE===STRING_HASH_CACHE_MAX_SIZE){STRING_HASH_CACHE_SIZE=0;stringHashCache={}}STRING_HASH_CACHE_SIZE++;stringHashCache[string]=hash}return hash}function hashString(string){var hash=0;for(var ii=0;ii<string.length;ii++){hash=31*hash+string.charCodeAt(ii)|0}return smi(hash)}function hashJSObj(obj){var hash;if(usingWeakMap){hash=weakMap.get(obj);if(hash!==undefined){return hash}}hash=obj[UID_HASH_KEY];if(hash!==undefined){return hash}if(!canDefineProperty){hash=obj.propertyIsEnumerable&&obj.propertyIsEnumerable[UID_HASH_KEY];if(hash!==undefined){return hash}hash=getIENodeHash(obj);if(hash!==undefined){return hash}}hash=++objHashUID;if(objHashUID&1073741824){objHashUID=0}if(usingWeakMap){weakMap.set(obj,hash)}else if(isExtensible!==undefined&&isExtensible(obj)===false){throw new Error("Non-extensible objects are not allowed as keys.")}else if(canDefineProperty){Object.defineProperty(obj,UID_HASH_KEY,{enumerable:false,configurable:false,writable:false,value:hash})}else if(obj.propertyIsEnumerable!==undefined&&obj.propertyIsEnumerable===obj.constructor.prototype.propertyIsEnumerable){obj.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)};obj.propertyIsEnumerable[UID_HASH_KEY]=hash}else if(obj.nodeType!==undefined){obj[UID_HASH_KEY]=hash}else{throw new Error("Unable to set a non-enumerable property on object.")}return hash}var isExtensible=Object.isExtensible;var canDefineProperty=function(){try{Object.defineProperty({},"@",{});return true}catch(e){return false}}();function getIENodeHash(node){if(node&&node.nodeType>0){switch(node.nodeType){case 1:return node.uniqueID;case 9:return node.documentElement&&node.documentElement.uniqueID}}}var usingWeakMap=typeof WeakMap==="function";var weakMap;if(usingWeakMap){weakMap=new WeakMap}var objHashUID=0;var UID_HASH_KEY="__immutablehash__";if(typeof Symbol==="function"){UID_HASH_KEY=Symbol(UID_HASH_KEY)}var STRING_HASH_CACHE_MIN_STRLEN=16;var STRING_HASH_CACHE_MAX_SIZE=255;var STRING_HASH_CACHE_SIZE=0;var stringHashCache={};function assertNotInfinite(size){invariant(size!==Infinity,"Cannot perform this action with an infinite size.")}createClass(Map,KeyedCollection);function Map(value){return value===null||value===undefined?emptyMap():isMap(value)&&!isOrdered(value)?value:emptyMap().withMutations(function(map){var iter=KeyedIterable(value);assertNotInfinite(iter.size);iter.forEach(function(v,k){return map.set(k,v)})})}Map.prototype.toString=function(){return this.__toString("Map {","}")};Map.prototype.get=function(k,notSetValue){return this._root?this._root.get(0,undefined,k,notSetValue):notSetValue};Map.prototype.set=function(k,v){return updateMap(this,k,v)};Map.prototype.setIn=function(keyPath,v){return this.updateIn(keyPath,NOT_SET,function(){return v})};Map.prototype.remove=function(k){return updateMap(this,k,NOT_SET)};Map.prototype.deleteIn=function(keyPath){return this.updateIn(keyPath,function(){return NOT_SET})};Map.prototype.update=function(k,notSetValue,updater){return arguments.length===1?k(this):this.updateIn([k],notSetValue,updater)};Map.prototype.updateIn=function(keyPath,notSetValue,updater){if(!updater){updater=notSetValue;notSetValue=undefined}var updatedValue=updateInDeepMap(this,forceIterator(keyPath),notSetValue,updater);return updatedValue===NOT_SET?undefined:updatedValue};Map.prototype.clear=function(){if(this.size===0){return this}if(this.__ownerID){this.size=0;this._root=null;this.__hash=undefined;this.__altered=true;return this}return emptyMap()};Map.prototype.merge=function(){return mergeIntoMapWith(this,undefined,arguments)};Map.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoMapWith(this,merger,iters)};Map.prototype.mergeIn=function(keyPath){var iters=SLICE$0.call(arguments,1);return this.updateIn(keyPath,emptyMap(),function(m){return typeof m.merge==="function"?m.merge.apply(m,iters):iters[iters.length-1]})};Map.prototype.mergeDeep=function(){return mergeIntoMapWith(this,deepMerger,arguments)};Map.prototype.mergeDeepWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoMapWith(this,deepMergerWith(merger),iters)};Map.prototype.mergeDeepIn=function(keyPath){var iters=SLICE$0.call(arguments,1);return this.updateIn(keyPath,emptyMap(),function(m){return typeof m.mergeDeep==="function"?m.mergeDeep.apply(m,iters):iters[iters.length-1]})};Map.prototype.sort=function(comparator){return OrderedMap(sortFactory(this,comparator))};Map.prototype.sortBy=function(mapper,comparator){return OrderedMap(sortFactory(this,comparator,mapper))};Map.prototype.withMutations=function(fn){var mutable=this.asMutable();fn(mutable);return mutable.wasAltered()?mutable.__ensureOwner(this.__ownerID):this};Map.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new OwnerID)};Map.prototype.asImmutable=function(){return this.__ensureOwner()};Map.prototype.wasAltered=function(){return this.__altered};Map.prototype.__iterator=function(type,reverse){return new MapIterator(this,type,reverse)};Map.prototype.__iterate=function(fn,reverse){var this$0=this;var iterations=0;this._root&&this._root.iterate(function(entry){iterations++;return fn(entry[1],entry[0],this$0)},reverse);return iterations};Map.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this}if(!ownerID){this.__ownerID=ownerID;this.__altered=false;return this}return makeMap(this.size,this._root,ownerID,this.__hash)};function isMap(maybeMap){return!!(maybeMap&&maybeMap[IS_MAP_SENTINEL])}Map.isMap=isMap;var IS_MAP_SENTINEL="@@__IMMUTABLE_MAP__@@";var MapPrototype=Map.prototype;MapPrototype[IS_MAP_SENTINEL]=true;MapPrototype[DELETE]=MapPrototype.remove;MapPrototype.removeIn=MapPrototype.deleteIn;function ArrayMapNode(ownerID,entries){this.ownerID=ownerID;this.entries=entries}ArrayMapNode.prototype.get=function(shift,keyHash,key,notSetValue){var entries=this.entries;for(var ii=0,len=entries.length;ii<len;ii++){if(is(key,entries[ii][0])){return entries[ii][1]}}return notSetValue};ArrayMapNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){var removed=value===NOT_SET;var entries=this.entries;var idx=0;for(var len=entries.length;idx<len;idx++){if(is(key,entries[idx][0])){break}}var exists=idx<len;if(exists?entries[idx][1]===value:removed){return this}SetRef(didAlter);(removed||!exists)&&SetRef(didChangeSize);if(removed&&entries.length===1){return}if(!exists&&!removed&&entries.length>=MAX_ARRAY_MAP_SIZE){return createNodes(ownerID,entries,key,value)}var isEditable=ownerID&&ownerID===this.ownerID;var newEntries=isEditable?entries:arrCopy(entries);if(exists){if(removed){idx===len-1?newEntries.pop():newEntries[idx]=newEntries.pop()}else{newEntries[idx]=[key,value]}}else{newEntries.push([key,value])}if(isEditable){this.entries=newEntries;return this}return new ArrayMapNode(ownerID,newEntries)};function BitmapIndexedNode(ownerID,bitmap,nodes){this.ownerID=ownerID;this.bitmap=bitmap;this.nodes=nodes}BitmapIndexedNode.prototype.get=function(shift,keyHash,key,notSetValue){if(keyHash===undefined){keyHash=hash(key)}var bit=1<<((shift===0?keyHash:keyHash>>>shift)&MASK);var bitmap=this.bitmap;return(bitmap&bit)===0?notSetValue:this.nodes[popCount(bitmap&bit-1)].get(shift+SHIFT,keyHash,key,notSetValue)};BitmapIndexedNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){if(keyHash===undefined){keyHash=hash(key)}var keyHashFrag=(shift===0?keyHash:keyHash>>>shift)&MASK;var bit=1<<keyHashFrag;var bitmap=this.bitmap;var exists=(bitmap&bit)!==0;if(!exists&&value===NOT_SET){return this}var idx=popCount(bitmap&bit-1);var nodes=this.nodes;var node=exists?nodes[idx]:undefined;var newNode=updateNode(node,ownerID,shift+SHIFT,keyHash,key,value,didChangeSize,didAlter);if(newNode===node){return this}if(!exists&&newNode&&nodes.length>=MAX_BITMAP_INDEXED_SIZE){return expandNodes(ownerID,nodes,bitmap,keyHashFrag,newNode)}if(exists&&!newNode&&nodes.length===2&&isLeafNode(nodes[idx^1])){return nodes[idx^1]}if(exists&&newNode&&nodes.length===1&&isLeafNode(newNode)){return newNode}var isEditable=ownerID&&ownerID===this.ownerID;var newBitmap=exists?newNode?bitmap:bitmap^bit:bitmap|bit;var newNodes=exists?newNode?setIn(nodes,idx,newNode,isEditable):spliceOut(nodes,idx,isEditable):spliceIn(nodes,idx,newNode,isEditable);if(isEditable){this.bitmap=newBitmap;this.nodes=newNodes;return this}return new BitmapIndexedNode(ownerID,newBitmap,newNodes)};function HashArrayMapNode(ownerID,count,nodes){this.ownerID=ownerID;this.count=count;this.nodes=nodes}HashArrayMapNode.prototype.get=function(shift,keyHash,key,notSetValue){if(keyHash===undefined){keyHash=hash(key)}var idx=(shift===0?keyHash:keyHash>>>shift)&MASK;var node=this.nodes[idx];return node?node.get(shift+SHIFT,keyHash,key,notSetValue):notSetValue};HashArrayMapNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){if(keyHash===undefined){keyHash=hash(key)}var idx=(shift===0?keyHash:keyHash>>>shift)&MASK;var removed=value===NOT_SET;var nodes=this.nodes;var node=nodes[idx];if(removed&&!node){return this}var newNode=updateNode(node,ownerID,shift+SHIFT,keyHash,key,value,didChangeSize,didAlter);if(newNode===node){return this}var newCount=this.count;if(!node){newCount++}else if(!newNode){newCount--;if(newCount<MIN_HASH_ARRAY_MAP_SIZE){return packNodes(ownerID,nodes,newCount,idx)}}var isEditable=ownerID&&ownerID===this.ownerID;var newNodes=setIn(nodes,idx,newNode,isEditable);if(isEditable){this.count=newCount;this.nodes=newNodes;return this}return new HashArrayMapNode(ownerID,newCount,newNodes)};function HashCollisionNode(ownerID,keyHash,entries){this.ownerID=ownerID;this.keyHash=keyHash;this.entries=entries}HashCollisionNode.prototype.get=function(shift,keyHash,key,notSetValue){var entries=this.entries;for(var ii=0,len=entries.length;ii<len;ii++){if(is(key,entries[ii][0])){return entries[ii][1]}}return notSetValue};HashCollisionNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){if(keyHash===undefined){keyHash=hash(key)}var removed=value===NOT_SET;if(keyHash!==this.keyHash){if(removed){return this}SetRef(didAlter);SetRef(didChangeSize);return mergeIntoNode(this,ownerID,shift,keyHash,[key,value])}var entries=this.entries;var idx=0;for(var len=entries.length;idx<len;idx++){if(is(key,entries[idx][0])){break}}var exists=idx<len;if(exists?entries[idx][1]===value:removed){return this}SetRef(didAlter);(removed||!exists)&&SetRef(didChangeSize);if(removed&&len===2){return new ValueNode(ownerID,this.keyHash,entries[idx^1])}var isEditable=ownerID&&ownerID===this.ownerID;var newEntries=isEditable?entries:arrCopy(entries);if(exists){if(removed){idx===len-1?newEntries.pop():newEntries[idx]=newEntries.pop()}else{newEntries[idx]=[key,value]}}else{newEntries.push([key,value])}if(isEditable){this.entries=newEntries;return this}return new HashCollisionNode(ownerID,this.keyHash,newEntries)};function ValueNode(ownerID,keyHash,entry){this.ownerID=ownerID;this.keyHash=keyHash;this.entry=entry}ValueNode.prototype.get=function(shift,keyHash,key,notSetValue){return is(key,this.entry[0])?this.entry[1]:notSetValue};ValueNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){var removed=value===NOT_SET;var keyMatch=is(key,this.entry[0]);if(keyMatch?value===this.entry[1]:removed){return this}SetRef(didAlter);if(removed){SetRef(didChangeSize);return}if(keyMatch){if(ownerID&&ownerID===this.ownerID){this.entry[1]=value;return this}return new ValueNode(ownerID,this.keyHash,[key,value])}SetRef(didChangeSize);return mergeIntoNode(this,ownerID,shift,hash(key),[key,value])};ArrayMapNode.prototype.iterate=HashCollisionNode.prototype.iterate=function(fn,reverse){var entries=this.entries;for(var ii=0,maxIndex=entries.length-1;ii<=maxIndex;ii++){if(fn(entries[reverse?maxIndex-ii:ii])===false){return false}}};BitmapIndexedNode.prototype.iterate=HashArrayMapNode.prototype.iterate=function(fn,reverse){var nodes=this.nodes;for(var ii=0,maxIndex=nodes.length-1;ii<=maxIndex;ii++){var node=nodes[reverse?maxIndex-ii:ii];if(node&&node.iterate(fn,reverse)===false){return false}}};ValueNode.prototype.iterate=function(fn,reverse){return fn(this.entry)};createClass(MapIterator,Iterator);function MapIterator(map,type,reverse){this._type=type;this._reverse=reverse;this._stack=map._root&&mapIteratorFrame(map._root)}MapIterator.prototype.next=function(){var type=this._type;var stack=this._stack;while(stack){var node=stack.node;var index=stack.index++;var maxIndex;if(node.entry){if(index===0){return mapIteratorValue(type,node.entry)}}else if(node.entries){maxIndex=node.entries.length-1;if(index<=maxIndex){return mapIteratorValue(type,node.entries[this._reverse?maxIndex-index:index])}}else{maxIndex=node.nodes.length-1;if(index<=maxIndex){var subNode=node.nodes[this._reverse?maxIndex-index:index];if(subNode){if(subNode.entry){return mapIteratorValue(type,subNode.entry)}stack=this._stack=mapIteratorFrame(subNode,stack)}continue}}stack=this._stack=this._stack.__prev}return iteratorDone()};function mapIteratorValue(type,entry){return iteratorValue(type,entry[0],entry[1])}function mapIteratorFrame(node,prev){return{node:node,index:0,__prev:prev}}function makeMap(size,root,ownerID,hash){var map=Object.create(MapPrototype);map.size=size;map._root=root;map.__ownerID=ownerID;map.__hash=hash;map.__altered=false;return map}var EMPTY_MAP;function emptyMap(){return EMPTY_MAP||(EMPTY_MAP=makeMap(0))}function updateMap(map,k,v){var newRoot;var newSize;if(!map._root){if(v===NOT_SET){return map}newSize=1;newRoot=new ArrayMapNode(map.__ownerID,[[k,v]])}else{var didChangeSize=MakeRef(CHANGE_LENGTH);var didAlter=MakeRef(DID_ALTER);newRoot=updateNode(map._root,map.__ownerID,0,undefined,k,v,didChangeSize,didAlter);if(!didAlter.value){return map}newSize=map.size+(didChangeSize.value?v===NOT_SET?-1:1:0)}if(map.__ownerID){map.size=newSize;map._root=newRoot;map.__hash=undefined;map.__altered=true;return map}return newRoot?makeMap(newSize,newRoot):emptyMap()}function updateNode(node,ownerID,shift,keyHash,key,value,didChangeSize,didAlter){if(!node){if(value===NOT_SET){return node}SetRef(didAlter);SetRef(didChangeSize);return new ValueNode(ownerID,keyHash,[key,value])}return node.update(ownerID,shift,keyHash,key,value,didChangeSize,didAlter)}function isLeafNode(node){return node.constructor===ValueNode||node.constructor===HashCollisionNode}function mergeIntoNode(node,ownerID,shift,keyHash,entry){if(node.keyHash===keyHash){return new HashCollisionNode(ownerID,keyHash,[node.entry,entry])}var idx1=(shift===0?node.keyHash:node.keyHash>>>shift)&MASK;var idx2=(shift===0?keyHash:keyHash>>>shift)&MASK;var newNode;var nodes=idx1===idx2?[mergeIntoNode(node,ownerID,shift+SHIFT,keyHash,entry)]:(newNode=new ValueNode(ownerID,keyHash,entry),idx1<idx2?[node,newNode]:[newNode,node]);return new BitmapIndexedNode(ownerID,1<<idx1|1<<idx2,nodes)}function createNodes(ownerID,entries,key,value){if(!ownerID){ownerID=new OwnerID}var node=new ValueNode(ownerID,hash(key),[key,value]);for(var ii=0;ii<entries.length;ii++){var entry=entries[ii];node=node.update(ownerID,0,undefined,entry[0],entry[1])}return node}function packNodes(ownerID,nodes,count,excluding){var bitmap=0;var packedII=0;var packedNodes=new Array(count);for(var ii=0,bit=1,len=nodes.length;ii<len;ii++,bit<<=1){var node=nodes[ii];if(node!==undefined&&ii!==excluding){bitmap|=bit;packedNodes[packedII++]=node}}return new BitmapIndexedNode(ownerID,bitmap,packedNodes)}function expandNodes(ownerID,nodes,bitmap,including,node){var count=0;var expandedNodes=new Array(SIZE);for(var ii=0;bitmap!==0;ii++,bitmap>>>=1){expandedNodes[ii]=bitmap&1?nodes[count++]:undefined}expandedNodes[including]=node;return new HashArrayMapNode(ownerID,count+1,expandedNodes)}function mergeIntoMapWith(map,merger,iterables){var iters=[];for(var ii=0;ii<iterables.length;ii++){var value=iterables[ii];var iter=KeyedIterable(value);if(!isIterable(value)){iter=iter.map(function(v){return fromJS(v)})}iters.push(iter)}return mergeIntoCollectionWith(map,merger,iters)}function deepMerger(existing,value,key){return existing&&existing.mergeDeep&&isIterable(value)?existing.mergeDeep(value):is(existing,value)?existing:value}function deepMergerWith(merger){return function(existing,value,key){if(existing&&existing.mergeDeepWith&&isIterable(value)){return existing.mergeDeepWith(merger,value)}var nextValue=merger(existing,value,key);return is(existing,nextValue)?existing:nextValue}}function mergeIntoCollectionWith(collection,merger,iters){iters=iters.filter(function(x){return x.size!==0});if(iters.length===0){return collection}if(collection.size===0&&!collection.__ownerID&&iters.length===1){return collection.constructor(iters[0])}return collection.withMutations(function(collection){var mergeIntoMap=merger?function(value,key){collection.update(key,NOT_SET,function(existing){return existing===NOT_SET?value:merger(existing,value,key)})}:function(value,key){collection.set(key,value)};for(var ii=0;ii<iters.length;ii++){iters[ii].forEach(mergeIntoMap)}})}function updateInDeepMap(existing,keyPathIter,notSetValue,updater){var isNotSet=existing===NOT_SET;var step=keyPathIter.next();if(step.done){var existingValue=isNotSet?notSetValue:existing;var newValue=updater(existingValue);return newValue===existingValue?existing:newValue}invariant(isNotSet||existing&&existing.set,"invalid keyPath");var key=step.value;var nextExisting=isNotSet?NOT_SET:existing.get(key,NOT_SET);var nextUpdated=updateInDeepMap(nextExisting,keyPathIter,notSetValue,updater);return nextUpdated===nextExisting?existing:nextUpdated===NOT_SET?existing.remove(key):(isNotSet?emptyMap():existing).set(key,nextUpdated)}function popCount(x){x=x-(x>>1&1431655765);x=(x&858993459)+(x>>2&858993459);x=x+(x>>4)&252645135;x=x+(x>>8);x=x+(x>>16);return x&127}function setIn(array,idx,val,canEdit){var newArray=canEdit?array:arrCopy(array);newArray[idx]=val;return newArray}function spliceIn(array,idx,val,canEdit){var newLen=array.length+1;if(canEdit&&idx+1===newLen){array[idx]=val;return array}var newArray=new Array(newLen);var after=0;for(var ii=0;ii<newLen;ii++){if(ii===idx){newArray[ii]=val;after=-1}else{newArray[ii]=array[ii+after]}}return newArray}function spliceOut(array,idx,canEdit){var newLen=array.length-1;if(canEdit&&idx===newLen){array.pop();return array}var newArray=new Array(newLen);var after=0;for(var ii=0;ii<newLen;ii++){if(ii===idx){after=1}newArray[ii]=array[ii+after]}return newArray}var MAX_ARRAY_MAP_SIZE=SIZE/4;var MAX_BITMAP_INDEXED_SIZE=SIZE/2;var MIN_HASH_ARRAY_MAP_SIZE=SIZE/4;createClass(List,IndexedCollection);function List(value){var empty=emptyList();if(value===null||value===undefined){return empty}if(isList(value)){return value}var iter=IndexedIterable(value);var size=iter.size;if(size===0){return empty}assertNotInfinite(size);if(size>0&&size<SIZE){return makeList(0,size,SHIFT,null,new VNode(iter.toArray()))}return empty.withMutations(function(list){list.setSize(size);iter.forEach(function(v,i){return list.set(i,v)})})}List.of=function(){return this(arguments)};List.prototype.toString=function(){return this.__toString("List [","]")};List.prototype.get=function(index,notSetValue){index=wrapIndex(this,index);if(index>=0&&index<this.size){index+=this._origin;var node=listNodeFor(this,index);return node&&node.array[index&MASK]}return notSetValue};List.prototype.set=function(index,value){return updateList(this,index,value)};List.prototype.remove=function(index){return!this.has(index)?this:index===0?this.shift():index===this.size-1?this.pop():this.splice(index,1)};List.prototype.insert=function(index,value){return this.splice(index,0,value)};List.prototype.clear=function(){if(this.size===0){return this}if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=SHIFT;this._root=this._tail=null;this.__hash=undefined;this.__altered=true;return this}return emptyList()};List.prototype.push=function(){var values=arguments;var oldSize=this.size;return this.withMutations(function(list){setListBounds(list,0,oldSize+values.length);for(var ii=0;ii<values.length;ii++){list.set(oldSize+ii,values[ii])}})};List.prototype.pop=function(){return setListBounds(this,0,-1)};List.prototype.unshift=function(){var values=arguments;return this.withMutations(function(list){setListBounds(list,-values.length);for(var ii=0;ii<values.length;ii++){list.set(ii,values[ii])}})};List.prototype.shift=function(){return setListBounds(this,1)};List.prototype.merge=function(){return mergeIntoListWith(this,undefined,arguments)};List.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoListWith(this,merger,iters)};List.prototype.mergeDeep=function(){return mergeIntoListWith(this,deepMerger,arguments)};List.prototype.mergeDeepWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoListWith(this,deepMergerWith(merger),iters)};List.prototype.setSize=function(size){return setListBounds(this,0,size)};List.prototype.slice=function(begin,end){var size=this.size;if(wholeSlice(begin,end,size)){return this}return setListBounds(this,resolveBegin(begin,size),resolveEnd(end,size))};List.prototype.__iterator=function(type,reverse){var index=0;var values=iterateList(this,reverse);return new Iterator(function(){var value=values();return value===DONE?iteratorDone():iteratorValue(type,index++,value)})};List.prototype.__iterate=function(fn,reverse){var index=0;var values=iterateList(this,reverse);var value;while((value=values())!==DONE){if(fn(value,index++,this)===false){break}}return index};List.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this}if(!ownerID){this.__ownerID=ownerID;return this}return makeList(this._origin,this._capacity,this._level,this._root,this._tail,ownerID,this.__hash)};function isList(maybeList){return!!(maybeList&&maybeList[IS_LIST_SENTINEL])}List.isList=isList;var IS_LIST_SENTINEL="@@__IMMUTABLE_LIST__@@";var ListPrototype=List.prototype;ListPrototype[IS_LIST_SENTINEL]=true;ListPrototype[DELETE]=ListPrototype.remove;ListPrototype.setIn=MapPrototype.setIn;ListPrototype.deleteIn=ListPrototype.removeIn=MapPrototype.removeIn;ListPrototype.update=MapPrototype.update;ListPrototype.updateIn=MapPrototype.updateIn;ListPrototype.mergeIn=MapPrototype.mergeIn;ListPrototype.mergeDeepIn=MapPrototype.mergeDeepIn;ListPrototype.withMutations=MapPrototype.withMutations;ListPrototype.asMutable=MapPrototype.asMutable;ListPrototype.asImmutable=MapPrototype.asImmutable;ListPrototype.wasAltered=MapPrototype.wasAltered;function VNode(array,ownerID){this.array=array;this.ownerID=ownerID}VNode.prototype.removeBefore=function(ownerID,level,index){if(index===level?1<<level:0||this.array.length===0){return this}var originIndex=index>>>level&MASK;if(originIndex>=this.array.length){return new VNode([],ownerID)}var removingFirst=originIndex===0;var newChild;if(level>0){var oldChild=this.array[originIndex];newChild=oldChild&&oldChild.removeBefore(ownerID,level-SHIFT,index);if(newChild===oldChild&&removingFirst){return this}}if(removingFirst&&!newChild){return this}var editable=editableVNode(this,ownerID);if(!removingFirst){for(var ii=0;ii<originIndex;ii++){editable.array[ii]=undefined}}if(newChild){editable.array[originIndex]=newChild}return editable};VNode.prototype.removeAfter=function(ownerID,level,index){if(index===(level?1<<level:0)||this.array.length===0){return this}var sizeIndex=index-1>>>level&MASK;if(sizeIndex>=this.array.length){return this}var newChild;if(level>0){var oldChild=this.array[sizeIndex];newChild=oldChild&&oldChild.removeAfter(ownerID,level-SHIFT,index);if(newChild===oldChild&&sizeIndex===this.array.length-1){return this}}var editable=editableVNode(this,ownerID);editable.array.splice(sizeIndex+1);if(newChild){editable.array[sizeIndex]=newChild}return editable};var DONE={};function iterateList(list,reverse){var left=list._origin;var right=list._capacity;var tailPos=getTailOffset(right);var tail=list._tail;return iterateNodeOrLeaf(list._root,list._level,0);function iterateNodeOrLeaf(node,level,offset){return level===0?iterateLeaf(node,offset):iterateNode(node,level,offset)}function iterateLeaf(node,offset){var array=offset===tailPos?tail&&tail.array:node&&node.array;var from=offset>left?0:left-offset;var to=right-offset;if(to>SIZE){to=SIZE}return function(){if(from===to){return DONE}var idx=reverse?--to:from++;return array&&array[idx]}}function iterateNode(node,level,offset){var values;var array=node&&node.array;var from=offset>left?0:left-offset>>level;var to=(right-offset>>level)+1;if(to>SIZE){to=SIZE}return function(){do{if(values){var value=values();if(value!==DONE){return value}values=null}if(from===to){return DONE}var idx=reverse?--to:from++;values=iterateNodeOrLeaf(array&&array[idx],level-SHIFT,offset+(idx<<level))}while(true)}}}function makeList(origin,capacity,level,root,tail,ownerID,hash){var list=Object.create(ListPrototype);list.size=capacity-origin;list._origin=origin;list._capacity=capacity;list._level=level;list._root=root;list._tail=tail;list.__ownerID=ownerID;list.__hash=hash;list.__altered=false;return list}var EMPTY_LIST;function emptyList(){return EMPTY_LIST||(EMPTY_LIST=makeList(0,0,SHIFT))}function updateList(list,index,value){index=wrapIndex(list,index);if(index!==index){return list}if(index>=list.size||index<0){return list.withMutations(function(list){index<0?setListBounds(list,index).set(0,value):setListBounds(list,0,index+1).set(index,value)})}index+=list._origin;var newTail=list._tail;var newRoot=list._root;var didAlter=MakeRef(DID_ALTER);if(index>=getTailOffset(list._capacity)){newTail=updateVNode(newTail,list.__ownerID,0,index,value,didAlter)}else{newRoot=updateVNode(newRoot,list.__ownerID,list._level,index,value,didAlter)}if(!didAlter.value){return list}if(list.__ownerID){list._root=newRoot;list._tail=newTail;list.__hash=undefined;list.__altered=true;return list}return makeList(list._origin,list._capacity,list._level,newRoot,newTail)}function updateVNode(node,ownerID,level,index,value,didAlter){var idx=index>>>level&MASK;var nodeHas=node&&idx<node.array.length;if(!nodeHas&&value===undefined){return node}var newNode;if(level>0){var lowerNode=node&&node.array[idx];var newLowerNode=updateVNode(lowerNode,ownerID,level-SHIFT,index,value,didAlter);if(newLowerNode===lowerNode){return node}newNode=editableVNode(node,ownerID);newNode.array[idx]=newLowerNode;return newNode}if(nodeHas&&node.array[idx]===value){return node}SetRef(didAlter);newNode=editableVNode(node,ownerID);if(value===undefined&&idx===newNode.array.length-1){newNode.array.pop()}else{newNode.array[idx]=value}return newNode}function editableVNode(node,ownerID){if(ownerID&&node&&ownerID===node.ownerID){return node}return new VNode(node?node.array.slice():[],ownerID)}function listNodeFor(list,rawIndex){if(rawIndex>=getTailOffset(list._capacity)){return list._tail}if(rawIndex<1<<list._level+SHIFT){var node=list._root;var level=list._level;while(node&&level>0){node=node.array[rawIndex>>>level&MASK];level-=SHIFT}return node}}function setListBounds(list,begin,end){if(begin!==undefined){begin=begin|0}if(end!==undefined){end=end|0}var owner=list.__ownerID||new OwnerID;var oldOrigin=list._origin;var oldCapacity=list._capacity;var newOrigin=oldOrigin+begin;var newCapacity=end===undefined?oldCapacity:end<0?oldCapacity+end:oldOrigin+end;if(newOrigin===oldOrigin&&newCapacity===oldCapacity){return list}if(newOrigin>=newCapacity){return list.clear()}var newLevel=list._level;var newRoot=list._root;var offsetShift=0;while(newOrigin+offsetShift<0){newRoot=new VNode(newRoot&&newRoot.array.length?[undefined,newRoot]:[],owner);newLevel+=SHIFT;offsetShift+=1<<newLevel}if(offsetShift){newOrigin+=offsetShift;oldOrigin+=offsetShift;newCapacity+=offsetShift;oldCapacity+=offsetShift}var oldTailOffset=getTailOffset(oldCapacity);
var newTailOffset=getTailOffset(newCapacity);while(newTailOffset>=1<<newLevel+SHIFT){newRoot=new VNode(newRoot&&newRoot.array.length?[newRoot]:[],owner);newLevel+=SHIFT}var oldTail=list._tail;var newTail=newTailOffset<oldTailOffset?listNodeFor(list,newCapacity-1):newTailOffset>oldTailOffset?new VNode([],owner):oldTail;if(oldTail&&newTailOffset>oldTailOffset&&newOrigin<oldCapacity&&oldTail.array.length){newRoot=editableVNode(newRoot,owner);var node=newRoot;for(var level=newLevel;level>SHIFT;level-=SHIFT){var idx=oldTailOffset>>>level&MASK;node=node.array[idx]=editableVNode(node.array[idx],owner)}node.array[oldTailOffset>>>SHIFT&MASK]=oldTail}if(newCapacity<oldCapacity){newTail=newTail&&newTail.removeAfter(owner,0,newCapacity)}if(newOrigin>=newTailOffset){newOrigin-=newTailOffset;newCapacity-=newTailOffset;newLevel=SHIFT;newRoot=null;newTail=newTail&&newTail.removeBefore(owner,0,newOrigin)}else if(newOrigin>oldOrigin||newTailOffset<oldTailOffset){offsetShift=0;while(newRoot){var beginIndex=newOrigin>>>newLevel&MASK;if(beginIndex!==newTailOffset>>>newLevel&MASK){break}if(beginIndex){offsetShift+=(1<<newLevel)*beginIndex}newLevel-=SHIFT;newRoot=newRoot.array[beginIndex]}if(newRoot&&newOrigin>oldOrigin){newRoot=newRoot.removeBefore(owner,newLevel,newOrigin-offsetShift)}if(newRoot&&newTailOffset<oldTailOffset){newRoot=newRoot.removeAfter(owner,newLevel,newTailOffset-offsetShift)}if(offsetShift){newOrigin-=offsetShift;newCapacity-=offsetShift}}if(list.__ownerID){list.size=newCapacity-newOrigin;list._origin=newOrigin;list._capacity=newCapacity;list._level=newLevel;list._root=newRoot;list._tail=newTail;list.__hash=undefined;list.__altered=true;return list}return makeList(newOrigin,newCapacity,newLevel,newRoot,newTail)}function mergeIntoListWith(list,merger,iterables){var iters=[];var maxSize=0;for(var ii=0;ii<iterables.length;ii++){var value=iterables[ii];var iter=IndexedIterable(value);if(iter.size>maxSize){maxSize=iter.size}if(!isIterable(value)){iter=iter.map(function(v){return fromJS(v)})}iters.push(iter)}if(maxSize>list.size){list=list.setSize(maxSize)}return mergeIntoCollectionWith(list,merger,iters)}function getTailOffset(size){return size<SIZE?0:size-1>>>SHIFT<<SHIFT}createClass(OrderedMap,Map);function OrderedMap(value){return value===null||value===undefined?emptyOrderedMap():isOrderedMap(value)?value:emptyOrderedMap().withMutations(function(map){var iter=KeyedIterable(value);assertNotInfinite(iter.size);iter.forEach(function(v,k){return map.set(k,v)})})}OrderedMap.of=function(){return this(arguments)};OrderedMap.prototype.toString=function(){return this.__toString("OrderedMap {","}")};OrderedMap.prototype.get=function(k,notSetValue){var index=this._map.get(k);return index!==undefined?this._list.get(index)[1]:notSetValue};OrderedMap.prototype.clear=function(){if(this.size===0){return this}if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return emptyOrderedMap()};OrderedMap.prototype.set=function(k,v){return updateOrderedMap(this,k,v)};OrderedMap.prototype.remove=function(k){return updateOrderedMap(this,k,NOT_SET)};OrderedMap.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};OrderedMap.prototype.__iterate=function(fn,reverse){var this$0=this;return this._list.__iterate(function(entry){return entry&&fn(entry[1],entry[0],this$0)},reverse)};OrderedMap.prototype.__iterator=function(type,reverse){return this._list.fromEntrySeq().__iterator(type,reverse)};OrderedMap.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this}var newMap=this._map.__ensureOwner(ownerID);var newList=this._list.__ensureOwner(ownerID);if(!ownerID){this.__ownerID=ownerID;this._map=newMap;this._list=newList;return this}return makeOrderedMap(newMap,newList,ownerID,this.__hash)};function isOrderedMap(maybeOrderedMap){return isMap(maybeOrderedMap)&&isOrdered(maybeOrderedMap)}OrderedMap.isOrderedMap=isOrderedMap;OrderedMap.prototype[IS_ORDERED_SENTINEL]=true;OrderedMap.prototype[DELETE]=OrderedMap.prototype.remove;function makeOrderedMap(map,list,ownerID,hash){var omap=Object.create(OrderedMap.prototype);omap.size=map?map.size:0;omap._map=map;omap._list=list;omap.__ownerID=ownerID;omap.__hash=hash;return omap}var EMPTY_ORDERED_MAP;function emptyOrderedMap(){return EMPTY_ORDERED_MAP||(EMPTY_ORDERED_MAP=makeOrderedMap(emptyMap(),emptyList()))}function updateOrderedMap(omap,k,v){var map=omap._map;var list=omap._list;var i=map.get(k);var has=i!==undefined;var newMap;var newList;if(v===NOT_SET){if(!has){return omap}if(list.size>=SIZE&&list.size>=map.size*2){newList=list.filter(function(entry,idx){return entry!==undefined&&i!==idx});newMap=newList.toKeyedSeq().map(function(entry){return entry[0]}).flip().toMap();if(omap.__ownerID){newMap.__ownerID=newList.__ownerID=omap.__ownerID}}else{newMap=map.remove(k);newList=i===list.size-1?list.pop():list.set(i,undefined)}}else{if(has){if(v===list.get(i)[1]){return omap}newMap=map;newList=list.set(i,[k,v])}else{newMap=map.set(k,list.size);newList=list.set(list.size,[k,v])}}if(omap.__ownerID){omap.size=newMap.size;omap._map=newMap;omap._list=newList;omap.__hash=undefined;return omap}return makeOrderedMap(newMap,newList)}createClass(ToKeyedSequence,KeyedSeq);function ToKeyedSequence(indexed,useKeys){this._iter=indexed;this._useKeys=useKeys;this.size=indexed.size}ToKeyedSequence.prototype.get=function(key,notSetValue){return this._iter.get(key,notSetValue)};ToKeyedSequence.prototype.has=function(key){return this._iter.has(key)};ToKeyedSequence.prototype.valueSeq=function(){return this._iter.valueSeq()};ToKeyedSequence.prototype.reverse=function(){var this$0=this;var reversedSequence=reverseFactory(this,true);if(!this._useKeys){reversedSequence.valueSeq=function(){return this$0._iter.toSeq().reverse()}}return reversedSequence};ToKeyedSequence.prototype.map=function(mapper,context){var this$0=this;var mappedSequence=mapFactory(this,mapper,context);if(!this._useKeys){mappedSequence.valueSeq=function(){return this$0._iter.toSeq().map(mapper,context)}}return mappedSequence};ToKeyedSequence.prototype.__iterate=function(fn,reverse){var this$0=this;var ii;return this._iter.__iterate(this._useKeys?function(v,k){return fn(v,k,this$0)}:(ii=reverse?resolveSize(this):0,function(v){return fn(v,reverse?--ii:ii++,this$0)}),reverse)};ToKeyedSequence.prototype.__iterator=function(type,reverse){if(this._useKeys){return this._iter.__iterator(type,reverse)}var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);var ii=reverse?resolveSize(this):0;return new Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,reverse?--ii:ii++,step.value,step)})};ToKeyedSequence.prototype[IS_ORDERED_SENTINEL]=true;createClass(ToIndexedSequence,IndexedSeq);function ToIndexedSequence(iter){this._iter=iter;this.size=iter.size}ToIndexedSequence.prototype.includes=function(value){return this._iter.includes(value)};ToIndexedSequence.prototype.__iterate=function(fn,reverse){var this$0=this;var iterations=0;return this._iter.__iterate(function(v){return fn(v,iterations++,this$0)},reverse)};ToIndexedSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);var iterations=0;return new Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,iterations++,step.value,step)})};createClass(ToSetSequence,SetSeq);function ToSetSequence(iter){this._iter=iter;this.size=iter.size}ToSetSequence.prototype.has=function(key){return this._iter.includes(key)};ToSetSequence.prototype.__iterate=function(fn,reverse){var this$0=this;return this._iter.__iterate(function(v){return fn(v,v,this$0)},reverse)};ToSetSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);return new Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,step.value,step.value,step)})};createClass(FromEntriesSequence,KeyedSeq);function FromEntriesSequence(entries){this._iter=entries;this.size=entries.size}FromEntriesSequence.prototype.entrySeq=function(){return this._iter.toSeq()};FromEntriesSequence.prototype.__iterate=function(fn,reverse){var this$0=this;return this._iter.__iterate(function(entry){if(entry){validateEntry(entry);var indexedIterable=isIterable(entry);return fn(indexedIterable?entry.get(1):entry[1],indexedIterable?entry.get(0):entry[0],this$0)}},reverse)};FromEntriesSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);return new Iterator(function(){while(true){var step=iterator.next();if(step.done){return step}var entry=step.value;if(entry){validateEntry(entry);var indexedIterable=isIterable(entry);return iteratorValue(type,indexedIterable?entry.get(0):entry[0],indexedIterable?entry.get(1):entry[1],step)}}})};ToIndexedSequence.prototype.cacheResult=ToKeyedSequence.prototype.cacheResult=ToSetSequence.prototype.cacheResult=FromEntriesSequence.prototype.cacheResult=cacheResultThrough;function flipFactory(iterable){var flipSequence=makeSequence(iterable);flipSequence._iter=iterable;flipSequence.size=iterable.size;flipSequence.flip=function(){return iterable};flipSequence.reverse=function(){var reversedSequence=iterable.reverse.apply(this);reversedSequence.flip=function(){return iterable.reverse()};return reversedSequence};flipSequence.has=function(key){return iterable.includes(key)};flipSequence.includes=function(key){return iterable.has(key)};flipSequence.cacheResult=cacheResultThrough;flipSequence.__iterateUncached=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k){return fn(k,v,this$0)!==false},reverse)};flipSequence.__iteratorUncached=function(type,reverse){if(type===ITERATE_ENTRIES){var iterator=iterable.__iterator(type,reverse);return new Iterator(function(){var step=iterator.next();if(!step.done){var k=step.value[0];step.value[0]=step.value[1];step.value[1]=k}return step})}return iterable.__iterator(type===ITERATE_VALUES?ITERATE_KEYS:ITERATE_VALUES,reverse)};return flipSequence}function mapFactory(iterable,mapper,context){var mappedSequence=makeSequence(iterable);mappedSequence.size=iterable.size;mappedSequence.has=function(key){return iterable.has(key)};mappedSequence.get=function(key,notSetValue){var v=iterable.get(key,NOT_SET);return v===NOT_SET?notSetValue:mapper.call(context,v,key,iterable)};mappedSequence.__iterateUncached=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k,c){return fn(mapper.call(context,v,k,c),k,this$0)!==false},reverse)};mappedSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);return new Iterator(function(){var step=iterator.next();if(step.done){return step}var entry=step.value;var key=entry[0];return iteratorValue(type,key,mapper.call(context,entry[1],key,iterable),step)})};return mappedSequence}function reverseFactory(iterable,useKeys){var reversedSequence=makeSequence(iterable);reversedSequence._iter=iterable;reversedSequence.size=iterable.size;reversedSequence.reverse=function(){return iterable};if(iterable.flip){reversedSequence.flip=function(){var flipSequence=flipFactory(iterable);flipSequence.reverse=function(){return iterable.flip()};return flipSequence}}reversedSequence.get=function(key,notSetValue){return iterable.get(useKeys?key:-1-key,notSetValue)};reversedSequence.has=function(key){return iterable.has(useKeys?key:-1-key)};reversedSequence.includes=function(value){return iterable.includes(value)};reversedSequence.cacheResult=cacheResultThrough;reversedSequence.__iterate=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k){return fn(v,k,this$0)},!reverse)};reversedSequence.__iterator=function(type,reverse){return iterable.__iterator(type,!reverse)};return reversedSequence}function filterFactory(iterable,predicate,context,useKeys){var filterSequence=makeSequence(iterable);if(useKeys){filterSequence.has=function(key){var v=iterable.get(key,NOT_SET);return v!==NOT_SET&&!!predicate.call(context,v,key,iterable)};filterSequence.get=function(key,notSetValue){var v=iterable.get(key,NOT_SET);return v!==NOT_SET&&predicate.call(context,v,key,iterable)?v:notSetValue}}filterSequence.__iterateUncached=function(fn,reverse){var this$0=this;var iterations=0;iterable.__iterate(function(v,k,c){if(predicate.call(context,v,k,c)){iterations++;return fn(v,useKeys?k:iterations-1,this$0)}},reverse);return iterations};filterSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);var iterations=0;return new Iterator(function(){while(true){var step=iterator.next();if(step.done){return step}var entry=step.value;var key=entry[0];var value=entry[1];if(predicate.call(context,value,key,iterable)){return iteratorValue(type,useKeys?key:iterations++,value,step)}}})};return filterSequence}function countByFactory(iterable,grouper,context){var groups=Map().asMutable();iterable.__iterate(function(v,k){groups.update(grouper.call(context,v,k,iterable),0,function(a){return a+1})});return groups.asImmutable()}function groupByFactory(iterable,grouper,context){var isKeyedIter=isKeyed(iterable);var groups=(isOrdered(iterable)?OrderedMap():Map()).asMutable();iterable.__iterate(function(v,k){groups.update(grouper.call(context,v,k,iterable),function(a){return a=a||[],a.push(isKeyedIter?[k,v]:v),a})});var coerce=iterableClass(iterable);return groups.map(function(arr){return reify(iterable,coerce(arr))})}function sliceFactory(iterable,begin,end,useKeys){var originalSize=iterable.size;if(begin!==undefined){begin=begin|0}if(end!==undefined){end=end|0}if(wholeSlice(begin,end,originalSize)){return iterable}var resolvedBegin=resolveBegin(begin,originalSize);var resolvedEnd=resolveEnd(end,originalSize);if(resolvedBegin!==resolvedBegin||resolvedEnd!==resolvedEnd){return sliceFactory(iterable.toSeq().cacheResult(),begin,end,useKeys)}var resolvedSize=resolvedEnd-resolvedBegin;var sliceSize;if(resolvedSize===resolvedSize){sliceSize=resolvedSize<0?0:resolvedSize}var sliceSeq=makeSequence(iterable);sliceSeq.size=sliceSize===0?sliceSize:iterable.size&&sliceSize||undefined;if(!useKeys&&isSeq(iterable)&&sliceSize>=0){sliceSeq.get=function(index,notSetValue){index=wrapIndex(this,index);return index>=0&&index<sliceSize?iterable.get(index+resolvedBegin,notSetValue):notSetValue}}sliceSeq.__iterateUncached=function(fn,reverse){var this$0=this;if(sliceSize===0){return 0}if(reverse){return this.cacheResult().__iterate(fn,reverse)}var skipped=0;var isSkipping=true;var iterations=0;iterable.__iterate(function(v,k){if(!(isSkipping&&(isSkipping=skipped++<resolvedBegin))){iterations++;return fn(v,useKeys?k:iterations-1,this$0)!==false&&iterations!==sliceSize}});return iterations};sliceSeq.__iteratorUncached=function(type,reverse){if(sliceSize!==0&&reverse){return this.cacheResult().__iterator(type,reverse)}var iterator=sliceSize!==0&&iterable.__iterator(type,reverse);var skipped=0;var iterations=0;return new Iterator(function(){while(skipped++<resolvedBegin){iterator.next()}if(++iterations>sliceSize){return iteratorDone()}var step=iterator.next();if(useKeys||type===ITERATE_VALUES){return step}else if(type===ITERATE_KEYS){return iteratorValue(type,iterations-1,undefined,step)}else{return iteratorValue(type,iterations-1,step.value[1],step)}})};return sliceSeq}function takeWhileFactory(iterable,predicate,context){var takeSequence=makeSequence(iterable);takeSequence.__iterateUncached=function(fn,reverse){var this$0=this;if(reverse){return this.cacheResult().__iterate(fn,reverse)}var iterations=0;iterable.__iterate(function(v,k,c){return predicate.call(context,v,k,c)&&++iterations&&fn(v,k,this$0)});return iterations};takeSequence.__iteratorUncached=function(type,reverse){var this$0=this;if(reverse){return this.cacheResult().__iterator(type,reverse)}var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);var iterating=true;return new Iterator(function(){if(!iterating){return iteratorDone()}var step=iterator.next();if(step.done){return step}var entry=step.value;var k=entry[0];var v=entry[1];if(!predicate.call(context,v,k,this$0)){iterating=false;return iteratorDone()}return type===ITERATE_ENTRIES?step:iteratorValue(type,k,v,step)})};return takeSequence}function skipWhileFactory(iterable,predicate,context,useKeys){var skipSequence=makeSequence(iterable);skipSequence.__iterateUncached=function(fn,reverse){var this$0=this;if(reverse){return this.cacheResult().__iterate(fn,reverse)}var isSkipping=true;var iterations=0;iterable.__iterate(function(v,k,c){if(!(isSkipping&&(isSkipping=predicate.call(context,v,k,c)))){iterations++;return fn(v,useKeys?k:iterations-1,this$0)}});return iterations};skipSequence.__iteratorUncached=function(type,reverse){var this$0=this;if(reverse){return this.cacheResult().__iterator(type,reverse)}var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);var skipping=true;var iterations=0;return new Iterator(function(){var step,k,v;do{step=iterator.next();if(step.done){if(useKeys||type===ITERATE_VALUES){return step}else if(type===ITERATE_KEYS){return iteratorValue(type,iterations++,undefined,step)}else{return iteratorValue(type,iterations++,step.value[1],step)}}var entry=step.value;k=entry[0];v=entry[1];skipping&&(skipping=predicate.call(context,v,k,this$0))}while(skipping);return type===ITERATE_ENTRIES?step:iteratorValue(type,k,v,step)})};return skipSequence}function concatFactory(iterable,values){var isKeyedIterable=isKeyed(iterable);var iters=[iterable].concat(values).map(function(v){if(!isIterable(v)){v=isKeyedIterable?keyedSeqFromValue(v):indexedSeqFromValue(Array.isArray(v)?v:[v])}else if(isKeyedIterable){v=KeyedIterable(v)}return v}).filter(function(v){return v.size!==0});if(iters.length===0){return iterable}if(iters.length===1){var singleton=iters[0];if(singleton===iterable||isKeyedIterable&&isKeyed(singleton)||isIndexed(iterable)&&isIndexed(singleton)){return singleton}}var concatSeq=new ArraySeq(iters);if(isKeyedIterable){concatSeq=concatSeq.toKeyedSeq()}else if(!isIndexed(iterable)){concatSeq=concatSeq.toSetSeq()}concatSeq=concatSeq.flatten(true);concatSeq.size=iters.reduce(function(sum,seq){if(sum!==undefined){var size=seq.size;if(size!==undefined){return sum+size}}},0);return concatSeq}function flattenFactory(iterable,depth,useKeys){var flatSequence=makeSequence(iterable);flatSequence.__iterateUncached=function(fn,reverse){var iterations=0;var stopped=false;function flatDeep(iter,currentDepth){var this$0=this;iter.__iterate(function(v,k){if((!depth||currentDepth<depth)&&isIterable(v)){flatDeep(v,currentDepth+1)}else if(fn(v,useKeys?k:iterations++,this$0)===false){stopped=true}return!stopped},reverse)}flatDeep(iterable,0);return iterations};flatSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(type,reverse);var stack=[];var iterations=0;return new Iterator(function(){while(iterator){var step=iterator.next();if(step.done!==false){iterator=stack.pop();continue}var v=step.value;if(type===ITERATE_ENTRIES){v=v[1]}if((!depth||stack.length<depth)&&isIterable(v)){stack.push(iterator);iterator=v.__iterator(type,reverse)}else{return useKeys?step:iteratorValue(type,iterations++,v,step)}}return iteratorDone()})};return flatSequence}function flatMapFactory(iterable,mapper,context){var coerce=iterableClass(iterable);return iterable.toSeq().map(function(v,k){return coerce(mapper.call(context,v,k,iterable))}).flatten(true)}function interposeFactory(iterable,separator){var interposedSequence=makeSequence(iterable);interposedSequence.size=iterable.size&&iterable.size*2-1;interposedSequence.__iterateUncached=function(fn,reverse){var this$0=this;var iterations=0;iterable.__iterate(function(v,k){return(!iterations||fn(separator,iterations++,this$0)!==false)&&fn(v,iterations++,this$0)!==false},reverse);return iterations};interposedSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_VALUES,reverse);var iterations=0;var step;return new Iterator(function(){if(!step||iterations%2){step=iterator.next();if(step.done){return step}}return iterations%2?iteratorValue(type,iterations++,separator):iteratorValue(type,iterations++,step.value,step)})};return interposedSequence}function sortFactory(iterable,comparator,mapper){if(!comparator){comparator=defaultComparator}var isKeyedIterable=isKeyed(iterable);var index=0;var entries=iterable.toSeq().map(function(v,k){return[k,v,index++,mapper?mapper(v,k,iterable):v]}).toArray();entries.sort(function(a,b){return comparator(a[3],b[3])||a[2]-b[2]}).forEach(isKeyedIterable?function(v,i){entries[i].length=2}:function(v,i){entries[i]=v[1]});return isKeyedIterable?KeyedSeq(entries):isIndexed(iterable)?IndexedSeq(entries):SetSeq(entries)}function maxFactory(iterable,comparator,mapper){if(!comparator){comparator=defaultComparator}if(mapper){var entry=iterable.toSeq().map(function(v,k){return[v,mapper(v,k,iterable)]}).reduce(function(a,b){return maxCompare(comparator,a[1],b[1])?b:a});return entry&&entry[0]}else{return iterable.reduce(function(a,b){return maxCompare(comparator,a,b)?b:a})}}function maxCompare(comparator,a,b){var comp=comparator(b,a);return comp===0&&b!==a&&(b===undefined||b===null||b!==b)||comp>0}function zipWithFactory(keyIter,zipper,iters){var zipSequence=makeSequence(keyIter);zipSequence.size=new ArraySeq(iters).map(function(i){return i.size}).min();zipSequence.__iterate=function(fn,reverse){var iterator=this.__iterator(ITERATE_VALUES,reverse);var step;var iterations=0;while(!(step=iterator.next()).done){if(fn(step.value,iterations++,this)===false){break}}return iterations};zipSequence.__iteratorUncached=function(type,reverse){var iterators=iters.map(function(i){return i=Iterable(i),getIterator(reverse?i.reverse():i)});var iterations=0;var isDone=false;return new Iterator(function(){var steps;if(!isDone){steps=iterators.map(function(i){return i.next()});isDone=steps.some(function(s){return s.done})}if(isDone){return iteratorDone()}return iteratorValue(type,iterations++,zipper.apply(null,steps.map(function(s){return s.value})))})};return zipSequence}function reify(iter,seq){return isSeq(iter)?seq:iter.constructor(seq)}function validateEntry(entry){if(entry!==Object(entry)){throw new TypeError("Expected [K, V] tuple: "+entry)}}function resolveSize(iter){assertNotInfinite(iter.size);return ensureSize(iter)}function iterableClass(iterable){return isKeyed(iterable)?KeyedIterable:isIndexed(iterable)?IndexedIterable:SetIterable}function makeSequence(iterable){return Object.create((isKeyed(iterable)?KeyedSeq:isIndexed(iterable)?IndexedSeq:SetSeq).prototype)}function cacheResultThrough(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}else{return Seq.prototype.cacheResult.call(this)}}function defaultComparator(a,b){return a>b?1:a<b?-1:0}function forceIterator(keyPath){var iter=getIterator(keyPath);if(!iter){if(!isArrayLike(keyPath)){throw new TypeError("Expected iterable or array-like: "+keyPath)}iter=getIterator(Iterable(keyPath))}return iter}createClass(Record,KeyedCollection);function Record(defaultValues,name){var hasInitialized;var RecordType=function Record(values){if(values instanceof RecordType){return values}if(!(this instanceof RecordType)){return new RecordType(values)}if(!hasInitialized){hasInitialized=true;var keys=Object.keys(defaultValues);setProps(RecordTypePrototype,keys);RecordTypePrototype.size=keys.length;RecordTypePrototype._name=name;RecordTypePrototype._keys=keys;RecordTypePrototype._defaultValues=defaultValues}this._map=Map(values)};var RecordTypePrototype=RecordType.prototype=Object.create(RecordPrototype);RecordTypePrototype.constructor=RecordType;return RecordType}Record.prototype.toString=function(){return this.__toString(recordName(this)+" {","}")};Record.prototype.has=function(k){return this._defaultValues.hasOwnProperty(k)};Record.prototype.get=function(k,notSetValue){if(!this.has(k)){return notSetValue}var defaultVal=this._defaultValues[k];return this._map?this._map.get(k,defaultVal):defaultVal};Record.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this}var RecordType=this.constructor;return RecordType._empty||(RecordType._empty=makeRecord(this,emptyMap()))};Record.prototype.set=function(k,v){if(!this.has(k)){throw new Error('Cannot set unknown key "'+k+'" on '+recordName(this))}var newMap=this._map&&this._map.set(k,v);if(this.__ownerID||newMap===this._map){return this}return makeRecord(this,newMap)};Record.prototype.remove=function(k){if(!this.has(k)){return this}var newMap=this._map&&this._map.remove(k);if(this.__ownerID||newMap===this._map){return this}return makeRecord(this,newMap)};Record.prototype.wasAltered=function(){return this._map.wasAltered()};Record.prototype.__iterator=function(type,reverse){var this$0=this;return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k)}).__iterator(type,reverse)};Record.prototype.__iterate=function(fn,reverse){var this$0=this;return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k)}).__iterate(fn,reverse)};Record.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this}var newMap=this._map&&this._map.__ensureOwner(ownerID);if(!ownerID){this.__ownerID=ownerID;this._map=newMap;return this}return makeRecord(this,newMap,ownerID)};var RecordPrototype=Record.prototype;RecordPrototype[DELETE]=RecordPrototype.remove;RecordPrototype.deleteIn=RecordPrototype.removeIn=MapPrototype.removeIn;RecordPrototype.merge=MapPrototype.merge;RecordPrototype.mergeWith=MapPrototype.mergeWith;RecordPrototype.mergeIn=MapPrototype.mergeIn;RecordPrototype.mergeDeep=MapPrototype.mergeDeep;RecordPrototype.mergeDeepWith=MapPrototype.mergeDeepWith;RecordPrototype.mergeDeepIn=MapPrototype.mergeDeepIn;RecordPrototype.setIn=MapPrototype.setIn;RecordPrototype.update=MapPrototype.update;RecordPrototype.updateIn=MapPrototype.updateIn;RecordPrototype.withMutations=MapPrototype.withMutations;RecordPrototype.asMutable=MapPrototype.asMutable;RecordPrototype.asImmutable=MapPrototype.asImmutable;function makeRecord(likeRecord,map,ownerID){var record=Object.create(Object.getPrototypeOf(likeRecord));record._map=map;record.__ownerID=ownerID;return record}function recordName(record){return record._name||record.constructor.name||"Record"}function setProps(prototype,names){try{names.forEach(setProp.bind(undefined,prototype))}catch(error){}}function setProp(prototype,name){Object.defineProperty(prototype,name,{get:function(){return this.get(name)},set:function(value){invariant(this.__ownerID,"Cannot set on an immutable record.");this.set(name,value)}})}createClass(Set,SetCollection);function Set(value){return value===null||value===undefined?emptySet():isSet(value)&&!isOrdered(value)?value:emptySet().withMutations(function(set){var iter=SetIterable(value);assertNotInfinite(iter.size);iter.forEach(function(v){return set.add(v)})})}Set.of=function(){return this(arguments)};Set.fromKeys=function(value){return this(KeyedIterable(value).keySeq())};Set.prototype.toString=function(){return this.__toString("Set {","}")};Set.prototype.has=function(value){return this._map.has(value)};Set.prototype.add=function(value){return updateSet(this,this._map.set(value,true))};Set.prototype.remove=function(value){return updateSet(this,this._map.remove(value))};Set.prototype.clear=function(){return updateSet(this,this._map.clear())};Set.prototype.union=function(){var iters=SLICE$0.call(arguments,0);iters=iters.filter(function(x){return x.size!==0});if(iters.length===0){return this}if(this.size===0&&!this.__ownerID&&iters.length===1){return this.constructor(iters[0])}return this.withMutations(function(set){for(var ii=0;ii<iters.length;ii++){SetIterable(iters[ii]).forEach(function(value){return set.add(value)})}})};Set.prototype.intersect=function(){var iters=SLICE$0.call(arguments,0);if(iters.length===0){return this}iters=iters.map(function(iter){return SetIterable(iter)});var originalSet=this;return this.withMutations(function(set){originalSet.forEach(function(value){if(!iters.every(function(iter){return iter.includes(value)})){set.remove(value)}})})};Set.prototype.subtract=function(){var iters=SLICE$0.call(arguments,0);if(iters.length===0){return this}iters=iters.map(function(iter){return SetIterable(iter)});var originalSet=this;return this.withMutations(function(set){originalSet.forEach(function(value){if(iters.some(function(iter){return iter.includes(value)})){set.remove(value)}})})};Set.prototype.merge=function(){return this.union.apply(this,arguments)};Set.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return this.union.apply(this,iters)};Set.prototype.sort=function(comparator){return OrderedSet(sortFactory(this,comparator))};Set.prototype.sortBy=function(mapper,comparator){return OrderedSet(sortFactory(this,comparator,mapper))};Set.prototype.wasAltered=function(){return this._map.wasAltered()};Set.prototype.__iterate=function(fn,reverse){var this$0=this;return this._map.__iterate(function(_,k){return fn(k,k,this$0)},reverse)};Set.prototype.__iterator=function(type,reverse){return this._map.map(function(_,k){return k}).__iterator(type,reverse)};Set.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this}var newMap=this._map.__ensureOwner(ownerID);if(!ownerID){this.__ownerID=ownerID;this._map=newMap;return this}return this.__make(newMap,ownerID)};function isSet(maybeSet){return!!(maybeSet&&maybeSet[IS_SET_SENTINEL])}Set.isSet=isSet;var IS_SET_SENTINEL="@@__IMMUTABLE_SET__@@";var SetPrototype=Set.prototype;SetPrototype[IS_SET_SENTINEL]=true;SetPrototype[DELETE]=SetPrototype.remove;SetPrototype.mergeDeep=SetPrototype.merge;SetPrototype.mergeDeepWith=SetPrototype.mergeWith;SetPrototype.withMutations=MapPrototype.withMutations;SetPrototype.asMutable=MapPrototype.asMutable;SetPrototype.asImmutable=MapPrototype.asImmutable;SetPrototype.__empty=emptySet;SetPrototype.__make=makeSet;function updateSet(set,newMap){if(set.__ownerID){set.size=newMap.size;set._map=newMap;return set}return newMap===set._map?set:newMap.size===0?set.__empty():set.__make(newMap)}function makeSet(map,ownerID){var set=Object.create(SetPrototype);set.size=map?map.size:0;set._map=map;set.__ownerID=ownerID;return set}var EMPTY_SET;function emptySet(){return EMPTY_SET||(EMPTY_SET=makeSet(emptyMap()))}createClass(OrderedSet,Set);function OrderedSet(value){return value===null||value===undefined?emptyOrderedSet():isOrderedSet(value)?value:emptyOrderedSet().withMutations(function(set){var iter=SetIterable(value);assertNotInfinite(iter.size);iter.forEach(function(v){return set.add(v)})})}OrderedSet.of=function(){return this(arguments)};OrderedSet.fromKeys=function(value){return this(KeyedIterable(value).keySeq())};OrderedSet.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function isOrderedSet(maybeOrderedSet){return isSet(maybeOrderedSet)&&isOrdered(maybeOrderedSet)}OrderedSet.isOrderedSet=isOrderedSet;var OrderedSetPrototype=OrderedSet.prototype;OrderedSetPrototype[IS_ORDERED_SENTINEL]=true;OrderedSetPrototype.__empty=emptyOrderedSet;OrderedSetPrototype.__make=makeOrderedSet;function makeOrderedSet(map,ownerID){var set=Object.create(OrderedSetPrototype);set.size=map?map.size:0;set._map=map;set.__ownerID=ownerID;return set}var EMPTY_ORDERED_SET;function emptyOrderedSet(){return EMPTY_ORDERED_SET||(EMPTY_ORDERED_SET=makeOrderedSet(emptyOrderedMap()))}createClass(Stack,IndexedCollection);function Stack(value){return value===null||value===undefined?emptyStack():isStack(value)?value:emptyStack().unshiftAll(value)}Stack.of=function(){return this(arguments)};Stack.prototype.toString=function(){return this.__toString("Stack [","]")};Stack.prototype.get=function(index,notSetValue){var head=this._head;index=wrapIndex(this,index);while(head&&index--){head=head.next}return head?head.value:notSetValue};Stack.prototype.peek=function(){return this._head&&this._head.value};Stack.prototype.push=function(){
if(arguments.length===0){return this}var newSize=this.size+arguments.length;var head=this._head;for(var ii=arguments.length-1;ii>=0;ii--){head={value:arguments[ii],next:head}}if(this.__ownerID){this.size=newSize;this._head=head;this.__hash=undefined;this.__altered=true;return this}return makeStack(newSize,head)};Stack.prototype.pushAll=function(iter){iter=IndexedIterable(iter);if(iter.size===0){return this}assertNotInfinite(iter.size);var newSize=this.size;var head=this._head;iter.reverse().forEach(function(value){newSize++;head={value:value,next:head}});if(this.__ownerID){this.size=newSize;this._head=head;this.__hash=undefined;this.__altered=true;return this}return makeStack(newSize,head)};Stack.prototype.pop=function(){return this.slice(1)};Stack.prototype.unshift=function(){return this.push.apply(this,arguments)};Stack.prototype.unshiftAll=function(iter){return this.pushAll(iter)};Stack.prototype.shift=function(){return this.pop.apply(this,arguments)};Stack.prototype.clear=function(){if(this.size===0){return this}if(this.__ownerID){this.size=0;this._head=undefined;this.__hash=undefined;this.__altered=true;return this}return emptyStack()};Stack.prototype.slice=function(begin,end){if(wholeSlice(begin,end,this.size)){return this}var resolvedBegin=resolveBegin(begin,this.size);var resolvedEnd=resolveEnd(end,this.size);if(resolvedEnd!==this.size){return IndexedCollection.prototype.slice.call(this,begin,end)}var newSize=this.size-resolvedBegin;var head=this._head;while(resolvedBegin--){head=head.next}if(this.__ownerID){this.size=newSize;this._head=head;this.__hash=undefined;this.__altered=true;return this}return makeStack(newSize,head)};Stack.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this}if(!ownerID){this.__ownerID=ownerID;this.__altered=false;return this}return makeStack(this.size,this._head,ownerID,this.__hash)};Stack.prototype.__iterate=function(fn,reverse){if(reverse){return this.reverse().__iterate(fn)}var iterations=0;var node=this._head;while(node){if(fn(node.value,iterations++,this)===false){break}node=node.next}return iterations};Stack.prototype.__iterator=function(type,reverse){if(reverse){return this.reverse().__iterator(type)}var iterations=0;var node=this._head;return new Iterator(function(){if(node){var value=node.value;node=node.next;return iteratorValue(type,iterations++,value)}return iteratorDone()})};function isStack(maybeStack){return!!(maybeStack&&maybeStack[IS_STACK_SENTINEL])}Stack.isStack=isStack;var IS_STACK_SENTINEL="@@__IMMUTABLE_STACK__@@";var StackPrototype=Stack.prototype;StackPrototype[IS_STACK_SENTINEL]=true;StackPrototype.withMutations=MapPrototype.withMutations;StackPrototype.asMutable=MapPrototype.asMutable;StackPrototype.asImmutable=MapPrototype.asImmutable;StackPrototype.wasAltered=MapPrototype.wasAltered;function makeStack(size,head,ownerID,hash){var map=Object.create(StackPrototype);map.size=size;map._head=head;map.__ownerID=ownerID;map.__hash=hash;map.__altered=false;return map}var EMPTY_STACK;function emptyStack(){return EMPTY_STACK||(EMPTY_STACK=makeStack(0))}function mixin(ctor,methods){var keyCopier=function(key){ctor.prototype[key]=methods[key]};Object.keys(methods).forEach(keyCopier);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(methods).forEach(keyCopier);return ctor}Iterable.Iterator=Iterator;mixin(Iterable,{toArray:function(){assertNotInfinite(this.size);var array=new Array(this.size||0);this.valueSeq().__iterate(function(v,i){array[i]=v});return array},toIndexedSeq:function(){return new ToIndexedSequence(this)},toJS:function(){return this.toSeq().map(function(value){return value&&typeof value.toJS==="function"?value.toJS():value}).__toJS()},toJSON:function(){return this.toSeq().map(function(value){return value&&typeof value.toJSON==="function"?value.toJSON():value}).__toJS()},toKeyedSeq:function(){return new ToKeyedSequence(this,true)},toMap:function(){return Map(this.toKeyedSeq())},toObject:function(){assertNotInfinite(this.size);var object={};this.__iterate(function(v,k){object[k]=v});return object},toOrderedMap:function(){return OrderedMap(this.toKeyedSeq())},toOrderedSet:function(){return OrderedSet(isKeyed(this)?this.valueSeq():this)},toSet:function(){return Set(isKeyed(this)?this.valueSeq():this)},toSetSeq:function(){return new ToSetSequence(this)},toSeq:function(){return isIndexed(this)?this.toIndexedSeq():isKeyed(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Stack(isKeyed(this)?this.valueSeq():this)},toList:function(){return List(isKeyed(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(head,tail){if(this.size===0){return head+tail}return head+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+tail},concat:function(){var values=SLICE$0.call(arguments,0);return reify(this,concatFactory(this,values))},includes:function(searchValue){return this.some(function(value){return is(value,searchValue)})},entries:function(){return this.__iterator(ITERATE_ENTRIES)},every:function(predicate,context){assertNotInfinite(this.size);var returnValue=true;this.__iterate(function(v,k,c){if(!predicate.call(context,v,k,c)){returnValue=false;return false}});return returnValue},filter:function(predicate,context){return reify(this,filterFactory(this,predicate,context,true))},find:function(predicate,context,notSetValue){var entry=this.findEntry(predicate,context);return entry?entry[1]:notSetValue},findEntry:function(predicate,context){var found;this.__iterate(function(v,k,c){if(predicate.call(context,v,k,c)){found=[k,v];return false}});return found},findLastEntry:function(predicate,context){return this.toSeq().reverse().findEntry(predicate,context)},forEach:function(sideEffect,context){assertNotInfinite(this.size);return this.__iterate(context?sideEffect.bind(context):sideEffect)},join:function(separator){assertNotInfinite(this.size);separator=separator!==undefined?""+separator:",";var joined="";var isFirst=true;this.__iterate(function(v){isFirst?isFirst=false:joined+=separator;joined+=v!==null&&v!==undefined?v.toString():""});return joined},keys:function(){return this.__iterator(ITERATE_KEYS)},map:function(mapper,context){return reify(this,mapFactory(this,mapper,context))},reduce:function(reducer,initialReduction,context){assertNotInfinite(this.size);var reduction;var useFirst;if(arguments.length<2){useFirst=true}else{reduction=initialReduction}this.__iterate(function(v,k,c){if(useFirst){useFirst=false;reduction=v}else{reduction=reducer.call(context,reduction,v,k,c)}});return reduction},reduceRight:function(reducer,initialReduction,context){var reversed=this.toKeyedSeq().reverse();return reversed.reduce.apply(reversed,arguments)},reverse:function(){return reify(this,reverseFactory(this,true))},slice:function(begin,end){return reify(this,sliceFactory(this,begin,end,true))},some:function(predicate,context){return!this.every(not(predicate),context)},sort:function(comparator){return reify(this,sortFactory(this,comparator))},values:function(){return this.__iterator(ITERATE_VALUES)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==undefined?this.size===0:!this.some(function(){return true})},count:function(predicate,context){return ensureSize(predicate?this.toSeq().filter(predicate,context):this)},countBy:function(grouper,context){return countByFactory(this,grouper,context)},equals:function(other){return deepEqual(this,other)},entrySeq:function(){var iterable=this;if(iterable._cache){return new ArraySeq(iterable._cache)}var entriesSequence=iterable.toSeq().map(entryMapper).toIndexedSeq();entriesSequence.fromEntrySeq=function(){return iterable.toSeq()};return entriesSequence},filterNot:function(predicate,context){return this.filter(not(predicate),context)},findLast:function(predicate,context,notSetValue){return this.toKeyedSeq().reverse().find(predicate,context,notSetValue)},first:function(){return this.find(returnTrue)},flatMap:function(mapper,context){return reify(this,flatMapFactory(this,mapper,context))},flatten:function(depth){return reify(this,flattenFactory(this,depth,true))},fromEntrySeq:function(){return new FromEntriesSequence(this)},get:function(searchKey,notSetValue){return this.find(function(_,key){return is(key,searchKey)},undefined,notSetValue)},getIn:function(searchKeyPath,notSetValue){var nested=this;var iter=forceIterator(searchKeyPath);var step;while(!(step=iter.next()).done){var key=step.value;nested=nested&&nested.get?nested.get(key,NOT_SET):NOT_SET;if(nested===NOT_SET){return notSetValue}}return nested},groupBy:function(grouper,context){return groupByFactory(this,grouper,context)},has:function(searchKey){return this.get(searchKey,NOT_SET)!==NOT_SET},hasIn:function(searchKeyPath){return this.getIn(searchKeyPath,NOT_SET)!==NOT_SET},isSubset:function(iter){iter=typeof iter.includes==="function"?iter:Iterable(iter);return this.every(function(value){return iter.includes(value)})},isSuperset:function(iter){iter=typeof iter.isSubset==="function"?iter:Iterable(iter);return iter.isSubset(this)},keySeq:function(){return this.toSeq().map(keyMapper).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(comparator){return maxFactory(this,comparator)},maxBy:function(mapper,comparator){return maxFactory(this,comparator,mapper)},min:function(comparator){return maxFactory(this,comparator?neg(comparator):defaultNegComparator)},minBy:function(mapper,comparator){return maxFactory(this,comparator?neg(comparator):defaultNegComparator,mapper)},rest:function(){return this.slice(1)},skip:function(amount){return this.slice(Math.max(0,amount))},skipLast:function(amount){return reify(this,this.toSeq().reverse().skip(amount).reverse())},skipWhile:function(predicate,context){return reify(this,skipWhileFactory(this,predicate,context,true))},skipUntil:function(predicate,context){return this.skipWhile(not(predicate),context)},sortBy:function(mapper,comparator){return reify(this,sortFactory(this,comparator,mapper))},take:function(amount){return this.slice(0,Math.max(0,amount))},takeLast:function(amount){return reify(this,this.toSeq().reverse().take(amount).reverse())},takeWhile:function(predicate,context){return reify(this,takeWhileFactory(this,predicate,context))},takeUntil:function(predicate,context){return this.takeWhile(not(predicate),context)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=hashIterable(this))}});var IterablePrototype=Iterable.prototype;IterablePrototype[IS_ITERABLE_SENTINEL]=true;IterablePrototype[ITERATOR_SYMBOL]=IterablePrototype.values;IterablePrototype.__toJS=IterablePrototype.toArray;IterablePrototype.__toStringMapper=quoteString;IterablePrototype.inspect=IterablePrototype.toSource=function(){return this.toString()};IterablePrototype.chain=IterablePrototype.flatMap;IterablePrototype.contains=IterablePrototype.includes;(function(){try{Object.defineProperty(IterablePrototype,"length",{get:function(){if(!Iterable.noLengthWarning){var stack;try{throw new Error}catch(error){stack=error.stack}if(stack.indexOf("_wrapObject")===-1){console&&console.warn&&console.warn("iterable.length has been deprecated, "+"use iterable.size or iterable.count(). "+"This warning will become a silent error in a future version. "+stack);return this.size}}}})}catch(e){}})();mixin(KeyedIterable,{flip:function(){return reify(this,flipFactory(this))},findKey:function(predicate,context){var entry=this.findEntry(predicate,context);return entry&&entry[0]},findLastKey:function(predicate,context){return this.toSeq().reverse().findKey(predicate,context)},keyOf:function(searchValue){return this.findKey(function(value){return is(value,searchValue)})},lastKeyOf:function(searchValue){return this.findLastKey(function(value){return is(value,searchValue)})},mapEntries:function(mapper,context){var this$0=this;var iterations=0;return reify(this,this.toSeq().map(function(v,k){return mapper.call(context,[k,v],iterations++,this$0)}).fromEntrySeq())},mapKeys:function(mapper,context){var this$0=this;return reify(this,this.toSeq().flip().map(function(k,v){return mapper.call(context,k,v,this$0)}).flip())}});var KeyedIterablePrototype=KeyedIterable.prototype;KeyedIterablePrototype[IS_KEYED_SENTINEL]=true;KeyedIterablePrototype[ITERATOR_SYMBOL]=IterablePrototype.entries;KeyedIterablePrototype.__toJS=IterablePrototype.toObject;KeyedIterablePrototype.__toStringMapper=function(v,k){return JSON.stringify(k)+": "+quoteString(v)};mixin(IndexedIterable,{toKeyedSeq:function(){return new ToKeyedSequence(this,false)},filter:function(predicate,context){return reify(this,filterFactory(this,predicate,context,false))},findIndex:function(predicate,context){var entry=this.findEntry(predicate,context);return entry?entry[0]:-1},indexOf:function(searchValue){var key=this.toKeyedSeq().keyOf(searchValue);return key===undefined?-1:key},lastIndexOf:function(searchValue){var key=this.toKeyedSeq().reverse().keyOf(searchValue);return key===undefined?-1:key},reverse:function(){return reify(this,reverseFactory(this,false))},slice:function(begin,end){return reify(this,sliceFactory(this,begin,end,false))},splice:function(index,removeNum){var numArgs=arguments.length;removeNum=Math.max(removeNum|0,0);if(numArgs===0||numArgs===2&&!removeNum){return this}index=resolveBegin(index,index<0?this.count():this.size);var spliced=this.slice(0,index);return reify(this,numArgs===1?spliced:spliced.concat(arrCopy(arguments,2),this.slice(index+removeNum)))},findLastIndex:function(predicate,context){var key=this.toKeyedSeq().findLastKey(predicate,context);return key===undefined?-1:key},first:function(){return this.get(0)},flatten:function(depth){return reify(this,flattenFactory(this,depth,false))},get:function(index,notSetValue){index=wrapIndex(this,index);return index<0||(this.size===Infinity||this.size!==undefined&&index>this.size)?notSetValue:this.find(function(_,key){return key===index},undefined,notSetValue)},has:function(index){index=wrapIndex(this,index);return index>=0&&(this.size!==undefined?this.size===Infinity||index<this.size:this.indexOf(index)!==-1)},interpose:function(separator){return reify(this,interposeFactory(this,separator))},interleave:function(){var iterables=[this].concat(arrCopy(arguments));var zipped=zipWithFactory(this.toSeq(),IndexedSeq.of,iterables);var interleaved=zipped.flatten(true);if(zipped.size){interleaved.size=zipped.size*iterables.length}return reify(this,interleaved)},last:function(){return this.get(-1)},skipWhile:function(predicate,context){return reify(this,skipWhileFactory(this,predicate,context,false))},zip:function(){var iterables=[this].concat(arrCopy(arguments));return reify(this,zipWithFactory(this,defaultZipper,iterables))},zipWith:function(zipper){var iterables=arrCopy(arguments);iterables[0]=this;return reify(this,zipWithFactory(this,zipper,iterables))}});IndexedIterable.prototype[IS_INDEXED_SENTINEL]=true;IndexedIterable.prototype[IS_ORDERED_SENTINEL]=true;mixin(SetIterable,{get:function(value,notSetValue){return this.has(value)?value:notSetValue},includes:function(value){return this.has(value)},keySeq:function(){return this.valueSeq()}});SetIterable.prototype.has=IterablePrototype.includes;mixin(KeyedSeq,KeyedIterable.prototype);mixin(IndexedSeq,IndexedIterable.prototype);mixin(SetSeq,SetIterable.prototype);mixin(KeyedCollection,KeyedIterable.prototype);mixin(IndexedCollection,IndexedIterable.prototype);mixin(SetCollection,SetIterable.prototype);function keyMapper(v,k){return k}function entryMapper(v,k){return[k,v]}function not(predicate){return function(){return!predicate.apply(this,arguments)}}function neg(predicate){return function(){return-predicate.apply(this,arguments)}}function quoteString(value){return typeof value==="string"?JSON.stringify(value):value}function defaultZipper(){return arrCopy(arguments)}function defaultNegComparator(a,b){return a<b?1:a>b?-1:0}function hashIterable(iterable){if(iterable.size===Infinity){return 0}var ordered=isOrdered(iterable);var keyed=isKeyed(iterable);var h=ordered?1:0;var size=iterable.__iterate(keyed?ordered?function(v,k){h=31*h+hashMerge(hash(v),hash(k))|0}:function(v,k){h=h+hashMerge(hash(v),hash(k))|0}:ordered?function(v){h=31*h+hash(v)|0}:function(v){h=h+hash(v)|0});return murmurHashOfSize(size,h)}function murmurHashOfSize(size,h){h=imul(h,3432918353);h=imul(h<<15|h>>>-15,461845907);h=imul(h<<13|h>>>-13,5);h=(h+3864292196|0)^size;h=imul(h^h>>>16,2246822507);h=imul(h^h>>>13,3266489909);h=smi(h^h>>>16);return h}function hashMerge(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}var Immutable={Iterable:Iterable,Seq:Seq,Collection:Collection,Map:Map,OrderedMap:OrderedMap,List:List,Stack:Stack,Set:Set,OrderedSet:OrderedSet,Record:Record,Range:Range,Repeat:Repeat,is:is,fromJS:fromJS};return Immutable})},{}],207:[function(require,module,exports){(function(process){"use strict";var invariant=function(condition,format,a,b,c,d,e,f){if(process.env.NODE_ENV!=="production"){if(format===undefined){throw new Error("invariant requires an error message argument")}}if(!condition){var error;if(format===undefined){error=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error(format.replace(/%s/g,function(){return args[argIndex++]}));error.name="Invariant Violation"}error.framesToPop=1;throw error}};module.exports=invariant}).call(this,require("_process"))},{_process:216}],208:[function(require,module,exports){(function(global){var FUNC_ERROR_TEXT="Expected a function";var NAN=0/0;var symbolTag="[object Symbol]";var reTrim=/^\s+|\s+$/g;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsOctal=/^0o[0-7]+$/i;var freeParseInt=parseInt;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();var objectProto=Object.prototype;var objectToString=objectProto.toString;var nativeMax=Math.max,nativeMin=Math.min;var now=function(){return root.Date.now()};function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing="maxWait"in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing="trailing"in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,result=wait-timeSinceLastCall;return maxing?nativeMin(result,maxWait-timeSinceLastInvoke):result}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time)){return trailingEdge(time)}timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){timerId=undefined;if(trailing&&lastArgs){return invokeFunc(time)}lastArgs=lastThis=undefined;return result}function cancel(){if(timerId!==undefined){clearTimeout(timerId)}lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined){return leadingEdge(lastCallTime)}if(maxing){timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime)}}if(timerId===undefined){timerId=setTimeout(timerExpired,wait)}return result}debounced.cancel=cancel;debounced.flush=flush;return debounced}function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(isObject(options)){leading="leading"in options?!!options.leading:leading;trailing="trailing"in options?!!options.trailing:trailing}return debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isObjectLike(value){return!!value&&typeof value=="object"}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}if(isObject(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string"){return value===0?value:+value}value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}module.exports=throttle}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],209:[function(require,module,exports){var overArg=require("./_overArg");var getPrototype=overArg(Object.getPrototypeOf,Object);module.exports=getPrototype},{"./_overArg":210}],210:[function(require,module,exports){function overArg(func,transform){return function(arg){return func(transform(arg))}}module.exports=overArg},{}],211:[function(require,module,exports){function isObjectLike(value){return value!=null&&typeof value=="object"}module.exports=isObjectLike},{}],212:[function(require,module,exports){var getPrototype=require("./_getPrototype"),isObjectLike=require("./isObjectLike");var objectTag="[object Object]";var funcProto=Function.prototype,objectProto=Object.prototype;var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objectCtorString=funcToString.call(Object);var objectToString=objectProto.toString;function isPlainObject(value){if(!isObjectLike(value)||objectToString.call(value)!=objectTag){return false}var proto=getPrototype(value);if(proto===null){return true}var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}module.exports=isPlainObject},{"./_getPrototype":209,"./isObjectLike":211}],213:[function(require,module,exports){"use strict";var decodeCache={};function getDecodeCache(exclude){var i,ch,cache=decodeCache[exclude];if(cache){return cache}cache=decodeCache[exclude]=[];for(i=0;i<128;i++){ch=String.fromCharCode(i);cache.push(ch)}for(i=0;i<exclude.length;i++){ch=exclude.charCodeAt(i);cache[ch]="%"+("0"+ch.toString(16).toUpperCase()).slice(-2)}return cache}function decode(string,exclude){var cache;if(typeof exclude!=="string"){exclude=decode.defaultChars}cache=getDecodeCache(exclude);return string.replace(/(%[a-f0-9]{2})+/gi,function(seq){var i,l,b1,b2,b3,b4,chr,result="";for(i=0,l=seq.length;i<l;i+=3){b1=parseInt(seq.slice(i+1,i+3),16);if(b1<128){result+=cache[b1];continue}if((b1&224)===192&&i+3<l){b2=parseInt(seq.slice(i+4,i+6),16);if((b2&192)===128){chr=b1<<6&1984|b2&63;if(chr<128){result+="��"}else{result+=String.fromCharCode(chr)}i+=3;continue}}if((b1&240)===224&&i+6<l){b2=parseInt(seq.slice(i+4,i+6),16);b3=parseInt(seq.slice(i+7,i+9),16);if((b2&192)===128&&(b3&192)===128){chr=b1<<12&61440|b2<<6&4032|b3&63;if(chr<2048||chr>=55296&&chr<=57343){result+="���"}else{result+=String.fromCharCode(chr)}i+=6;continue}}if((b1&248)===240&&i+9<l){b2=parseInt(seq.slice(i+4,i+6),16);b3=parseInt(seq.slice(i+7,i+9),16);b4=parseInt(seq.slice(i+10,i+12),16);if((b2&192)===128&&(b3&192)===128&&(b4&192)===128){chr=b1<<18&1835008|b2<<12&258048|b3<<6&4032|b4&63;if(chr<65536||chr>1114111){result+="����"}else{chr-=65536;result+=String.fromCharCode(55296+(chr>>10),56320+(chr&1023))}i+=9;continue}}result+="�"}return result})}decode.defaultChars=";/?:@&=+$,#";decode.componentChars="";module.exports=decode},{}],214:[function(require,module,exports){"use strict";var encodeCache={};function getEncodeCache(exclude){var i,ch,cache=encodeCache[exclude];if(cache){return cache}cache=encodeCache[exclude]=[];for(i=0;i<128;i++){ch=String.fromCharCode(i);if(/^[0-9a-z]$/i.test(ch)){cache.push(ch)}else{cache.push("%"+("0"+i.toString(16).toUpperCase()).slice(-2))}}for(i=0;i<exclude.length;i++){cache[exclude.charCodeAt(i)]=exclude[i]}return cache}function encode(string,exclude,keepEscaped){var i,l,code,nextCode,cache,result="";if(typeof exclude!=="string"){keepEscaped=exclude;exclude=encode.defaultChars}if(typeof keepEscaped==="undefined"){keepEscaped=true}cache=getEncodeCache(exclude);for(i=0,l=string.length;i<l;i++){code=string.charCodeAt(i);if(keepEscaped&&code===37&&i+2<l){if(/^[0-9a-f]{2}$/i.test(string.slice(i+1,i+3))){result+=string.slice(i,i+3);i+=2;continue}}if(code<128){result+=cache[code];continue}if(code>=55296&&code<=57343){if(code>=55296&&code<=56319&&i+1<l){nextCode=string.charCodeAt(i+1);if(nextCode>=56320&&nextCode<=57343){result+=encodeURIComponent(string[i]+string[i+1]);i++;continue}}result+="%EF%BF%BD";continue}result+=encodeURIComponent(string[i])}return result}encode.defaultChars=";/?:@&=+$,-_.!~*'()#";encode.componentChars="-_.!~*'()";module.exports=encode},{}],215:[function(require,module,exports){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter});if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(Object.getOwnPropertySymbols){symbols=Object.getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},{}],216:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],217:[function(require,module,exports){module.exports=require("./lib")},{"./lib":219}],218:[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactDom=require("react-dom");var _reactDom2=_interopRequireDefault(_reactDom);var _autosize=require("autosize");var _autosize2=_interopRequireDefault(_autosize);var _tcombReact=require("tcomb-react");var UPDATE="autosize:update",DESTROY="autosize:destroy",RESIZED="autosize:resized";var Props={onResize:_tcombReact.t.maybe(_tcombReact.t.Function)};exports.Props=Props;var TextareaAutosize=function(_React$Component){_inherits(TextareaAutosize,_React$Component);
function TextareaAutosize(){var _this=this;_classCallCheck(this,_TextareaAutosize);_React$Component.apply(this,arguments);this.getTextareaDOMNode=function(){return _this.refs.textarea.nodeType===1?_this.refs.textarea:_reactDom2["default"].findDOMNode(_this.refs.textarea)};this.dispatchEvent=function(EVENT_TYPE,defer){var event=document.createEvent("Event");event.initEvent(EVENT_TYPE,true,false);var dispatch=function dispatch(){return _this.getTextareaDOMNode().dispatchEvent(event)};if(defer){setTimeout(dispatch)}else{dispatch()}};this.getValue=function(_ref){var valueLink=_ref.valueLink;var value=_ref.value;return valueLink?valueLink.value:value}}TextareaAutosize.prototype.componentDidMount=function componentDidMount(){_autosize2["default"](this.getTextareaDOMNode());if(this.props.onResize){this.getTextareaDOMNode().addEventListener(RESIZED,this.props.onResize)}};TextareaAutosize.prototype.componentWillUnmount=function componentWillUnmount(){if(this.props.onResize){this.getTextareaDOMNode().removeEventListener(RESIZED,this.props.onResize)}this.dispatchEvent(DESTROY)};TextareaAutosize.prototype.render=function render(){var _props=this.props;var children=_props.children;var onResize=_props.onResize;var props=_objectWithoutProperties(_props,["children","onResize"]);return _react2["default"].createElement("textarea",_extends({},props,{ref:"textarea"}),children)};TextareaAutosize.prototype.componentWillReceiveProps=function componentWillReceiveProps(nextProps){if(this.getValue(nextProps)!==this.getValue(this.props)){this.dispatchEvent(UPDATE,true)}};_createClass(TextareaAutosize,null,[{key:"defaultProps",value:{rows:1},enumerable:true}]);var _TextareaAutosize=TextareaAutosize;TextareaAutosize=_tcombReact.props(Props,{strict:false})(TextareaAutosize)||TextareaAutosize;return TextareaAutosize}(_react2["default"].Component);exports["default"]=TextareaAutosize},{autosize:1,react:397,"react-dom":220,"tcomb-react":412}],219:[function(require,module,exports){"use strict";exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _TextareaAutosizeJs=require("./TextareaAutosize.js");var _TextareaAutosizeJs2=_interopRequireDefault(_TextareaAutosizeJs);exports["default"]=_TextareaAutosizeJs2["default"];module.exports=exports["default"]},{"./TextareaAutosize.js":218}],220:[function(require,module,exports){"use strict";module.exports=require("react/lib/ReactDOM")},{"react/lib/ReactDOM":292}],221:[function(require,module,exports){var React=require("react"),Freezer=require("freezer-js"),objectAssign=require("object-assign"),TypeField=require("./src/TypeField"),ObjectField=require("./src/types/ObjectField"),ArrayField=require("./src/types/ArrayField"),StringField=require("./src/types/StringField"),BooleanField=require("./src/types/BooleanField"),NumberField=require("./src/types/NumberField"),TextField=require("./src/types/TextField"),PasswordField=require("./src/types/PasswordField"),SelectField=require("./src/types/SelectField"),deepSettings=require("./src/deepSettings");var flexboxClass=typeof document!="undefined"||"",css;if(flexboxClass){css=document.documentElement.style;if("flexWrap"in css||"webkitFlexWrap"in css||"msFlexWrap"in css)flexboxClass=" jsonFlex"}var Json=React.createClass({getDefaultProps:function(){return{value:{},errors:false,updating:false}},childContextTypes:{typeDefaults:React.PropTypes.object},getChildContext:function(){return{typeDefaults:this.state.defaults}},getInitialState:function(){var me=this,value=this.props.value,listener;if(!value.getListener)value=new Freezer(value).get();value.getListener().on("update",function(updated){if(me.state.updating)return me.setState({updating:false});me.setState({value:updated});if(me.state.errors)me.getValidationErrors();if(me.props.onChange)me.props.onChange(updated.toJS())});return{value:value,defaults:this.createDefaults(),id:this.getId()}},componentWillReceiveProps:function(newProps){if(!newProps.value.getListener){this.setState({updating:true,value:this.state.value.reset(newProps.value)})}this.setState({defaults:this.createDefaults()})},render:function(){var settings=this.props.settings||{},ob=React.createElement(TypeField,{type:"object",value:this.state.value,settings:objectAssign({},this.state.defaults.object,{fields:settings.fields,editing:this.getFormSetting(settings,"editing","always"),fixedFields:this.getFormSetting(settings,"fixedFields",true),adder:this.getFormSetting(settings,"adder",false),hiddenFields:settings.hiddenFields,header:false,order:settings.order}),ref:"value",defaults:this.state.defaults,id:this.state.id}),className="jsonEditor"+flexboxClass;return React.DOM.div({className:className},ob)},getValue:function(){return this.state.value.toJS()},getValidationErrors:function(){var jsonValue=this.getValue(),errors=this.refs.value.getValidationErrors(jsonValue);this.setState({errors:errors.length});return errors.length?errors:false},getDeepSettings:function(){var settings={};for(var key in deepSettings){settings[key]=deepSettings[key](this,settings[key])}return settings},createDefaults:function(){var settings=this.props.settings||{},components=TypeField.prototype.components,propDefaults=settings.defaults||{},defaults={};for(var type in components){defaults[type]=objectAssign({},components[type].prototype.defaults||{},propDefaults[type]||{})}return defaults},getId:function(){return btoa(parseInt(Math.random()*1e4)).replace(/=/g,"")},getFormSetting:function(settings,field,def){if(typeof settings[field]!="undefined")return settings[field];if(settings.form)return def}});Json.registerType=TypeField.registerType.bind(TypeField);Json.registerType("object",ObjectField);Json.registerType("array",ArrayField,true);Json.registerType("string",StringField,true);Json.registerType("text",TextField,true);Json.registerType("number",NumberField,true);Json.registerType("boolean",BooleanField,true);Json.registerType("password",PasswordField);Json.registerType("select",SelectField);module.exports=Json},{"./src/TypeField":227,"./src/deepSettings":228,"./src/types/ArrayField":229,"./src/types/BooleanField":230,"./src/types/NumberField":231,"./src/types/ObjectField":232,"./src/types/PasswordField":233,"./src/types/SelectField":234,"./src/types/StringField":235,"./src/types/TextField":236,"freezer-js":193,"object-assign":224,react:397}],222:[function(require,module,exports){"use strict";var React=require("react"),FieldAdder=require("../src/FieldAdder"),assign=require("object-assign");module.exports={renderHeader:function(){var settingsHeader=this.props.settings.header;if(settingsHeader===false)return"";var type=typeof settingsHeader,header;if(type=="function"){header=settingsHeader(this.props.value.toJS())}else if(type=="undefined"){header=this.getDefaultHeader()}else{header=settingsHeader}return React.DOM.span({key:"s",onClick:this.toggleEditing,className:"compoundToggle"},header)},toggleEditing:function(){if(this.state.editing!="always"&&this.props.settings.header!==false)this.setState({editing:!this.state.editing})},componentWillReceiveProps:function(nextProps){if(this.props.settings.editing!=nextProps.settings.editing)this.setState({editing:nextProps.editing})},renderAdder:function(name){var settingsAdder=this.props.settings.adder,type=typeof settingsAdder,adder;if(type=="function"){adder=settingsAdder(this.props.value.toJS())}else if(settingsAdder===true||type=="undefined"){adder=this.getDefaultAdder()}else{adder=settingsAdder}return React.createElement(FieldAdder,{onCreate:this.createField,name:name,key:"add",text:adder})},createField:function(key,value,definition){if(this.props.value[key])return console.log("Field "+key+" already exists.");definition.settings={editing:this.state.editing=="always"?"always":true,focus:true};var fields=assign({},this.state.fields);fields[key]=definition;this.setState({fields:fields});this.props.value.set(key,value)},checkEditingSetting:function(key){var fields=this.state.fields;if(fields[key]&&fields[key].settings.focus===true){fields=assign({},fields);fields[key].settings.focus=false;this.setState({fields:fields})}},getFixedFields:function(){var fields=this.props.settings.fixedFields,fixed={};if(fields&&fields.constructor==Array){fields.forEach(function(f){fixed[f]=1});return fixed}return fields}}},{"../src/FieldAdder":226,"object-assign":224,react:397}],223:[function(require,module,exports){"use strict";var React=require("react");module.exports={getStateFromProps:function(props){return{editing:props.settings.editing||false,value:props.value}},renderInput:function(){var className=this.typeClass;if(!this.state.editing)return React.DOM.span({onClick:this.setEditMode,className:className},this.getDisplayString());return React.DOM.input({type:this.inputType,value:this.state.value,id:this.props.id,placeholder:this.props.settings.placeholder||"",onChange:this.updateValue,onBlur:this.setValue,ref:"input",onKeyDown:this.handleKeyDown})},getDisplayString:function(){if(this.getDisplayModeString)return this.getDisplayModeString();if(this.props.value==="")return React.DOM.span({className:"jsonNovalue"},"No value");return this.props.value},componentWillReceiveProps:function(nextProps){var nextState={},update=false;if(this.props.value!=nextProps.value){update=true;nextState.value=nextProps.value}if(this.props.settings.editing!=nextProps.settings.editing){update=true;nextState.editing=nextProps.editing}if(update)this.setState(nextState)},componentDidUpdate:function(prevProps,prevState){if(this.state.editing&&!prevState.editing||this.props.settings.focus){this.focus()}},componentDidMount:function(){if(this.state.editing===true||this.props.settings.focus)this.focus()},setEditMode:function(){this.setState({editing:true})},setValue:function(){if(this.state.editing!="always")this.setState({editing:false});this.props.onUpdated(this.state.value)},toggleEditing:function(){this.setState({editing:!this.state.editing})},handleKeyDown:function(e){if(e.which==13)this.setValue()},focus:function(){var node=this.refs.input;if(node){node.focus();node.value=node.value}}}},{react:397}],224:[function(require,module,exports){"use strict";function ToObject(val){if(val==null){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}module.exports=Object.assign||function(target,source){var from;var keys;var to=ToObject(target);for(var s=1;s<arguments.length;s++){from=arguments[s];keys=Object.keys(Object(from));for(var i=0;i<keys.length;i++){to[keys[i]]=from[keys[i]]}}return to}},{}],225:[function(require,module,exports){"use strict";var React=require("react"),objectAssign=require("object-assign"),Validation=require("./validation"),TypeField=require("./TypeField");var Field=React.createClass({getInitialState:function(){return{error:false}},getDefaultProps:function(){return{definition:{}}},render:function(){var definition=this.props.definition||{},className="jsonField",type=definition.type||TypeField.prototype.guessType(this.props.value),id=this.props.id+"_"+this.props.name,error="",typeField;if(type=="react")return this.renderReactField(definition);typeField=this.renderTypeField(type,id);className+=" "+type+"Field";if(this.state.error){className+=" jsonError";if(this.state.error!==true)error=React.DOM.span({key:"e",className:"jsonErrorMsg"},this.state.error)}var jsonName=[React.DOM.label({key:"s1",htmlFor:id},(definition.title||this.props.name)+":")];if(this.props.fixed){jsonName.unshift(React.DOM.span({key:"f",className:"jsonFixed"}))}else{jsonName.unshift(React.DOM.a({key:"a",href:"#",className:"jsonRemove",onClick:this.handleRemove},"x"))}return React.DOM.div({className:className},[React.DOM.span({className:"jsonName",key:"n"},jsonName),React.DOM.span({className:"jsonValue",key:"v"},typeField),error])},renderTypeField:function(type,id){var definition=this.props.definition,settings=objectAssign({},definition.settings||{}),component;if(definition.fields)settings.fields=definition.fields;component=React.createElement(TypeField,{type:type,value:this.props.value,settings:settings,onUpdated:this.onUpdated,ref:"typeField",id:id,parentSettings:this.props.parentSettings});return component},renderReactField:function(definition){return React.DOM.div({className:"jsonField reactField"},definition.output)},handleRemove:function(e){this.props.onDeleted(this.props.name)},shouldComponentUpdate:function(nextProps,nextState){return nextProps.value!=this.props.value||nextState.error!=this.state.error},onUpdated:function(value){var definition=this.props.definition;if(this.props.value!==value){this.props.onUpdated(this.props.name,value);if(definition.onChange)definition.onChange(value,this.props.value)}},getValidationErrors:function(jsonValue){var childErrors=[],validates=this.props.definition.validates,name=this.props.name,field=this.refs.typeField;if(!field)return[];if(field.fieldType=="object"){childErrors=field.getValidationErrors(jsonValue);childErrors.forEach(function(error){if(!error.path)error.path=name;else error.path=name+"."+error.path});if(childErrors.length)this.setState({error:true})}if(!validates)return childErrors;var error=Validation.getValidationError(this.props.value,jsonValue,validates),message;if(error){message=this.props.definition.errorMessage;if(!message)message=(this.props.definition.label||this.props.name)+" value is not valid.";error.path=name;error.message=message;this.setState({error:message});childErrors=childErrors.concat([error])}else if(this.state.error){this.setState({error:false})}return childErrors}});module.exports=Field},{"./TypeField":227,"./validation":237,"object-assign":224,react:397}],226:[function(require,module,exports){var React=require("react"),TypeField=require("./TypeField");var FieldAdder=React.createClass({getInitialState:function(){return{creating:this.props.creating||false,name:this.props.name,type:"string"}},render:function(){if(!this.state.creating)return React.DOM.a({className:"jsonAdd",href:"#",onClick:this.handleCreate},this.props.text);var options=this.getTypes().map(function(type){return React.DOM.option({value:type,key:type},type[0].toUpperCase()+type.slice(1))}),fieldName;if(typeof this.props.name!="undefined")fieldName=[React.DOM.span({className:"jsonName"},this.props.name),React.DOM.span(null,":")];else{fieldName=[React.DOM.input({ref:"keyInput",type:"text",value:this.state.value,onChange:this.changeKey}),React.DOM.span(null,":")]}return React.DOM.div({className:"jsonField jsonFieldAdder"},[fieldName,React.DOM.select({key:"s",value:this.state.type,onChange:this.changeType,ref:"typeSelector"},options),React.DOM.button({key:"b",onClick:this.createField},"OK"),React.DOM.a({key:"a",href:"#",className:"cancelField",onClick:this.handleCancel},"Cancel")])},componentDidUpdate:function(prevProps,prevState){if(!prevState.creating&&this.state.creating){if(this.refs.keyInput)this.refs.keyInput.focus();else this.refs.typeSelector.focus()}},componentWillReceiveProps:function(newProps){this.setState({name:newProps.name})},handleCreate:function(e){e.preventDefault();this.setState({creating:true})},handleCancel:function(e){e.preventDefault();this.setState({creating:false})},changeType:function(e){this.setState({type:e.target.value})},changeKey:function(e){this.setState({name:e.target.value})},createField:function(){this.setState({creating:false});var value=TypeField.prototype.components[this.state.type].prototype.defaultValue;this.props.onCreate(this.state.name,value,{type:this.state.type})},getTypes:function(){return Object.keys(TypeField.prototype.components)}});module.exports=FieldAdder},{"./TypeField":227,react:397}],227:[function(require,module,exports){"use strict";var React=require("react"),deepSettings=require("./deepSettings"),objectAssign=require("object-assign");var components={};var typeCheckOrder=[];var TypeField=React.createClass({components:{},typeCheckOrder:[],contextTypes:{typeDefaults:React.PropTypes.object},render:function(){var Component=this.getComponent(),settings=objectAssign({},this.context.typeDefaults[this.props.type],this.props.settings);this.addDeepSettings(settings);return React.createElement(Component,{value:this.props.value,settings:settings,onUpdated:this.props.onUpdated,id:this.props.id,ref:"field"})},getComponent:function(){var type=this.props.type;if(!type)type=this.guessType(this.props.value);this.fieldType=type;return this.components[type]},guessType:function(value){var type=false,i=0,types=this.typeCheckOrder,component;while(!type&&i<types.length){component=this.components[types[i]].prototype;if(component.isType&&component.isType(value))type=types[i++];else i++}return type||"object"},getValidationErrors:function(jsonValue){return this.refs.field.getValidationErrors(jsonValue)},addDeepSettings:function(settings){var parentSettings=this.props.parentSettings||{},deep;for(var key in deepSettings){deep=deepSettings[key](parentSettings[key],settings[key]);if(typeof deep!="undefined")settings[key]=deep}}});TypeField.registerType=function(name,Component,selectable){var proto=TypeField.prototype;proto.components[name]=Component;if(selectable)proto.typeCheckOrder.unshift(name)};module.exports=TypeField},{"./deepSettings":228,"object-assign":224,react:397}],228:[function(require,module,exports){module.exports={editing:function(parentValue,value){if(typeof value!="undefined")return value;if(parentValue=="always")return"always"},adder:function(parentValue,value){if(typeof value!="undefined")return value;if(typeof parentValue!="undefined")return parentValue;return true},fixedFields:function(parentValue,value){if(typeof value!="undefined")return value;if(typeof parentValue=="boolean")return parentValue}}},{}],229:[function(require,module,exports){"use strict";var React=require("react"),Field=require("../Field"),assign=require("object-assign"),CompoundFieldMixin=require("../../mixins/CompoundFieldMixin");var ArrayField=React.createClass({mixins:[CompoundFieldMixin],getInitialState:function(){return this.getStateFromProps(this.props)},getStateFromProps:function(props){return{editing:props.settings.editing||false,fields:this.state&&this.state.fields||{}}},defaultValue:[],render:function(){var settings=this.props.settings,className=this.state.editing?"open jsonArray jsonCompound":"jsonArray jsonCompound",openArray="",fixedFields=this.getFixedFields(),definitions=this.state.fields;var attrs=[],definition,fixed;for(var i=0;i<this.props.value.length;i++){definition=definitions[i]||{};if(!definition.settings)definition.settings={};fixed=fixedFields===true||typeof fixedFields=="object"&&fixedFields[i];attrs.push(React.createElement(Field,{value:this.props.value[i],key:i,name:i,id:this.props.id,definition:definition,fixed:fixed,onUpdated:this.updateField,onDeleted:this.deleteField,parentSettings:this.props.settings}))}var openArrayChildren=[attrs];if(settings.adder!==false){openArrayChildren.push(this.renderAdder(this.props.value.length))}openArray=React.DOM.div({key:"o",className:"jsonChildren"},openArrayChildren);return React.DOM.span({className:className},[this.renderHeader(),openArray])},getDefaultHeader:function(){return"List ["+this.props.value.length+"]"},getDefaultAdder:function(){return"+ Add element"},updateField:function(key,value){this.checkEditingSetting(key);this.props.value.set(key,value)},deleteField:function(key){var fields={};for(var index in this.state.fields){if(index>key){fields[index-1]=this.state.fields[index]}else if(index<key){fields[index]=this.state.fields[index]}}this.props.value.splice(key,1);this.setState({fields:fields})},isType:function(value){return value&&value.constructor==Array}});module.exports=ArrayField},{"../../mixins/CompoundFieldMixin":222,"../Field":225,"object-assign":224,react:397}],230:[function(require,module,exports){var React=require("react");var BooleanField=React.createClass({defaultValue:false,render:function(){var className="jsonBoolean";return React.DOM.input({type:"checkbox",className:className,id:this.props.id,checked:this.props.value,onChange:this.updateValue})},updateValue:function(e){this.props.onUpdated(e.target.checked)},isType:function(value){return typeof value=="boolean"},componentWillReceiveProps:function(nextProps){if(this.props.value!=nextProps.value)this.setState({value:nextProps.value})}});module.exports=BooleanField},{react:397}],231:[function(require,module,exports){var React=require("react"),LeafMixin=require("../../mixins/LeafFieldMixin");var NumberField=React.createClass({mixins:[LeafMixin],typeClass:"jsonNumber",inputType:"number",defaultValue:"",getInitialState:function(){return this.getStateFromProps(this.props)},render:function(){return this.renderInput()},updateValue:function(e){this.setState({value:parseFloat(e.target.value)})},isType:function(value){return typeof value=="number"}});module.exports=NumberField},{"../../mixins/LeafFieldMixin":223,react:397}],232:[function(require,module,exports){"use strict";var React=require("react"),Field=require("../Field"),assign=require("object-assign"),CompoundFieldMixin=require("../../mixins/CompoundFieldMixin");var ObjectField=React.createClass({mixins:[CompoundFieldMixin],getInitialState:function(){return this.getStateFromProps(this.props)},getStateFromProps:function(props){return{editing:props.settings.editing||false,fields:assign({},props.settings&&props.settings.fields||{})}},defaultValue:{},render:function(){var me=this,settings=this.props.settings,className=this.state.editing||settings.header===false?"open jsonObject jsonCompound":"jsonObject jsonCompound",openHash="",definitions=this.state.fields,attrs=[],value=assign({},this.props.value),fixedFields=this.getFixedFields(),hidden=this.getHiddenFields(),groupCount=0,definition;this.getFieldOrder().forEach(function(field){if(field.constructor===Array){attrs.push(me.renderGroup(field,fixedFields,++groupCount))}else if(!hidden[field]){attrs.push(me.renderField(field,fixedFields))}});var openHashChildren=[attrs];if(settings.adder!==false){openHashChildren.push(this.renderAdder())}openHash=React.DOM.div({key:"o",className:"jsonChildren"},openHashChildren);return React.DOM.span({className:className},[this.renderHeader(),openHash])},renderField:function(key,fixedFields){var value=this.props.value[key],definition=this.state.fields[key]||{},fixed=fixedFields===true||typeof fixedFields=="object"&&fixedFields[key];if(!definition.settings)definition.settings={};return React.createElement(Field,{value:value,key:key,name:key,ref:key,fixed:fixed,id:this.props.id,definition:definition,onUpdated:this.updateField,onDeleted:this.deleteField,parentSettings:this.props.settings})},renderGroup:function(fieldNames,fixedFields,groupNumber){var me=this,fields=[];fieldNames.forEach(function(field){fields.push(me.renderField(field,fixedFields))});return React.DOM.div({className:"jsonGroup jsonGroup_"+groupNumber},fields)},getDefaultHeader:function(){return"Map ["+Object.keys(this.props.value).length+"]"},getDefaultAdder:function(){return"+ Add field"},updateField:function(key,value){this.checkEditingSetting(key);this.props.value.set(key,value)},deleteField:function(key){this.props.value.remove(key)},getValidationErrors:function(jsonValue){var me=this,errors=[],attrs=Object.keys(this.refs);attrs.forEach(function(attr){var error=me.refs[attr].getValidationErrors();if(error)errors=errors.concat(error)});return errors},getFieldOrder:function(){var me=this,settingsOrder=this.props.settings.order,orderType=typeof settingsOrder,fields=this.props.settings.fields||{},group;if(!settingsOrder||orderType!="function"&&settingsOrder.constructor!==Array)return Object.keys(this.props.value);var value=assign({},this.props.value),order=[];if(orderType=="function")return settingsOrder(value);if(settingsOrder.constructor===Array){settingsOrder.forEach(function(field){if(field.constructor==Array){group=[];field.forEach(function(groupField){if(me.addFieldToOrder(groupField,value,fields)){group.push(groupField);delete value[groupField]}});if(group.length)order.push(group)}else if(me.addFieldToOrder(field,value,fields)){order.push(field);delete value[field]}})}for(var key in value){if(order.indexOf(key)==-1)order.push(key)}return order},addFieldToOrder:function(field,value,fields){return typeof value[field]!="undefined"||fields[field]&&fields[field].type=="react"},getHiddenFields:function(){var hidden=this.props.settings.hiddenFields,fields={};if(!hidden)return fields;hidden.forEach(function(f){fields[f]=1});return fields}});module.exports=ObjectField},{"../../mixins/CompoundFieldMixin":222,"../Field":225,"object-assign":224,react:397}],233:[function(require,module,exports){var React=require("react"),LeafMixin=require("../../mixins/LeafFieldMixin");var PasswordField=React.createClass({mixins:[LeafMixin],typeClass:"jsonPassword",inputType:"password",defaultValue:"",getInitialState:function(){return this.getStateFromProps(this.props)},render:function(){return this.renderInput()},getDisplayModeString:function(){return this.getWildcards()},getWildcards:function(){var out="";for(var i=this.state.value.length-1;i>=0;i--){out+="*"}return out},isType:function(){return false},updateValue:function(e){this.setState({value:e.target.value})}});module.exports=PasswordField},{"../../mixins/LeafFieldMixin":223,react:397}],234:[function(require,module,exports){var React=require("react");var SelectType=React.createClass({defaultValue:"",getInitialState:function(){return{value:this.props.value}},render:function(){var className="jsonSelect";return React.DOM.select({className:className,id:this.props.id,value:this.props.value,onChange:this.updateValue},this.renderOptions())},renderOptions:function(){var opts=this.props.settings.options,options=[];if(!opts||!opts.length)return options;opts.forEach(function(opt){var data=opt;if(typeof opt!="object")data={value:opt,label:opt};options.push(React.DOM.option({value:data.value},data.label))});return options},updateValue:function(e){this.props.onUpdated(e.target.value)},componentWillReceiveProps:function(nextProps){if(this.props.value!=nextProps.value)this.setState({value:nextProps.value})}});module.exports=SelectType},{react:397}],235:[function(require,module,exports){var React=require("react"),LeafMixin=require("../../mixins/LeafFieldMixin");var StringField=React.createClass({mixins:[LeafMixin],typeClass:"jsonString",inputType:"text",defaultValue:"",getInitialState:function(){return this.getStateFromProps(this.props)},render:function(){return this.renderInput()},updateValue:function(e){this.setState({value:e.target.value})},isType:function(value){return typeof value!="object"}});module.exports=StringField},{"../../mixins/LeafFieldMixin":223,react:397}],236:[function(require,module,exports){var React=require("react"),LeafMixin=require("../../mixins/LeafFieldMixin");var TextField=React.createClass({mixins:[LeafMixin],defaultValue:"",getInitialState:function(){return this.getStateFromProps(this.props)},render:function(){var className="jsonText";if(!this.state.editing)return React.DOM.span({onClick:this.setEditMode,className:className},this.props.value);return React.DOM.textarea({value:this.state.value,id:this.props.id,onChange:this.updateValue,placeholder:this.props.settings.placeholder||"",onBlur:this.setValue,ref:"input"})},updateValue:function(e){this.setState({value:e.target.value})},isType:function(value){return typeof value=="string"&&value.length>100}});module.exports=TextField},{"../../mixins/LeafFieldMixin":223,react:397}],237:[function(require,module,exports){"use strict";var ValidationMethods={required:function(value){if(!value)return false;if(typeof value=="string"&&!value.trim())return false;return true},email:function(value){if(!value)return true;var re=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(value)},length:function(value,jsonValue,min,max){if(!min)min=0;if(!max)max=Infinity;return value.length>=min&&value.length<=max},integer:function(value,jsonValue,min,max){if(!min&&min!==0)min=-Infinity;if(!max)max=Infinity;if(!value&&value!=0)return true;var intVal=parseInt(value);if(value!=intVal)return false;return intVal<=max&&intVal>=min},checked:function(value){return value},matches:function(value,jsonValue,path){return value==findInTree(path.split("."),jsonValue)}};module.exports={getValidationError:function(value,jsonValue,validates){var methods=[],error=false,i=0;if(typeof validates=="string"){methods=parseMethodString(validates)}else if(typeof validates=="function"){methods=[validates]}else if(validates&&validates.constructor===Array){methods=validates}var definition,f,method;while(!error&&i<methods.length){method=methods[i++];if(typeof method=="string"){definition=parseMethodName(method);f=ValidationMethods[definition.name];if(!f)console.log("Unkown validation method "+definition.name);else if(!f.apply(null,[value,jsonValue].concat(definition.args))){error={value:value,method:method}}}else if(typeof method=="function"){if(!method(value,jsonValue))error={value:value,method:"custom"}}}return error}};var parseMethodString=function(string){return string.match(/[^\s\[]+(\[[^\]]+?\])?/gi)};var parseMethodName=function(methodStr){var parts=methodStr.split("["),definition={name:parts[0],args:[]},args;if(parts.length>1){args=parts[1];if(args[args.length-1]=="]")args=args.slice(0,args.length-1);definition.args=args.split(/\s*,\s*/)}return definition};var getFieldValue=function(field){var tagName=field.tagName.toLowerCase();if(tagName=="input"&&field.type=="checkbox"){return field.checked}if(tagName=="select"){return field.options[field.selectedIndex].value}return field.value};function findInTree(path,jsonValue){if(!path.length)return jsonValue;return findInTree(path.slice(1),jsonValue[path[0]])}},{}],238:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _formatJs=require("./format.js");var classNames=require("classnames");var CM=require("codemirror");var React=require("react");var ReactDOM=require("react-dom");var Icons=require("./icons");require("codemirror/mode/xml/xml");require("codemirror/mode/markdown/markdown");require("codemirror/addon/edit/continuelist");var MarkdownEditor=React.createClass({displayName:"MarkdownEditor",propTypes:{onChange:React.PropTypes.func,options:React.PropTypes.object,path:React.PropTypes.string,value:React.PropTypes.string},getInitialState:function getInitialState(){return{isFocused:false,cs:{}}},componentDidMount:function componentDidMount(){this.codeMirror=CM.fromTextArea(ReactDOM.findDOMNode(this.refs.codemirror),this.getOptions());this.codeMirror.on("change",this.codemirrorValueChanged);this.codeMirror.on("focus",this.focusChanged.bind(this,true));this.codeMirror.on("blur",this.focusChanged.bind(this,false));this.codeMirror.on("cursorActivity",this.updateCursorState);this._currentCodemirrorValue=this.props.value},getOptions:function getOptions(){return _extends({mode:"markdown",lineNumbers:false,indentWithTabs:true,tabSize:"2"},this.props.options)},componentWillUnmount:function componentWillUnmount(){if(this.codeMirror){this.codeMirror.toTextArea()}},componentWillReceiveProps:function componentWillReceiveProps(nextProps){if(this.codeMirror&&this._currentCodemirrorValue!==nextProps.value){this.codeMirror.setValue(nextProps.value)}},getCodeMirror:function getCodeMirror(){return this.codeMirror},focus:function focus(){if(this.codeMirror){this.codeMirror.focus()}},focusChanged:function focusChanged(focused){this.setState({isFocused:focused})},updateCursorState:function updateCursorState(){this.setState({cs:(0,_formatJs.getCursorState)(this.codeMirror)})},codemirrorValueChanged:function codemirrorValueChanged(doc,change){var newValue=doc.getValue();this._currentCodemirrorValue=newValue;this.props.onChange&&this.props.onChange(newValue)},toggleFormat:function toggleFormat(formatKey,e){
e.preventDefault();(0,_formatJs.applyFormat)(this.codeMirror,formatKey)},renderIcon:function renderIcon(icon){return React.createElement("span",{dangerouslySetInnerHTML:{__html:icon},className:"MDEditor_toolbarButton_icon"})},renderButton:function renderButton(formatKey,label,action){if(!action)action=this.toggleFormat.bind(this,formatKey);var isTextIcon=formatKey==="h1"||formatKey==="h2"||formatKey==="h3";var className=classNames("MDEditor_toolbarButton",{"MDEditor_toolbarButton--pressed":this.state.cs[formatKey]},"MDEditor_toolbarButton--"+formatKey);var labelClass=isTextIcon?"MDEditor_toolbarButton_label-icon":"MDEditor_toolbarButton_label";return React.createElement("button",{className:className,onClick:action,title:formatKey},isTextIcon?null:this.renderIcon(Icons[formatKey]),React.createElement("span",{className:labelClass},label))},renderToolbar:function renderToolbar(){return React.createElement("div",{className:"MDEditor_toolbar"},this.renderButton("h1","h1"),this.renderButton("h2","h2"),this.renderButton("h3","h3"),this.renderButton("bold","b"),this.renderButton("italic","i"),this.renderButton("oList","ol"),this.renderButton("uList","ul"),this.renderButton("quote","q"))},render:function render(){var editorClassName=classNames("MDEditor_editor",{"MDEditor_editor--focused":this.state.isFocused});return React.createElement("div",{className:"MDEditor"},this.renderToolbar(),React.createElement("div",{className:editorClassName},React.createElement("textarea",{ref:"codemirror",name:this.props.path,defaultValue:this.props.value,autoComplete:"off"})))}});exports["default"]=MarkdownEditor;module.exports=exports["default"]},{"./format.js":239,"./icons":241,classnames:2,codemirror:4,"codemirror/addon/edit/continuelist":3,"codemirror/mode/markdown/markdown":5,"codemirror/mode/xml/xml":7,react:397,"react-dom":220}],239:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getCursorState=getCursorState;exports.applyFormat=applyFormat;var FORMATS={h1:{type:"block",token:"header-1",before:"#",re:/^#\s+/,placeholder:"Heading"},h2:{type:"block",token:"header-2",before:"##",re:/^##\s+/,placeholder:"Heading"},h3:{type:"block",token:"header-3",before:"###",re:/^###\s+/,placeholder:"Heading"},bold:{type:"inline",token:"strong",before:"**",after:"**",placeholder:"bold text"},italic:{type:"inline",token:"em",before:"_",after:"_",placeholder:"italic text"},quote:{type:"block",token:"quote",re:/^\>\s+/,before:">",placeholder:"quote"},oList:{type:"block",before:"1. ",re:/^\d+\.\s+/,placeholder:"List"},uList:{type:"block",before:"* ",re:/^[\*\-]\s+/,placeholder:"List"}};var FORMAT_TOKENS={};Object.keys(FORMATS).forEach(function(key){if(FORMATS[key].token)FORMAT_TOKENS[FORMATS[key].token]=key});function getCursorState(cm,pos){pos=pos||cm.getCursor("start");var cs={};var token=cs.token=cm.getTokenAt(pos);if(!token.type)return cs;var tokens=token.type.split(" ");tokens.forEach(function(t){if(FORMAT_TOKENS[t]){cs[FORMAT_TOKENS[t]]=true;return}switch(t){case"link":cs.link=true;cs.link_label=true;break;case"string":cs.link=true;cs.link_href=true;break;case"variable-2":var text=cm.getLine(pos.line);if(/^\s*\d+\.\s/.test(text)){cs.oList=true}else{cs.uList=true}break}});return cs}function applyFormat(cm,key){var cs=getCursorState(cm);var format=FORMATS[key];operations[format.type+(cs[key]?"Remove":"Apply")](cm,format)}var operations={inlineApply:function inlineApply(cm,format){var startPoint=cm.getCursor("start");var endPoint=cm.getCursor("end");cm.replaceSelection(format.before+cm.getSelection()+format.after);startPoint.ch+=format.before.length;endPoint.ch+=format.after.length;cm.setSelection(startPoint,endPoint);cm.focus()},inlineRemove:function inlineRemove(cm,format){var startPoint=cm.getCursor("start");var endPoint=cm.getCursor("end");var line=cm.getLine(startPoint.line);var startPos=startPoint.ch;while(startPos){if(line.substr(startPos,format.before.length)===format.before){break}startPos--}var endPos=endPoint.ch;while(endPos<=line.length){if(line.substr(endPos,format.after.length)===format.after){break}endPos++}var start=line.slice(0,startPos);var mid=line.slice(startPos+format.before.length,endPos);var end=line.slice(endPos+format.after.length);cm.replaceRange(start+mid+end,{line:startPoint.line,ch:0},{line:startPoint.line,ch:line.length+1});cm.setSelection({line:startPoint.line,ch:start.length},{line:startPoint.line,ch:(start+mid).length});cm.focus()},blockApply:function blockApply(cm,format){var startPoint=cm.getCursor("start");var line=cm.getLine(startPoint.line);var text=format.before+" "+(line.length?line:format.placeholder);cm.replaceRange(text,{line:startPoint.line,ch:0},{line:startPoint.line,ch:line.length+1});cm.setSelection({line:startPoint.line,ch:format.before.length+1},{line:startPoint.line,ch:text.length});cm.focus()},blockRemove:function blockRemove(cm,format){var startPoint=cm.getCursor("start");var line=cm.getLine(startPoint.line);var text=line.replace(format.re,"");cm.replaceRange(text,{line:startPoint.line,ch:0},{line:startPoint.line,ch:line.length+1});cm.setSelection({line:startPoint.line,ch:0},{line:startPoint.line,ch:text.length});cm.focus()}}},{}],240:[function(require,module,exports){"use strict";module.exports='<svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M747 1521q74 32 140 32 376 0 376-335 0-114-41-180-27-44-61.5-74t-67.5-46.5-80.5-25-84-10.5-94.5-2q-73 0-101 10 0 53-.5 159t-.5 158q0 8-1 67.5t-.5 96.5 4.5 83.5 12 66.5zm-14-746q42 7 109 7 82 0 143-13t110-44.5 74.5-89.5 25.5-142q0-70-29-122.5t-79-82-108-43.5-124-14q-50 0-130 13 0 50 4 151t4 152q0 27-.5 80t-.5 79q0 46 1 69zm-541 889l2-94q15-4 85-16t106-27q7-12 12.5-27t8.5-33.5 5.5-32.5 3-37.5.5-34v-65.5q0-982-22-1025-4-8-22-14.5t-44.5-11-49.5-7-48.5-4.5-30.5-3l-4-83q98-2 340-11.5t373-9.5q23 0 68.5.5t67.5.5q70 0 136.5 13t128.5 42 108 71 74 104.5 28 137.5q0 52-16.5 95.5t-39 72-64.5 57.5-73 45-84 40q154 35 256.5 134t102.5 248q0 100-35 179.5t-93.5 130.5-138 85.5-163.5 48.5-176 14q-44 0-132-3t-132-3q-106 0-307 11t-231 12z"/></svg>'},{}],241:[function(require,module,exports){"use strict";module.exports={bold:require("./bold"),italic:require("./italic"),link:require("./link"),uList:require("./uList"),oList:require("./oList"),quote:require("./quote")}},{"./bold":240,"./italic":242,"./link":243,"./oList":244,"./quote":245,"./uList":246}],242:[function(require,module,exports){"use strict";module.exports='<svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M384 1662l17-85q6-2 81.5-21.5t111.5-37.5q28-35 41-101 1-7 62-289t114-543.5 52-296.5v-25q-24-13-54.5-18.5t-69.5-8-58-5.5l19-103q33 2 120 6.5t149.5 7 120.5 2.5q48 0 98.5-2.5t121-7 98.5-6.5q-5 39-19 89-30 10-101.5 28.5t-108.5 33.5q-8 19-14 42.5t-9 40-7.5 45.5-6.5 42q-27 148-87.5 419.5t-77.5 355.5q-2 9-13 58t-20 90-16 83.5-6 57.5l1 18q17 4 185 31-3 44-16 99-11 0-32.5 1.5t-32.5 1.5q-29 0-87-10t-86-10q-138-2-206-2-51 0-143 9t-121 11z"/></svg>'},{}],243:[function(require,module,exports){"use strict";module.exports='<svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z"/></svg>'},{}],244:[function(require,module,exports){"use strict";module.exports='<svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M381 1620q0 80-54.5 126t-135.5 46q-106 0-172-66l57-88q49 45 106 45 29 0 50.5-14.5t21.5-42.5q0-64-105-56l-26-56q8-10 32.5-43.5t42.5-54 37-38.5v-1q-16 0-48.5 1t-48.5 1v53h-106v-152h333v88l-95 115q51 12 81 49t30 88zm2-627v159h-362q-6-36-6-54 0-51 23.5-93t56.5-68 66-47.5 56.5-43.5 23.5-45q0-25-14.5-38.5t-39.5-13.5q-46 0-81 58l-85-59q24-51 71.5-79.5t105.5-28.5q73 0 123 41.5t50 112.5q0 50-34 91.5t-75 64.5-75.5 50.5-35.5 52.5h127v-60h105zm1409 319v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-14 9-23t23-9h1216q13 0 22.5 9.5t9.5 22.5zm-1408-899v99h-335v-99h107q0-41 .5-122t.5-121v-12h-2q-8 17-50 54l-71-76 136-127h106v404h108zm1408 387v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-14 9-23t23-9h1216q13 0 22.5 9.5t9.5 22.5zm0-512v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5z"/></svg>'},{}],245:[function(require,module,exports){"use strict";module.exports='<svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M832 960v384q0 80-56 136t-136 56h-384q-80 0-136-56t-56-136v-704q0-104 40.5-198.5t109.5-163.5 163.5-109.5 198.5-40.5h64q26 0 45 19t19 45v128q0 26-19 45t-45 19h-64q-106 0-181 75t-75 181v32q0 40 28 68t68 28h224q80 0 136 56t56 136zm896 0v384q0 80-56 136t-136 56h-384q-80 0-136-56t-56-136v-704q0-104 40.5-198.5t109.5-163.5 163.5-109.5 198.5-40.5h64q26 0 45 19t19 45v128q0 26-19 45t-45 19h-64q-106 0-181 75t-75 181v32q0 40 28 68t68 28h224q80 0 136 56t56 136z"/></svg>'},{}],246:[function(require,module,exports){"use strict";module.exports='<svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M384 1408q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm0-512q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm1408 416v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5zm-1408-928q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm1408 416v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5zm0-512v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5z"/></svg>'},{}],247:[function(require,module,exports){(function(process){"use strict";exports.__esModule=true;exports["default"]=undefined;var _react=require("react");var _storeShape=require("../utils/storeShape");var _storeShape2=_interopRequireDefault(_storeShape);var _warning=require("../utils/warning");var _warning2=_interopRequireDefault(_warning);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var didWarnAboutReceivingStore=false;function warnAboutReceivingStore(){if(didWarnAboutReceivingStore){return}didWarnAboutReceivingStore=true;(0,_warning2["default"])("<Provider> does not support changing `store` on the fly. "+"It is most likely that you see this error because you updated to "+"Redux 2.x and React Redux 2.x which no longer hot reload reducers "+"automatically. See https://github.com/reactjs/react-redux/releases/"+"tag/v2.0.0 for the migration instructions.")}var Provider=function(_Component){_inherits(Provider,_Component);Provider.prototype.getChildContext=function getChildContext(){return{store:this.store}};function Provider(props,context){_classCallCheck(this,Provider);var _this=_possibleConstructorReturn(this,_Component.call(this,props,context));_this.store=props.store;return _this}Provider.prototype.render=function render(){var children=this.props.children;return _react.Children.only(children)};return Provider}(_react.Component);exports["default"]=Provider;if(process.env.NODE_ENV!=="production"){Provider.prototype.componentWillReceiveProps=function(nextProps){var store=this.store;var nextStore=nextProps.store;if(store!==nextStore){warnAboutReceivingStore()}}}Provider.propTypes={store:_storeShape2["default"].isRequired,children:_react.PropTypes.element.isRequired};Provider.childContextTypes={store:_storeShape2["default"].isRequired}}).call(this,require("_process"))},{"../utils/storeShape":251,"../utils/warning":252,_process:216,react:397}],248:[function(require,module,exports){(function(process){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.__esModule=true;exports["default"]=connect;var _react=require("react");var _storeShape=require("../utils/storeShape");var _storeShape2=_interopRequireDefault(_storeShape);var _shallowEqual=require("../utils/shallowEqual");var _shallowEqual2=_interopRequireDefault(_shallowEqual);var _wrapActionCreators=require("../utils/wrapActionCreators");var _wrapActionCreators2=_interopRequireDefault(_wrapActionCreators);var _warning=require("../utils/warning");var _warning2=_interopRequireDefault(_warning);var _isPlainObject=require("lodash/isPlainObject");var _isPlainObject2=_interopRequireDefault(_isPlainObject);var _hoistNonReactStatics=require("hoist-non-react-statics");var _hoistNonReactStatics2=_interopRequireDefault(_hoistNonReactStatics);var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var defaultMapStateToProps=function defaultMapStateToProps(state){return{}};var defaultMapDispatchToProps=function defaultMapDispatchToProps(dispatch){return{dispatch:dispatch}};var defaultMergeProps=function defaultMergeProps(stateProps,dispatchProps,parentProps){return _extends({},parentProps,stateProps,dispatchProps)};function getDisplayName(WrappedComponent){return WrappedComponent.displayName||WrappedComponent.name||"Component"}var errorObject={value:null};function tryCatch(fn,ctx){try{return fn.apply(ctx)}catch(e){errorObject.value=e;return errorObject}}var nextVersion=0;function connect(mapStateToProps,mapDispatchToProps,mergeProps){var options=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];var shouldSubscribe=Boolean(mapStateToProps);var mapState=mapStateToProps||defaultMapStateToProps;var mapDispatch=undefined;if(typeof mapDispatchToProps==="function"){mapDispatch=mapDispatchToProps}else if(!mapDispatchToProps){mapDispatch=defaultMapDispatchToProps}else{mapDispatch=(0,_wrapActionCreators2["default"])(mapDispatchToProps)}var finalMergeProps=mergeProps||defaultMergeProps;var _options$pure=options.pure;var pure=_options$pure===undefined?true:_options$pure;var _options$withRef=options.withRef;var withRef=_options$withRef===undefined?false:_options$withRef;var checkMergedEquals=pure&&finalMergeProps!==defaultMergeProps;var version=nextVersion++;return function wrapWithConnect(WrappedComponent){var connectDisplayName="Connect("+getDisplayName(WrappedComponent)+")";function checkStateShape(props,methodName){if(!(0,_isPlainObject2["default"])(props)){(0,_warning2["default"])(methodName+"() in "+connectDisplayName+" must return a plain object. "+("Instead received "+props+"."))}}function computeMergedProps(stateProps,dispatchProps,parentProps){var mergedProps=finalMergeProps(stateProps,dispatchProps,parentProps);if(process.env.NODE_ENV!=="production"){checkStateShape(mergedProps,"mergeProps")}return mergedProps}var Connect=function(_Component){_inherits(Connect,_Component);Connect.prototype.shouldComponentUpdate=function shouldComponentUpdate(){return!pure||this.haveOwnPropsChanged||this.hasStoreStateChanged};function Connect(props,context){_classCallCheck(this,Connect);var _this=_possibleConstructorReturn(this,_Component.call(this,props,context));_this.version=version;_this.store=props.store||context.store;(0,_invariant2["default"])(_this.store,'Could not find "store" in either the context or '+('props of "'+connectDisplayName+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+connectDisplayName+'".'));var storeState=_this.store.getState();_this.state={storeState:storeState};_this.clearCache();return _this}Connect.prototype.computeStateProps=function computeStateProps(store,props){if(!this.finalMapStateToProps){return this.configureFinalMapState(store,props)}var state=store.getState();var stateProps=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(state,props):this.finalMapStateToProps(state);if(process.env.NODE_ENV!=="production"){checkStateShape(stateProps,"mapStateToProps")}return stateProps};Connect.prototype.configureFinalMapState=function configureFinalMapState(store,props){var mappedState=mapState(store.getState(),props);var isFactory=typeof mappedState==="function";this.finalMapStateToProps=isFactory?mappedState:mapState;this.doStatePropsDependOnOwnProps=this.finalMapStateToProps.length!==1;if(isFactory){return this.computeStateProps(store,props)}if(process.env.NODE_ENV!=="production"){checkStateShape(mappedState,"mapStateToProps")}return mappedState};Connect.prototype.computeDispatchProps=function computeDispatchProps(store,props){if(!this.finalMapDispatchToProps){return this.configureFinalMapDispatch(store,props)}var dispatch=store.dispatch;var dispatchProps=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(dispatch,props):this.finalMapDispatchToProps(dispatch);if(process.env.NODE_ENV!=="production"){checkStateShape(dispatchProps,"mapDispatchToProps")}return dispatchProps};Connect.prototype.configureFinalMapDispatch=function configureFinalMapDispatch(store,props){var mappedDispatch=mapDispatch(store.dispatch,props);var isFactory=typeof mappedDispatch==="function";this.finalMapDispatchToProps=isFactory?mappedDispatch:mapDispatch;this.doDispatchPropsDependOnOwnProps=this.finalMapDispatchToProps.length!==1;if(isFactory){return this.computeDispatchProps(store,props)}if(process.env.NODE_ENV!=="production"){checkStateShape(mappedDispatch,"mapDispatchToProps")}return mappedDispatch};Connect.prototype.updateStatePropsIfNeeded=function updateStatePropsIfNeeded(){var nextStateProps=this.computeStateProps(this.store,this.props);if(this.stateProps&&(0,_shallowEqual2["default"])(nextStateProps,this.stateProps)){return false}this.stateProps=nextStateProps;return true};Connect.prototype.updateDispatchPropsIfNeeded=function updateDispatchPropsIfNeeded(){var nextDispatchProps=this.computeDispatchProps(this.store,this.props);if(this.dispatchProps&&(0,_shallowEqual2["default"])(nextDispatchProps,this.dispatchProps)){return false}this.dispatchProps=nextDispatchProps;return true};Connect.prototype.updateMergedPropsIfNeeded=function updateMergedPropsIfNeeded(){var nextMergedProps=computeMergedProps(this.stateProps,this.dispatchProps,this.props);if(this.mergedProps&&checkMergedEquals&&(0,_shallowEqual2["default"])(nextMergedProps,this.mergedProps)){return false}this.mergedProps=nextMergedProps;return true};Connect.prototype.isSubscribed=function isSubscribed(){return typeof this.unsubscribe==="function"};Connect.prototype.trySubscribe=function trySubscribe(){if(shouldSubscribe&&!this.unsubscribe){this.unsubscribe=this.store.subscribe(this.handleChange.bind(this));this.handleChange()}};Connect.prototype.tryUnsubscribe=function tryUnsubscribe(){if(this.unsubscribe){this.unsubscribe();this.unsubscribe=null}};Connect.prototype.componentDidMount=function componentDidMount(){this.trySubscribe()};Connect.prototype.componentWillReceiveProps=function componentWillReceiveProps(nextProps){if(!pure||!(0,_shallowEqual2["default"])(nextProps,this.props)){this.haveOwnPropsChanged=true}};Connect.prototype.componentWillUnmount=function componentWillUnmount(){this.tryUnsubscribe();this.clearCache()};Connect.prototype.clearCache=function clearCache(){this.dispatchProps=null;this.stateProps=null;this.mergedProps=null;this.haveOwnPropsChanged=true;this.hasStoreStateChanged=true;this.haveStatePropsBeenPrecalculated=false;this.statePropsPrecalculationError=null;this.renderedElement=null;this.finalMapDispatchToProps=null;this.finalMapStateToProps=null};Connect.prototype.handleChange=function handleChange(){if(!this.unsubscribe){return}var storeState=this.store.getState();var prevStoreState=this.state.storeState;if(pure&&prevStoreState===storeState){return}if(pure&&!this.doStatePropsDependOnOwnProps){var haveStatePropsChanged=tryCatch(this.updateStatePropsIfNeeded,this);if(!haveStatePropsChanged){return}if(haveStatePropsChanged===errorObject){this.statePropsPrecalculationError=errorObject.value}this.haveStatePropsBeenPrecalculated=true}this.hasStoreStateChanged=true;this.setState({storeState:storeState})};Connect.prototype.getWrappedInstance=function getWrappedInstance(){(0,_invariant2["default"])(withRef,"To access the wrapped instance, you need to specify "+"{ withRef: true } as the fourth argument of the connect() call.");return this.refs.wrappedInstance};Connect.prototype.render=function render(){var haveOwnPropsChanged=this.haveOwnPropsChanged;var hasStoreStateChanged=this.hasStoreStateChanged;var haveStatePropsBeenPrecalculated=this.haveStatePropsBeenPrecalculated;var statePropsPrecalculationError=this.statePropsPrecalculationError;var renderedElement=this.renderedElement;this.haveOwnPropsChanged=false;this.hasStoreStateChanged=false;this.haveStatePropsBeenPrecalculated=false;this.statePropsPrecalculationError=null;if(statePropsPrecalculationError){throw statePropsPrecalculationError}var shouldUpdateStateProps=true;var shouldUpdateDispatchProps=true;if(pure&&renderedElement){shouldUpdateStateProps=hasStoreStateChanged||haveOwnPropsChanged&&this.doStatePropsDependOnOwnProps;shouldUpdateDispatchProps=haveOwnPropsChanged&&this.doDispatchPropsDependOnOwnProps}var haveStatePropsChanged=false;var haveDispatchPropsChanged=false;if(haveStatePropsBeenPrecalculated){haveStatePropsChanged=true}else if(shouldUpdateStateProps){haveStatePropsChanged=this.updateStatePropsIfNeeded()}if(shouldUpdateDispatchProps){haveDispatchPropsChanged=this.updateDispatchPropsIfNeeded()}var haveMergedPropsChanged=true;if(haveStatePropsChanged||haveDispatchPropsChanged||haveOwnPropsChanged){haveMergedPropsChanged=this.updateMergedPropsIfNeeded()}else{haveMergedPropsChanged=false}if(!haveMergedPropsChanged&&renderedElement){return renderedElement}if(withRef){this.renderedElement=(0,_react.createElement)(WrappedComponent,_extends({},this.mergedProps,{ref:"wrappedInstance"}))}else{this.renderedElement=(0,_react.createElement)(WrappedComponent,this.mergedProps)}return this.renderedElement};return Connect}(_react.Component);Connect.displayName=connectDisplayName;Connect.WrappedComponent=WrappedComponent;Connect.contextTypes={store:_storeShape2["default"]};Connect.propTypes={store:_storeShape2["default"]};if(process.env.NODE_ENV!=="production"){Connect.prototype.componentWillUpdate=function componentWillUpdate(){if(this.version===version){return}this.version=version;this.trySubscribe();this.clearCache()}}return(0,_hoistNonReactStatics2["default"])(Connect,WrappedComponent)}}}).call(this,require("_process"))},{"../utils/shallowEqual":250,"../utils/storeShape":251,"../utils/warning":252,"../utils/wrapActionCreators":253,_process:216,"hoist-non-react-statics":205,invariant:207,"lodash/isPlainObject":212,react:397}],249:[function(require,module,exports){"use strict";exports.__esModule=true;exports.connect=exports.Provider=undefined;var _Provider=require("./components/Provider");var _Provider2=_interopRequireDefault(_Provider);var _connect=require("./components/connect");var _connect2=_interopRequireDefault(_connect);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.Provider=_Provider2["default"];exports.connect=_connect2["default"]},{"./components/Provider":247,"./components/connect":248}],250:[function(require,module,exports){"use strict";exports.__esModule=true;exports["default"]=shallowEqual;function shallowEqual(objA,objB){if(objA===objB){return true}var keysA=Object.keys(objA);var keysB=Object.keys(objB);if(keysA.length!==keysB.length){return false}var hasOwn=Object.prototype.hasOwnProperty;for(var i=0;i<keysA.length;i++){if(!hasOwn.call(objB,keysA[i])||objA[keysA[i]]!==objB[keysA[i]]){return false}}return true}},{}],251:[function(require,module,exports){"use strict";exports.__esModule=true;var _react=require("react");exports["default"]=_react.PropTypes.shape({subscribe:_react.PropTypes.func.isRequired,dispatch:_react.PropTypes.func.isRequired,getState:_react.PropTypes.func.isRequired})},{react:397}],252:[function(require,module,exports){"use strict";exports.__esModule=true;exports["default"]=warning;function warning(message){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(message)}try{throw new Error(message)}catch(e){}}},{}],253:[function(require,module,exports){"use strict";exports.__esModule=true;exports["default"]=wrapActionCreators;var _redux=require("redux");function wrapActionCreators(actionCreators){return function(dispatch){return(0,_redux.bindActionCreators)(actionCreators,dispatch)}}},{redux:404}],254:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var _react=require("react");var _react2=_interopRequireDefault(_react);var TreeView=_react2["default"].createClass({displayName:"TreeView",propTypes:{collapsed:_react.PropTypes.bool,defaultCollapsed:_react.PropTypes.bool,nodeLabel:_react.PropTypes.node.isRequired,className:_react.PropTypes.string,itemClassName:_react.PropTypes.string},getInitialState:function getInitialState(){return{collapsed:this.props.defaultCollapsed}},handleClick:function handleClick(){this.setState({collapsed:!this.state.collapsed});if(this.props.onClick){var _props;(_props=this.props).onClick.apply(_props,arguments)}},render:function render(){var _props2=this.props;var _props2$collapsed=_props2.collapsed;var collapsed=_props2$collapsed===undefined?this.state.collapsed:_props2$collapsed;var _props2$className=_props2.className;var className=_props2$className===undefined?"":_props2$className;var _props2$itemClassName=_props2.itemClassName;var itemClassName=_props2$itemClassName===undefined?"":_props2$itemClassName;var nodeLabel=_props2.nodeLabel;var children=_props2.children;var rest=_objectWithoutProperties(_props2,["collapsed","defaultCollapsed","className","itemClassName","nodeLabel","children"]);var arrowClassName="tree-view_arrow";var containerClassName="tree-view_children";if(collapsed){arrowClassName+=" tree-view_arrow-collapsed";containerClassName+=" tree-view_children-collapsed"}var arrow=_react2["default"].createElement("div",_extends({},rest,{className:className+" "+arrowClassName,onClick:this.handleClick}));return _react2["default"].createElement("div",{className:"tree-view"},_react2["default"].createElement("div",{className:"tree-view_item "+itemClassName},arrow,nodeLabel),_react2["default"].createElement("div",{className:containerClassName},children))}});exports["default"]=TreeView;module.exports=exports["default"]},{react:397}],255:[function(require,module,exports){"use strict";var ReactDOMComponentTree=require("./ReactDOMComponentTree");var focusNode=require("fbjs/lib/focusNode");var AutoFocusUtils={focusDOMComponent:function(){focusNode(ReactDOMComponentTree.getNodeFromInstance(this))}};module.exports=AutoFocusUtils},{"./ReactDOMComponentTree":296,"fbjs/lib/focusNode":168}],256:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPropagators=require("./EventPropagators");var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var FallbackCompositionState=require("./FallbackCompositionState");var SyntheticCompositionEvent=require("./SyntheticCompositionEvent");var SyntheticInputEvent=require("./SyntheticInputEvent");var keyOf=require("fbjs/lib/keyOf");var END_KEYCODES=[9,13,27,32];var START_KEYCODE=229;var canUseCompositionEvent=ExecutionEnvironment.canUseDOM&&"CompositionEvent"in window;var documentMode=null;if(ExecutionEnvironment.canUseDOM&&"documentMode"in document){documentMode=document.documentMode}var canUseTextInputEvent=ExecutionEnvironment.canUseDOM&&"TextEvent"in window&&!documentMode&&!isPresto();var useFallbackCompositionData=ExecutionEnvironment.canUseDOM&&(!canUseCompositionEvent||documentMode&&documentMode>8&&documentMode<=11);function isPresto(){var opera=window.opera;return typeof opera==="object"&&typeof opera.version==="function"&&parseInt(opera.version(),10)<=12}var SPACEBAR_CODE=32;var SPACEBAR_CHAR=String.fromCharCode(SPACEBAR_CODE);var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={beforeInput:{phasedRegistrationNames:{bubbled:keyOf({onBeforeInput:null}),captured:keyOf({onBeforeInputCapture:null})},dependencies:[topLevelTypes.topCompositionEnd,topLevelTypes.topKeyPress,topLevelTypes.topTextInput,topLevelTypes.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:keyOf({onCompositionEnd:null}),captured:keyOf({onCompositionEndCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionEnd,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:keyOf({onCompositionStart:null}),captured:keyOf({onCompositionStartCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionStart,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:keyOf({onCompositionUpdate:null}),captured:keyOf({onCompositionUpdateCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionUpdate,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]}};var hasSpaceKeypress=false;
function isKeypressCommand(nativeEvent){return(nativeEvent.ctrlKey||nativeEvent.altKey||nativeEvent.metaKey)&&!(nativeEvent.ctrlKey&&nativeEvent.altKey)}function getCompositionEventType(topLevelType){switch(topLevelType){case topLevelTypes.topCompositionStart:return eventTypes.compositionStart;case topLevelTypes.topCompositionEnd:return eventTypes.compositionEnd;case topLevelTypes.topCompositionUpdate:return eventTypes.compositionUpdate}}function isFallbackCompositionStart(topLevelType,nativeEvent){return topLevelType===topLevelTypes.topKeyDown&&nativeEvent.keyCode===START_KEYCODE}function isFallbackCompositionEnd(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topKeyUp:return END_KEYCODES.indexOf(nativeEvent.keyCode)!==-1;case topLevelTypes.topKeyDown:return nativeEvent.keyCode!==START_KEYCODE;case topLevelTypes.topKeyPress:case topLevelTypes.topMouseDown:case topLevelTypes.topBlur:return true;default:return false}}function getDataFromCustomEvent(nativeEvent){var detail=nativeEvent.detail;if(typeof detail==="object"&&"data"in detail){return detail.data}return null}var currentComposition=null;function extractCompositionEvent(topLevelType,targetInst,nativeEvent,nativeEventTarget){var eventType;var fallbackData;if(canUseCompositionEvent){eventType=getCompositionEventType(topLevelType)}else if(!currentComposition){if(isFallbackCompositionStart(topLevelType,nativeEvent)){eventType=eventTypes.compositionStart}}else if(isFallbackCompositionEnd(topLevelType,nativeEvent)){eventType=eventTypes.compositionEnd}if(!eventType){return null}if(useFallbackCompositionData){if(!currentComposition&&eventType===eventTypes.compositionStart){currentComposition=FallbackCompositionState.getPooled(nativeEventTarget)}else if(eventType===eventTypes.compositionEnd){if(currentComposition){fallbackData=currentComposition.getData()}}}var event=SyntheticCompositionEvent.getPooled(eventType,targetInst,nativeEvent,nativeEventTarget);if(fallbackData){event.data=fallbackData}else{var customData=getDataFromCustomEvent(nativeEvent);if(customData!==null){event.data=customData}}EventPropagators.accumulateTwoPhaseDispatches(event);return event}function getNativeBeforeInputChars(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topCompositionEnd:return getDataFromCustomEvent(nativeEvent);case topLevelTypes.topKeyPress:var which=nativeEvent.which;if(which!==SPACEBAR_CODE){return null}hasSpaceKeypress=true;return SPACEBAR_CHAR;case topLevelTypes.topTextInput:var chars=nativeEvent.data;if(chars===SPACEBAR_CHAR&&hasSpaceKeypress){return null}return chars;default:return null}}function getFallbackBeforeInputChars(topLevelType,nativeEvent){if(currentComposition){if(topLevelType===topLevelTypes.topCompositionEnd||!canUseCompositionEvent&&isFallbackCompositionEnd(topLevelType,nativeEvent)){var chars=currentComposition.getData();FallbackCompositionState.release(currentComposition);currentComposition=null;return chars}return null}switch(topLevelType){case topLevelTypes.topPaste:return null;case topLevelTypes.topKeyPress:if(nativeEvent.which&&!isKeypressCommand(nativeEvent)){return String.fromCharCode(nativeEvent.which)}return null;case topLevelTypes.topCompositionEnd:return useFallbackCompositionData?null:nativeEvent.data;default:return null}}function extractBeforeInputEvent(topLevelType,targetInst,nativeEvent,nativeEventTarget){var chars;if(canUseTextInputEvent){chars=getNativeBeforeInputChars(topLevelType,nativeEvent)}else{chars=getFallbackBeforeInputChars(topLevelType,nativeEvent)}if(!chars){return null}var event=SyntheticInputEvent.getPooled(eventTypes.beforeInput,targetInst,nativeEvent,nativeEventTarget);event.data=chars;EventPropagators.accumulateTwoPhaseDispatches(event);return event}var BeforeInputEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,targetInst,nativeEvent,nativeEventTarget){return[extractCompositionEvent(topLevelType,targetInst,nativeEvent,nativeEventTarget),extractBeforeInputEvent(topLevelType,targetInst,nativeEvent,nativeEventTarget)]}};module.exports=BeforeInputEventPlugin},{"./EventConstants":270,"./EventPropagators":274,"./FallbackCompositionState":275,"./SyntheticCompositionEvent":353,"./SyntheticInputEvent":357,"fbjs/lib/ExecutionEnvironment":146,"fbjs/lib/keyOf":185}],257:[function(require,module,exports){"use strict";var isUnitlessNumber={animationIterationCount:true,borderImageOutset:true,borderImageSlice:true,borderImageWidth:true,boxFlex:true,boxFlexGroup:true,boxOrdinalGroup:true,columnCount:true,flex:true,flexGrow:true,flexPositive:true,flexShrink:true,flexNegative:true,flexOrder:true,gridRow:true,gridColumn:true,fontWeight:true,lineClamp:true,lineHeight:true,opacity:true,order:true,orphans:true,tabSize:true,widows:true,zIndex:true,zoom:true,fillOpacity:true,floodOpacity:true,stopOpacity:true,strokeDasharray:true,strokeDashoffset:true,strokeMiterlimit:true,strokeOpacity:true,strokeWidth:true};function prefixKey(prefix,key){return prefix+key.charAt(0).toUpperCase()+key.substring(1)}var prefixes=["Webkit","ms","Moz","O"];Object.keys(isUnitlessNumber).forEach(function(prop){prefixes.forEach(function(prefix){isUnitlessNumber[prefixKey(prefix,prop)]=isUnitlessNumber[prop]})});var shorthandPropertyExpansions={background:{backgroundAttachment:true,backgroundColor:true,backgroundImage:true,backgroundPositionX:true,backgroundPositionY:true,backgroundRepeat:true},backgroundPosition:{backgroundPositionX:true,backgroundPositionY:true},border:{borderWidth:true,borderStyle:true,borderColor:true},borderBottom:{borderBottomWidth:true,borderBottomStyle:true,borderBottomColor:true},borderLeft:{borderLeftWidth:true,borderLeftStyle:true,borderLeftColor:true},borderRight:{borderRightWidth:true,borderRightStyle:true,borderRightColor:true},borderTop:{borderTopWidth:true,borderTopStyle:true,borderTopColor:true},font:{fontStyle:true,fontVariant:true,fontWeight:true,fontSize:true,lineHeight:true,fontFamily:true},outline:{outlineWidth:true,outlineStyle:true,outlineColor:true}};var CSSProperty={isUnitlessNumber:isUnitlessNumber,shorthandPropertyExpansions:shorthandPropertyExpansions};module.exports=CSSProperty},{}],258:[function(require,module,exports){(function(process){"use strict";var CSSProperty=require("./CSSProperty");var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var ReactInstrumentation=require("./ReactInstrumentation");var camelizeStyleName=require("fbjs/lib/camelizeStyleName");var dangerousStyleValue=require("./dangerousStyleValue");var hyphenateStyleName=require("fbjs/lib/hyphenateStyleName");var memoizeStringOnly=require("fbjs/lib/memoizeStringOnly");var warning=require("fbjs/lib/warning");var processStyleName=memoizeStringOnly(function(styleName){return hyphenateStyleName(styleName)});var hasShorthandPropertyBug=false;var styleFloatAccessor="cssFloat";if(ExecutionEnvironment.canUseDOM){var tempStyle=document.createElement("div").style;try{tempStyle.font=""}catch(e){hasShorthandPropertyBug=true}if(document.documentElement.style.cssFloat===undefined){styleFloatAccessor="styleFloat"}}if(process.env.NODE_ENV!=="production"){var badVendoredStyleNamePattern=/^(?:webkit|moz|o)[A-Z]/;var badStyleValueWithSemicolonPattern=/;\s*$/;var warnedStyleNames={};var warnedStyleValues={};var warnedForNaNValue=false;var warnHyphenatedStyleName=function(name,owner){if(warnedStyleNames.hasOwnProperty(name)&&warnedStyleNames[name]){return}warnedStyleNames[name]=true;process.env.NODE_ENV!=="production"?warning(false,"Unsupported style property %s. Did you mean %s?%s",name,camelizeStyleName(name),checkRenderMessage(owner)):void 0};var warnBadVendoredStyleName=function(name,owner){if(warnedStyleNames.hasOwnProperty(name)&&warnedStyleNames[name]){return}warnedStyleNames[name]=true;process.env.NODE_ENV!=="production"?warning(false,"Unsupported vendor-prefixed style property %s. Did you mean %s?%s",name,name.charAt(0).toUpperCase()+name.slice(1),checkRenderMessage(owner)):void 0};var warnStyleValueWithSemicolon=function(name,value,owner){if(warnedStyleValues.hasOwnProperty(value)&&warnedStyleValues[value]){return}warnedStyleValues[value]=true;process.env.NODE_ENV!=="production"?warning(false,"Style property values shouldn't contain a semicolon.%s "+'Try "%s: %s" instead.',checkRenderMessage(owner),name,value.replace(badStyleValueWithSemicolonPattern,"")):void 0};var warnStyleValueIsNaN=function(name,value,owner){if(warnedForNaNValue){return}warnedForNaNValue=true;process.env.NODE_ENV!=="production"?warning(false,"`NaN` is an invalid value for the `%s` css style property.%s",name,checkRenderMessage(owner)):void 0};var checkRenderMessage=function(owner){if(owner){var name=owner.getName();if(name){return" Check the render method of `"+name+"`."}}return""};var warnValidStyle=function(name,value,component){var owner;if(component){owner=component._currentElement._owner}if(name.indexOf("-")>-1){warnHyphenatedStyleName(name,owner)}else if(badVendoredStyleNamePattern.test(name)){warnBadVendoredStyleName(name,owner)}else if(badStyleValueWithSemicolonPattern.test(value)){warnStyleValueWithSemicolon(name,value,owner)}if(typeof value==="number"&&isNaN(value)){warnStyleValueIsNaN(name,value,owner)}}}var CSSPropertyOperations={createMarkupForStyles:function(styles,component){var serialized="";for(var styleName in styles){if(!styles.hasOwnProperty(styleName)){continue}var styleValue=styles[styleName];if(process.env.NODE_ENV!=="production"){warnValidStyle(styleName,styleValue,component)}if(styleValue!=null){serialized+=processStyleName(styleName)+":";serialized+=dangerousStyleValue(styleName,styleValue,component)+";"}}return serialized||null},setValueForStyles:function(node,styles,component){if(process.env.NODE_ENV!=="production"){ReactInstrumentation.debugTool.onHostOperation(component._debugID,"update styles",styles)}var style=node.style;for(var styleName in styles){if(!styles.hasOwnProperty(styleName)){continue}if(process.env.NODE_ENV!=="production"){warnValidStyle(styleName,styles[styleName],component)}var styleValue=dangerousStyleValue(styleName,styles[styleName],component);if(styleName==="float"||styleName==="cssFloat"){styleName=styleFloatAccessor}if(styleValue){style[styleName]=styleValue}else{var expansion=hasShorthandPropertyBug&&CSSProperty.shorthandPropertyExpansions[styleName];if(expansion){for(var individualStyleName in expansion){style[individualStyleName]=""}}else{style[styleName]=""}}}}};module.exports=CSSPropertyOperations}).call(this,require("_process"))},{"./CSSProperty":257,"./ReactInstrumentation":326,"./dangerousStyleValue":371,_process:216,"fbjs/lib/ExecutionEnvironment":146,"fbjs/lib/camelizeStyleName":161,"fbjs/lib/hyphenateStyleName":179,"fbjs/lib/memoizeStringOnly":187,"fbjs/lib/warning":192}],259:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant"),_assign=require("object-assign");var PooledClass=require("./PooledClass");var invariant=require("fbjs/lib/invariant");function CallbackQueue(){this._callbacks=null;this._contexts=null}_assign(CallbackQueue.prototype,{enqueue:function(callback,context){this._callbacks=this._callbacks||[];this._contexts=this._contexts||[];this._callbacks.push(callback);this._contexts.push(context)},notifyAll:function(){var callbacks=this._callbacks;var contexts=this._contexts;if(callbacks){!(callbacks.length===contexts.length)?process.env.NODE_ENV!=="production"?invariant(false,"Mismatched list of contexts in callback queue"):_prodInvariant("24"):void 0;this._callbacks=null;this._contexts=null;for(var i=0;i<callbacks.length;i++){callbacks[i].call(contexts[i])}callbacks.length=0;contexts.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(len){if(this._callbacks){this._callbacks.length=len;this._contexts.length=len}},reset:function(){this._callbacks=null;this._contexts=null},destructor:function(){this.reset()}});PooledClass.addPoolingTo(CallbackQueue);module.exports=CallbackQueue}).call(this,require("_process"))},{"./PooledClass":279,"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180,"object-assign":215}],260:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPluginHub=require("./EventPluginHub");var EventPropagators=require("./EventPropagators");var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var ReactUpdates=require("./ReactUpdates");var SyntheticEvent=require("./SyntheticEvent");var getEventTarget=require("./getEventTarget");var isEventSupported=require("./isEventSupported");var isTextInputElement=require("./isTextInputElement");var keyOf=require("fbjs/lib/keyOf");var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={change:{phasedRegistrationNames:{bubbled:keyOf({onChange:null}),captured:keyOf({onChangeCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topChange,topLevelTypes.topClick,topLevelTypes.topFocus,topLevelTypes.topInput,topLevelTypes.topKeyDown,topLevelTypes.topKeyUp,topLevelTypes.topSelectionChange]}};var activeElement=null;var activeElementInst=null;var activeElementValue=null;var activeElementValueProp=null;function shouldUseChangeEvent(elem){var nodeName=elem.nodeName&&elem.nodeName.toLowerCase();return nodeName==="select"||nodeName==="input"&&elem.type==="file"}var doesChangeEventBubble=false;if(ExecutionEnvironment.canUseDOM){doesChangeEventBubble=isEventSupported("change")&&(!document.documentMode||document.documentMode>8)}function manualDispatchChangeEvent(nativeEvent){var event=SyntheticEvent.getPooled(eventTypes.change,activeElementInst,nativeEvent,getEventTarget(nativeEvent));EventPropagators.accumulateTwoPhaseDispatches(event);ReactUpdates.batchedUpdates(runEventInBatch,event)}function runEventInBatch(event){EventPluginHub.enqueueEvents(event);EventPluginHub.processEventQueue(false)}function startWatchingForChangeEventIE8(target,targetInst){activeElement=target;activeElementInst=targetInst;activeElement.attachEvent("onchange",manualDispatchChangeEvent)}function stopWatchingForChangeEventIE8(){if(!activeElement){return}activeElement.detachEvent("onchange",manualDispatchChangeEvent);activeElement=null;activeElementInst=null}function getTargetInstForChangeEvent(topLevelType,targetInst){if(topLevelType===topLevelTypes.topChange){return targetInst}}function handleEventsForChangeEventIE8(topLevelType,target,targetInst){if(topLevelType===topLevelTypes.topFocus){stopWatchingForChangeEventIE8();startWatchingForChangeEventIE8(target,targetInst)}else if(topLevelType===topLevelTypes.topBlur){stopWatchingForChangeEventIE8()}}var isInputEventSupported=false;if(ExecutionEnvironment.canUseDOM){isInputEventSupported=isEventSupported("input")&&(!document.documentMode||document.documentMode>11)}var newValueProp={get:function(){return activeElementValueProp.get.call(this)},set:function(val){activeElementValue=""+val;activeElementValueProp.set.call(this,val)}};function startWatchingForValueChange(target,targetInst){activeElement=target;activeElementInst=targetInst;activeElementValue=target.value;activeElementValueProp=Object.getOwnPropertyDescriptor(target.constructor.prototype,"value");Object.defineProperty(activeElement,"value",newValueProp);if(activeElement.attachEvent){activeElement.attachEvent("onpropertychange",handlePropertyChange)}else{activeElement.addEventListener("propertychange",handlePropertyChange,false)}}function stopWatchingForValueChange(){if(!activeElement){return}delete activeElement.value;if(activeElement.detachEvent){activeElement.detachEvent("onpropertychange",handlePropertyChange)}else{activeElement.removeEventListener("propertychange",handlePropertyChange,false)}activeElement=null;activeElementInst=null;activeElementValue=null;activeElementValueProp=null}function handlePropertyChange(nativeEvent){if(nativeEvent.propertyName!=="value"){return}var value=nativeEvent.srcElement.value;if(value===activeElementValue){return}activeElementValue=value;manualDispatchChangeEvent(nativeEvent)}function getTargetInstForInputEvent(topLevelType,targetInst){if(topLevelType===topLevelTypes.topInput){return targetInst}}function handleEventsForInputEventIE(topLevelType,target,targetInst){if(topLevelType===topLevelTypes.topFocus){stopWatchingForValueChange();startWatchingForValueChange(target,targetInst)}else if(topLevelType===topLevelTypes.topBlur){stopWatchingForValueChange()}}function getTargetInstForInputEventIE(topLevelType,targetInst){if(topLevelType===topLevelTypes.topSelectionChange||topLevelType===topLevelTypes.topKeyUp||topLevelType===topLevelTypes.topKeyDown){if(activeElement&&activeElement.value!==activeElementValue){activeElementValue=activeElement.value;return activeElementInst}}}function shouldUseClickEvent(elem){return elem.nodeName&&elem.nodeName.toLowerCase()==="input"&&(elem.type==="checkbox"||elem.type==="radio")}function getTargetInstForClickEvent(topLevelType,targetInst){if(topLevelType===topLevelTypes.topClick){return targetInst}}var ChangeEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,targetInst,nativeEvent,nativeEventTarget){var targetNode=targetInst?ReactDOMComponentTree.getNodeFromInstance(targetInst):window;var getTargetInstFunc,handleEventFunc;if(shouldUseChangeEvent(targetNode)){if(doesChangeEventBubble){getTargetInstFunc=getTargetInstForChangeEvent}else{handleEventFunc=handleEventsForChangeEventIE8}}else if(isTextInputElement(targetNode)){if(isInputEventSupported){getTargetInstFunc=getTargetInstForInputEvent}else{getTargetInstFunc=getTargetInstForInputEventIE;handleEventFunc=handleEventsForInputEventIE}}else if(shouldUseClickEvent(targetNode)){getTargetInstFunc=getTargetInstForClickEvent}if(getTargetInstFunc){var inst=getTargetInstFunc(topLevelType,targetInst);if(inst){var event=SyntheticEvent.getPooled(eventTypes.change,inst,nativeEvent,nativeEventTarget);event.type="change";EventPropagators.accumulateTwoPhaseDispatches(event);return event}}if(handleEventFunc){handleEventFunc(topLevelType,targetNode,targetInst)}}};module.exports=ChangeEventPlugin},{"./EventConstants":270,"./EventPluginHub":271,"./EventPropagators":274,"./ReactDOMComponentTree":296,"./ReactUpdates":346,"./SyntheticEvent":355,"./getEventTarget":379,"./isEventSupported":386,"./isTextInputElement":387,"fbjs/lib/ExecutionEnvironment":146,"fbjs/lib/keyOf":185}],261:[function(require,module,exports){(function(process){"use strict";var DOMLazyTree=require("./DOMLazyTree");var Danger=require("./Danger");var ReactMultiChildUpdateTypes=require("./ReactMultiChildUpdateTypes");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var ReactInstrumentation=require("./ReactInstrumentation");var createMicrosoftUnsafeLocalFunction=require("./createMicrosoftUnsafeLocalFunction");var setInnerHTML=require("./setInnerHTML");var setTextContent=require("./setTextContent");function getNodeAfter(parentNode,node){if(Array.isArray(node)){node=node[1]}return node?node.nextSibling:parentNode.firstChild}var insertChildAt=createMicrosoftUnsafeLocalFunction(function(parentNode,childNode,referenceNode){parentNode.insertBefore(childNode,referenceNode)});function insertLazyTreeChildAt(parentNode,childTree,referenceNode){DOMLazyTree.insertTreeBefore(parentNode,childTree,referenceNode)}function moveChild(parentNode,childNode,referenceNode){if(Array.isArray(childNode)){moveDelimitedText(parentNode,childNode[0],childNode[1],referenceNode)}else{insertChildAt(parentNode,childNode,referenceNode)}}function removeChild(parentNode,childNode){if(Array.isArray(childNode)){var closingComment=childNode[1];childNode=childNode[0];removeDelimitedText(parentNode,childNode,closingComment);parentNode.removeChild(closingComment)}parentNode.removeChild(childNode)}function moveDelimitedText(parentNode,openingComment,closingComment,referenceNode){var node=openingComment;while(true){var nextNode=node.nextSibling;insertChildAt(parentNode,node,referenceNode);if(node===closingComment){break}node=nextNode}}function removeDelimitedText(parentNode,startNode,closingComment){while(true){var node=startNode.nextSibling;if(node===closingComment){break}else{parentNode.removeChild(node)}}}function replaceDelimitedText(openingComment,closingComment,stringText){var parentNode=openingComment.parentNode;var nodeAfterComment=openingComment.nextSibling;if(nodeAfterComment===closingComment){if(stringText){insertChildAt(parentNode,document.createTextNode(stringText),nodeAfterComment)}}else{if(stringText){setTextContent(nodeAfterComment,stringText);removeDelimitedText(parentNode,nodeAfterComment,closingComment)}else{removeDelimitedText(parentNode,openingComment,closingComment)}}if(process.env.NODE_ENV!=="production"){ReactInstrumentation.debugTool.onHostOperation(ReactDOMComponentTree.getInstanceFromNode(openingComment)._debugID,"replace text",stringText)}}var dangerouslyReplaceNodeWithMarkup=Danger.dangerouslyReplaceNodeWithMarkup;if(process.env.NODE_ENV!=="production"){dangerouslyReplaceNodeWithMarkup=function(oldChild,markup,prevInstance){Danger.dangerouslyReplaceNodeWithMarkup(oldChild,markup);if(prevInstance._debugID!==0){ReactInstrumentation.debugTool.onHostOperation(prevInstance._debugID,"replace with",markup.toString())}else{var nextInstance=ReactDOMComponentTree.getInstanceFromNode(markup.node);if(nextInstance._debugID!==0){ReactInstrumentation.debugTool.onHostOperation(nextInstance._debugID,"mount",markup.toString())}}}}var DOMChildrenOperations={dangerouslyReplaceNodeWithMarkup:dangerouslyReplaceNodeWithMarkup,replaceDelimitedText:replaceDelimitedText,processUpdates:function(parentNode,updates){if(process.env.NODE_ENV!=="production"){var parentNodeDebugID=ReactDOMComponentTree.getInstanceFromNode(parentNode)._debugID}for(var k=0;k<updates.length;k++){var update=updates[k];switch(update.type){case ReactMultiChildUpdateTypes.INSERT_MARKUP:insertLazyTreeChildAt(parentNode,update.content,getNodeAfter(parentNode,update.afterNode));if(process.env.NODE_ENV!=="production"){ReactInstrumentation.debugTool.onHostOperation(parentNodeDebugID,"insert child",{toIndex:update.toIndex,content:update.content.toString()})}break;case ReactMultiChildUpdateTypes.MOVE_EXISTING:moveChild(parentNode,update.fromNode,getNodeAfter(parentNode,update.afterNode));if(process.env.NODE_ENV!=="production"){ReactInstrumentation.debugTool.onHostOperation(parentNodeDebugID,"move child",{fromIndex:update.fromIndex,toIndex:update.toIndex})}break;case ReactMultiChildUpdateTypes.SET_MARKUP:setInnerHTML(parentNode,update.content);if(process.env.NODE_ENV!=="production"){ReactInstrumentation.debugTool.onHostOperation(parentNodeDebugID,"replace children",update.content.toString())}break;case ReactMultiChildUpdateTypes.TEXT_CONTENT:setTextContent(parentNode,update.content);if(process.env.NODE_ENV!=="production"){ReactInstrumentation.debugTool.onHostOperation(parentNodeDebugID,"replace text",update.content.toString())}break;case ReactMultiChildUpdateTypes.REMOVE_NODE:removeChild(parentNode,update.fromNode);if(process.env.NODE_ENV!=="production"){ReactInstrumentation.debugTool.onHostOperation(parentNodeDebugID,"remove child",{fromIndex:update.fromIndex})}break}}}};module.exports=DOMChildrenOperations}).call(this,require("_process"))},{"./DOMLazyTree":262,"./Danger":266,"./ReactDOMComponentTree":296,"./ReactInstrumentation":326,"./ReactMultiChildUpdateTypes":331,"./createMicrosoftUnsafeLocalFunction":370,"./setInnerHTML":392,"./setTextContent":393,_process:216}],262:[function(require,module,exports){"use strict";var DOMNamespaces=require("./DOMNamespaces");var setInnerHTML=require("./setInnerHTML");var createMicrosoftUnsafeLocalFunction=require("./createMicrosoftUnsafeLocalFunction");var setTextContent=require("./setTextContent");var ELEMENT_NODE_TYPE=1;var DOCUMENT_FRAGMENT_NODE_TYPE=11;var enableLazy=typeof document!=="undefined"&&typeof document.documentMode==="number"||typeof navigator!=="undefined"&&typeof navigator.userAgent==="string"&&/\bEdge\/\d/.test(navigator.userAgent);function insertTreeChildren(tree){if(!enableLazy){return}var node=tree.node;var children=tree.children;if(children.length){for(var i=0;i<children.length;i++){insertTreeBefore(node,children[i],null)}}else if(tree.html!=null){setInnerHTML(node,tree.html)}else if(tree.text!=null){setTextContent(node,tree.text)}}var insertTreeBefore=createMicrosoftUnsafeLocalFunction(function(parentNode,tree,referenceNode){if(tree.node.nodeType===DOCUMENT_FRAGMENT_NODE_TYPE||tree.node.nodeType===ELEMENT_NODE_TYPE&&tree.node.nodeName.toLowerCase()==="object"&&(tree.node.namespaceURI==null||tree.node.namespaceURI===DOMNamespaces.html)){insertTreeChildren(tree);parentNode.insertBefore(tree.node,referenceNode)}else{parentNode.insertBefore(tree.node,referenceNode);insertTreeChildren(tree)}});function replaceChildWithTree(oldNode,newTree){oldNode.parentNode.replaceChild(newTree.node,oldNode);insertTreeChildren(newTree)}function queueChild(parentTree,childTree){if(enableLazy){parentTree.children.push(childTree)}else{parentTree.node.appendChild(childTree.node)}}function queueHTML(tree,html){if(enableLazy){tree.html=html}else{setInnerHTML(tree.node,html)}}function queueText(tree,text){if(enableLazy){tree.text=text}else{setTextContent(tree.node,text)}}function toString(){return this.node.nodeName}function DOMLazyTree(node){return{node:node,children:[],html:null,text:null,toString:toString}}DOMLazyTree.insertTreeBefore=insertTreeBefore;DOMLazyTree.replaceChildWithTree=replaceChildWithTree;DOMLazyTree.queueChild=queueChild;DOMLazyTree.queueHTML=queueHTML;DOMLazyTree.queueText=queueText;module.exports=DOMLazyTree},{"./DOMNamespaces":263,"./createMicrosoftUnsafeLocalFunction":370,"./setInnerHTML":392,"./setTextContent":393}],263:[function(require,module,exports){"use strict";var DOMNamespaces={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};module.exports=DOMNamespaces},{}],264:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var invariant=require("fbjs/lib/invariant");function checkMask(value,bitmask){return(value&bitmask)===bitmask}var DOMPropertyInjection={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:16|8,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(domPropertyConfig){var Injection=DOMPropertyInjection;var Properties=domPropertyConfig.Properties||{};var DOMAttributeNamespaces=domPropertyConfig.DOMAttributeNamespaces||{};var DOMAttributeNames=domPropertyConfig.DOMAttributeNames||{};var DOMPropertyNames=domPropertyConfig.DOMPropertyNames||{};var DOMMutationMethods=domPropertyConfig.DOMMutationMethods||{};if(domPropertyConfig.isCustomAttribute){DOMProperty._isCustomAttributeFunctions.push(domPropertyConfig.isCustomAttribute)}for(var propName in Properties){!!DOMProperty.properties.hasOwnProperty(propName)?process.env.NODE_ENV!=="production"?invariant(false,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",propName):_prodInvariant("48",propName):void 0;var lowerCased=propName.toLowerCase();var propConfig=Properties[propName];var propertyInfo={attributeName:lowerCased,attributeNamespace:null,propertyName:propName,mutationMethod:null,mustUseProperty:checkMask(propConfig,Injection.MUST_USE_PROPERTY),hasBooleanValue:checkMask(propConfig,Injection.HAS_BOOLEAN_VALUE),hasNumericValue:checkMask(propConfig,Injection.HAS_NUMERIC_VALUE),hasPositiveNumericValue:checkMask(propConfig,Injection.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:checkMask(propConfig,Injection.HAS_OVERLOADED_BOOLEAN_VALUE)};!(propertyInfo.hasBooleanValue+propertyInfo.hasNumericValue+propertyInfo.hasOverloadedBooleanValue<=1)?process.env.NODE_ENV!=="production"?invariant(false,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",propName):_prodInvariant("50",propName):void 0;if(process.env.NODE_ENV!=="production"){DOMProperty.getPossibleStandardName[lowerCased]=propName}if(DOMAttributeNames.hasOwnProperty(propName)){var attributeName=DOMAttributeNames[propName];propertyInfo.attributeName=attributeName;if(process.env.NODE_ENV!=="production"){DOMProperty.getPossibleStandardName[attributeName]=propName}}if(DOMAttributeNamespaces.hasOwnProperty(propName)){propertyInfo.attributeNamespace=DOMAttributeNamespaces[propName]}if(DOMPropertyNames.hasOwnProperty(propName)){propertyInfo.propertyName=DOMPropertyNames[propName]}if(DOMMutationMethods.hasOwnProperty(propName)){propertyInfo.mutationMethod=DOMMutationMethods[propName]}DOMProperty.properties[propName]=propertyInfo}}};var ATTRIBUTE_NAME_START_CHAR=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD";var DOMProperty={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:ATTRIBUTE_NAME_START_CHAR,ATTRIBUTE_NAME_CHAR:ATTRIBUTE_NAME_START_CHAR+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:process.env.NODE_ENV!=="production"?{}:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(attributeName){for(var i=0;i<DOMProperty._isCustomAttributeFunctions.length;i++){var isCustomAttributeFn=DOMProperty._isCustomAttributeFunctions[i];if(isCustomAttributeFn(attributeName)){return true}}return false},injection:DOMPropertyInjection};module.exports=DOMProperty}).call(this,require("_process"))},{"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180}],265:[function(require,module,exports){(function(process){"use strict";var DOMProperty=require("./DOMProperty");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var ReactInstrumentation=require("./ReactInstrumentation");var quoteAttributeValueForBrowser=require("./quoteAttributeValueForBrowser");var warning=require("fbjs/lib/warning");var VALID_ATTRIBUTE_NAME_REGEX=new RegExp("^["+DOMProperty.ATTRIBUTE_NAME_START_CHAR+"]["+DOMProperty.ATTRIBUTE_NAME_CHAR+"]*$");var illegalAttributeNameCache={};var validatedAttributeNameCache={};function isAttributeNameSafe(attributeName){if(validatedAttributeNameCache.hasOwnProperty(attributeName)){return true}if(illegalAttributeNameCache.hasOwnProperty(attributeName)){return false}if(VALID_ATTRIBUTE_NAME_REGEX.test(attributeName)){validatedAttributeNameCache[attributeName]=true;return true}illegalAttributeNameCache[attributeName]=true;process.env.NODE_ENV!=="production"?warning(false,"Invalid attribute name: `%s`",attributeName):void 0;return false}function shouldIgnoreValue(propertyInfo,value){return value==null||propertyInfo.hasBooleanValue&&!value||propertyInfo.hasNumericValue&&isNaN(value)||propertyInfo.hasPositiveNumericValue&&value<1||propertyInfo.hasOverloadedBooleanValue&&value===false}var DOMPropertyOperations={createMarkupForID:function(id){return DOMProperty.ID_ATTRIBUTE_NAME+"="+quoteAttributeValueForBrowser(id)},setAttributeForID:function(node,id){node.setAttribute(DOMProperty.ID_ATTRIBUTE_NAME,id)},createMarkupForRoot:function(){return DOMProperty.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(node){node.setAttribute(DOMProperty.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(name,value){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){if(shouldIgnoreValue(propertyInfo,value)){return""}var attributeName=propertyInfo.attributeName;if(propertyInfo.hasBooleanValue||propertyInfo.hasOverloadedBooleanValue&&value===true){return attributeName+'=""'}return attributeName+"="+quoteAttributeValueForBrowser(value)}else if(DOMProperty.isCustomAttribute(name)){if(value==null){return""}return name+"="+quoteAttributeValueForBrowser(value)}return null},createMarkupForCustomAttribute:function(name,value){
if(!isAttributeNameSafe(name)||value==null){return""}return name+"="+quoteAttributeValueForBrowser(value)},setValueForProperty:function(node,name,value){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){var mutationMethod=propertyInfo.mutationMethod;if(mutationMethod){mutationMethod(node,value)}else if(shouldIgnoreValue(propertyInfo,value)){this.deleteValueForProperty(node,name);return}else if(propertyInfo.mustUseProperty){node[propertyInfo.propertyName]=value}else{var attributeName=propertyInfo.attributeName;var namespace=propertyInfo.attributeNamespace;if(namespace){node.setAttributeNS(namespace,attributeName,""+value)}else if(propertyInfo.hasBooleanValue||propertyInfo.hasOverloadedBooleanValue&&value===true){node.setAttribute(attributeName,"")}else{node.setAttribute(attributeName,""+value)}}}else if(DOMProperty.isCustomAttribute(name)){DOMPropertyOperations.setValueForAttribute(node,name,value);return}if(process.env.NODE_ENV!=="production"){var payload={};payload[name]=value;ReactInstrumentation.debugTool.onHostOperation(ReactDOMComponentTree.getInstanceFromNode(node)._debugID,"update attribute",payload)}},setValueForAttribute:function(node,name,value){if(!isAttributeNameSafe(name)){return}if(value==null){node.removeAttribute(name)}else{node.setAttribute(name,""+value)}if(process.env.NODE_ENV!=="production"){var payload={};payload[name]=value;ReactInstrumentation.debugTool.onHostOperation(ReactDOMComponentTree.getInstanceFromNode(node)._debugID,"update attribute",payload)}},deleteValueForAttribute:function(node,name){node.removeAttribute(name);if(process.env.NODE_ENV!=="production"){ReactInstrumentation.debugTool.onHostOperation(ReactDOMComponentTree.getInstanceFromNode(node)._debugID,"remove attribute",name)}},deleteValueForProperty:function(node,name){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){var mutationMethod=propertyInfo.mutationMethod;if(mutationMethod){mutationMethod(node,undefined)}else if(propertyInfo.mustUseProperty){var propName=propertyInfo.propertyName;if(propertyInfo.hasBooleanValue){node[propName]=false}else{node[propName]=""}}else{node.removeAttribute(propertyInfo.attributeName)}}else if(DOMProperty.isCustomAttribute(name)){node.removeAttribute(name)}if(process.env.NODE_ENV!=="production"){ReactInstrumentation.debugTool.onHostOperation(ReactDOMComponentTree.getInstanceFromNode(node)._debugID,"remove attribute",name)}}};module.exports=DOMPropertyOperations}).call(this,require("_process"))},{"./DOMProperty":264,"./ReactDOMComponentTree":296,"./ReactInstrumentation":326,"./quoteAttributeValueForBrowser":389,_process:216,"fbjs/lib/warning":192}],266:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var DOMLazyTree=require("./DOMLazyTree");var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var createNodesFromMarkup=require("fbjs/lib/createNodesFromMarkup");var emptyFunction=require("fbjs/lib/emptyFunction");var invariant=require("fbjs/lib/invariant");var Danger={dangerouslyReplaceNodeWithMarkup:function(oldChild,markup){!ExecutionEnvironment.canUseDOM?process.env.NODE_ENV!=="production"?invariant(false,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."):_prodInvariant("56"):void 0;!markup?process.env.NODE_ENV!=="production"?invariant(false,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):_prodInvariant("57"):void 0;!(oldChild.nodeName!=="HTML")?process.env.NODE_ENV!=="production"?invariant(false,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):_prodInvariant("58"):void 0;if(typeof markup==="string"){var newChild=createNodesFromMarkup(markup,emptyFunction)[0];oldChild.parentNode.replaceChild(newChild,oldChild)}else{DOMLazyTree.replaceChildWithTree(oldChild,markup)}}};module.exports=Danger}).call(this,require("_process"))},{"./DOMLazyTree":262,"./reactProdInvariant":390,_process:216,"fbjs/lib/ExecutionEnvironment":146,"fbjs/lib/createNodesFromMarkup":164,"fbjs/lib/emptyFunction":166,"fbjs/lib/invariant":180}],267:[function(require,module,exports){"use strict";var keyOf=require("fbjs/lib/keyOf");var DefaultEventPluginOrder=[keyOf({ResponderEventPlugin:null}),keyOf({SimpleEventPlugin:null}),keyOf({TapEventPlugin:null}),keyOf({EnterLeaveEventPlugin:null}),keyOf({ChangeEventPlugin:null}),keyOf({SelectEventPlugin:null}),keyOf({BeforeInputEventPlugin:null})];module.exports=DefaultEventPluginOrder},{"fbjs/lib/keyOf":185}],268:[function(require,module,exports){"use strict";var disableableMouseListenerNames={onClick:true,onDoubleClick:true,onMouseDown:true,onMouseMove:true,onMouseUp:true,onClickCapture:true,onDoubleClickCapture:true,onMouseDownCapture:true,onMouseMoveCapture:true,onMouseUpCapture:true};var DisabledInputUtils={getHostProps:function(inst,props){if(!props.disabled){return props}var hostProps={};for(var key in props){if(!disableableMouseListenerNames[key]&&props.hasOwnProperty(key)){hostProps[key]=props[key]}}return hostProps}};module.exports=DisabledInputUtils},{}],269:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPropagators=require("./EventPropagators");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var SyntheticMouseEvent=require("./SyntheticMouseEvent");var keyOf=require("fbjs/lib/keyOf");var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={mouseEnter:{registrationName:keyOf({onMouseEnter:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]},mouseLeave:{registrationName:keyOf({onMouseLeave:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]}};var EnterLeaveEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,targetInst,nativeEvent,nativeEventTarget){if(topLevelType===topLevelTypes.topMouseOver&&(nativeEvent.relatedTarget||nativeEvent.fromElement)){return null}if(topLevelType!==topLevelTypes.topMouseOut&&topLevelType!==topLevelTypes.topMouseOver){return null}var win;if(nativeEventTarget.window===nativeEventTarget){win=nativeEventTarget}else{var doc=nativeEventTarget.ownerDocument;if(doc){win=doc.defaultView||doc.parentWindow}else{win=window}}var from;var to;if(topLevelType===topLevelTypes.topMouseOut){from=targetInst;var related=nativeEvent.relatedTarget||nativeEvent.toElement;to=related?ReactDOMComponentTree.getClosestInstanceFromNode(related):null}else{from=null;to=targetInst}if(from===to){return null}var fromNode=from==null?win:ReactDOMComponentTree.getNodeFromInstance(from);var toNode=to==null?win:ReactDOMComponentTree.getNodeFromInstance(to);var leave=SyntheticMouseEvent.getPooled(eventTypes.mouseLeave,from,nativeEvent,nativeEventTarget);leave.type="mouseleave";leave.target=fromNode;leave.relatedTarget=toNode;var enter=SyntheticMouseEvent.getPooled(eventTypes.mouseEnter,to,nativeEvent,nativeEventTarget);enter.type="mouseenter";enter.target=toNode;enter.relatedTarget=fromNode;EventPropagators.accumulateEnterLeaveDispatches(leave,enter,from,to);return[leave,enter]}};module.exports=EnterLeaveEventPlugin},{"./EventConstants":270,"./EventPropagators":274,"./ReactDOMComponentTree":296,"./SyntheticMouseEvent":359,"fbjs/lib/keyOf":185}],270:[function(require,module,exports){"use strict";var keyMirror=require("fbjs/lib/keyMirror");var PropagationPhases=keyMirror({bubbled:null,captured:null});var topLevelTypes=keyMirror({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null});var EventConstants={topLevelTypes:topLevelTypes,PropagationPhases:PropagationPhases};module.exports=EventConstants},{"fbjs/lib/keyMirror":184}],271:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var EventPluginRegistry=require("./EventPluginRegistry");var EventPluginUtils=require("./EventPluginUtils");var ReactErrorUtils=require("./ReactErrorUtils");var accumulateInto=require("./accumulateInto");var forEachAccumulated=require("./forEachAccumulated");var invariant=require("fbjs/lib/invariant");var listenerBank={};var eventQueue=null;var executeDispatchesAndRelease=function(event,simulated){if(event){EventPluginUtils.executeDispatchesInOrder(event,simulated);if(!event.isPersistent()){event.constructor.release(event)}}};var executeDispatchesAndReleaseSimulated=function(e){return executeDispatchesAndRelease(e,true)};var executeDispatchesAndReleaseTopLevel=function(e){return executeDispatchesAndRelease(e,false)};var getDictionaryKey=function(inst){return"."+inst._rootNodeID};var EventPluginHub={injection:{injectEventPluginOrder:EventPluginRegistry.injectEventPluginOrder,injectEventPluginsByName:EventPluginRegistry.injectEventPluginsByName},putListener:function(inst,registrationName,listener){!(typeof listener==="function")?process.env.NODE_ENV!=="production"?invariant(false,"Expected %s listener to be a function, instead got type %s",registrationName,typeof listener):_prodInvariant("94",registrationName,typeof listener):void 0;var key=getDictionaryKey(inst);var bankForRegistrationName=listenerBank[registrationName]||(listenerBank[registrationName]={});bankForRegistrationName[key]=listener;var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];if(PluginModule&&PluginModule.didPutListener){PluginModule.didPutListener(inst,registrationName,listener)}},getListener:function(inst,registrationName){var bankForRegistrationName=listenerBank[registrationName];var key=getDictionaryKey(inst);return bankForRegistrationName&&bankForRegistrationName[key]},deleteListener:function(inst,registrationName){var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];if(PluginModule&&PluginModule.willDeleteListener){PluginModule.willDeleteListener(inst,registrationName)}var bankForRegistrationName=listenerBank[registrationName];if(bankForRegistrationName){var key=getDictionaryKey(inst);delete bankForRegistrationName[key]}},deleteAllListeners:function(inst){var key=getDictionaryKey(inst);for(var registrationName in listenerBank){if(!listenerBank.hasOwnProperty(registrationName)){continue}if(!listenerBank[registrationName][key]){continue}var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];if(PluginModule&&PluginModule.willDeleteListener){PluginModule.willDeleteListener(inst,registrationName)}delete listenerBank[registrationName][key]}},extractEvents:function(topLevelType,targetInst,nativeEvent,nativeEventTarget){var events;var plugins=EventPluginRegistry.plugins;for(var i=0;i<plugins.length;i++){var possiblePlugin=plugins[i];if(possiblePlugin){var extractedEvents=possiblePlugin.extractEvents(topLevelType,targetInst,nativeEvent,nativeEventTarget);if(extractedEvents){events=accumulateInto(events,extractedEvents)}}}return events},enqueueEvents:function(events){if(events){eventQueue=accumulateInto(eventQueue,events)}},processEventQueue:function(simulated){var processingEventQueue=eventQueue;eventQueue=null;if(simulated){forEachAccumulated(processingEventQueue,executeDispatchesAndReleaseSimulated)}else{forEachAccumulated(processingEventQueue,executeDispatchesAndReleaseTopLevel)}!!eventQueue?process.env.NODE_ENV!=="production"?invariant(false,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):_prodInvariant("95"):void 0;ReactErrorUtils.rethrowCaughtError()},__purge:function(){listenerBank={}},__getListenerBank:function(){return listenerBank}};module.exports=EventPluginHub}).call(this,require("_process"))},{"./EventPluginRegistry":272,"./EventPluginUtils":273,"./ReactErrorUtils":317,"./accumulateInto":366,"./forEachAccumulated":375,"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180}],272:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var invariant=require("fbjs/lib/invariant");var EventPluginOrder=null;var namesToPlugins={};function recomputePluginOrdering(){if(!EventPluginOrder){return}for(var pluginName in namesToPlugins){var PluginModule=namesToPlugins[pluginName];var pluginIndex=EventPluginOrder.indexOf(pluginName);!(pluginIndex>-1)?process.env.NODE_ENV!=="production"?invariant(false,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",pluginName):_prodInvariant("96",pluginName):void 0;if(EventPluginRegistry.plugins[pluginIndex]){continue}!PluginModule.extractEvents?process.env.NODE_ENV!=="production"?invariant(false,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",pluginName):_prodInvariant("97",pluginName):void 0;EventPluginRegistry.plugins[pluginIndex]=PluginModule;var publishedEvents=PluginModule.eventTypes;for(var eventName in publishedEvents){!publishEventForPlugin(publishedEvents[eventName],PluginModule,eventName)?process.env.NODE_ENV!=="production"?invariant(false,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",eventName,pluginName):_prodInvariant("98",eventName,pluginName):void 0}}}function publishEventForPlugin(dispatchConfig,PluginModule,eventName){!!EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(eventName)?process.env.NODE_ENV!=="production"?invariant(false,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",eventName):_prodInvariant("99",eventName):void 0;EventPluginRegistry.eventNameDispatchConfigs[eventName]=dispatchConfig;var phasedRegistrationNames=dispatchConfig.phasedRegistrationNames;if(phasedRegistrationNames){for(var phaseName in phasedRegistrationNames){if(phasedRegistrationNames.hasOwnProperty(phaseName)){var phasedRegistrationName=phasedRegistrationNames[phaseName];publishRegistrationName(phasedRegistrationName,PluginModule,eventName)}}return true}else if(dispatchConfig.registrationName){publishRegistrationName(dispatchConfig.registrationName,PluginModule,eventName);return true}return false}function publishRegistrationName(registrationName,PluginModule,eventName){!!EventPluginRegistry.registrationNameModules[registrationName]?process.env.NODE_ENV!=="production"?invariant(false,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",registrationName):_prodInvariant("100",registrationName):void 0;EventPluginRegistry.registrationNameModules[registrationName]=PluginModule;EventPluginRegistry.registrationNameDependencies[registrationName]=PluginModule.eventTypes[eventName].dependencies;if(process.env.NODE_ENV!=="production"){var lowerCasedName=registrationName.toLowerCase();EventPluginRegistry.possibleRegistrationNames[lowerCasedName]=registrationName;if(registrationName==="onDoubleClick"){EventPluginRegistry.possibleRegistrationNames.ondblclick=registrationName}}}var EventPluginRegistry={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:process.env.NODE_ENV!=="production"?{}:null,injectEventPluginOrder:function(InjectedEventPluginOrder){!!EventPluginOrder?process.env.NODE_ENV!=="production"?invariant(false,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):_prodInvariant("101"):void 0;EventPluginOrder=Array.prototype.slice.call(InjectedEventPluginOrder);recomputePluginOrdering()},injectEventPluginsByName:function(injectedNamesToPlugins){var isOrderingDirty=false;for(var pluginName in injectedNamesToPlugins){if(!injectedNamesToPlugins.hasOwnProperty(pluginName)){continue}var PluginModule=injectedNamesToPlugins[pluginName];if(!namesToPlugins.hasOwnProperty(pluginName)||namesToPlugins[pluginName]!==PluginModule){!!namesToPlugins[pluginName]?process.env.NODE_ENV!=="production"?invariant(false,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",pluginName):_prodInvariant("102",pluginName):void 0;namesToPlugins[pluginName]=PluginModule;isOrderingDirty=true}}if(isOrderingDirty){recomputePluginOrdering()}},getPluginModuleForEvent:function(event){var dispatchConfig=event.dispatchConfig;if(dispatchConfig.registrationName){return EventPluginRegistry.registrationNameModules[dispatchConfig.registrationName]||null}for(var phase in dispatchConfig.phasedRegistrationNames){if(!dispatchConfig.phasedRegistrationNames.hasOwnProperty(phase)){continue}var PluginModule=EventPluginRegistry.registrationNameModules[dispatchConfig.phasedRegistrationNames[phase]];if(PluginModule){return PluginModule}}return null},_resetEventPlugins:function(){EventPluginOrder=null;for(var pluginName in namesToPlugins){if(namesToPlugins.hasOwnProperty(pluginName)){delete namesToPlugins[pluginName]}}EventPluginRegistry.plugins.length=0;var eventNameDispatchConfigs=EventPluginRegistry.eventNameDispatchConfigs;for(var eventName in eventNameDispatchConfigs){if(eventNameDispatchConfigs.hasOwnProperty(eventName)){delete eventNameDispatchConfigs[eventName]}}var registrationNameModules=EventPluginRegistry.registrationNameModules;for(var registrationName in registrationNameModules){if(registrationNameModules.hasOwnProperty(registrationName)){delete registrationNameModules[registrationName]}}if(process.env.NODE_ENV!=="production"){var possibleRegistrationNames=EventPluginRegistry.possibleRegistrationNames;for(var lowerCasedName in possibleRegistrationNames){if(possibleRegistrationNames.hasOwnProperty(lowerCasedName)){delete possibleRegistrationNames[lowerCasedName]}}}}};module.exports=EventPluginRegistry}).call(this,require("_process"))},{"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180}],273:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var EventConstants=require("./EventConstants");var ReactErrorUtils=require("./ReactErrorUtils");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");var ComponentTree;var TreeTraversal;var injection={injectComponentTree:function(Injected){ComponentTree=Injected;if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(Injected&&Injected.getNodeFromInstance&&Injected.getInstanceFromNode,"EventPluginUtils.injection.injectComponentTree(...): Injected "+"module is missing getNodeFromInstance or getInstanceFromNode."):void 0}},injectTreeTraversal:function(Injected){TreeTraversal=Injected;if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(Injected&&Injected.isAncestor&&Injected.getLowestCommonAncestor,"EventPluginUtils.injection.injectTreeTraversal(...): Injected "+"module is missing isAncestor or getLowestCommonAncestor."):void 0}}};var topLevelTypes=EventConstants.topLevelTypes;function isEndish(topLevelType){return topLevelType===topLevelTypes.topMouseUp||topLevelType===topLevelTypes.topTouchEnd||topLevelType===topLevelTypes.topTouchCancel}function isMoveish(topLevelType){return topLevelType===topLevelTypes.topMouseMove||topLevelType===topLevelTypes.topTouchMove}function isStartish(topLevelType){return topLevelType===topLevelTypes.topMouseDown||topLevelType===topLevelTypes.topTouchStart}var validateEventDispatches;if(process.env.NODE_ENV!=="production"){validateEventDispatches=function(event){var dispatchListeners=event._dispatchListeners;var dispatchInstances=event._dispatchInstances;var listenersIsArr=Array.isArray(dispatchListeners);var listenersLen=listenersIsArr?dispatchListeners.length:dispatchListeners?1:0;var instancesIsArr=Array.isArray(dispatchInstances);var instancesLen=instancesIsArr?dispatchInstances.length:dispatchInstances?1:0;process.env.NODE_ENV!=="production"?warning(instancesIsArr===listenersIsArr&&instancesLen===listenersLen,"EventPluginUtils: Invalid `event`."):void 0}}function executeDispatch(event,simulated,listener,inst){var type=event.type||"unknown-event";event.currentTarget=EventPluginUtils.getNodeFromInstance(inst);if(simulated){ReactErrorUtils.invokeGuardedCallbackWithCatch(type,listener,event)}else{ReactErrorUtils.invokeGuardedCallback(type,listener,event)}event.currentTarget=null}function executeDispatchesInOrder(event,simulated){var dispatchListeners=event._dispatchListeners;var dispatchInstances=event._dispatchInstances;if(process.env.NODE_ENV!=="production"){validateEventDispatches(event)}if(Array.isArray(dispatchListeners)){for(var i=0;i<dispatchListeners.length;i++){if(event.isPropagationStopped()){break}executeDispatch(event,simulated,dispatchListeners[i],dispatchInstances[i])}}else if(dispatchListeners){executeDispatch(event,simulated,dispatchListeners,dispatchInstances)}event._dispatchListeners=null;event._dispatchInstances=null}function executeDispatchesInOrderStopAtTrueImpl(event){var dispatchListeners=event._dispatchListeners;var dispatchInstances=event._dispatchInstances;if(process.env.NODE_ENV!=="production"){validateEventDispatches(event)}if(Array.isArray(dispatchListeners)){for(var i=0;i<dispatchListeners.length;i++){if(event.isPropagationStopped()){break}if(dispatchListeners[i](event,dispatchInstances[i])){return dispatchInstances[i]}}}else if(dispatchListeners){if(dispatchListeners(event,dispatchInstances)){return dispatchInstances}}return null}function executeDispatchesInOrderStopAtTrue(event){var ret=executeDispatchesInOrderStopAtTrueImpl(event);event._dispatchInstances=null;event._dispatchListeners=null;return ret}function executeDirectDispatch(event){if(process.env.NODE_ENV!=="production"){validateEventDispatches(event)}var dispatchListener=event._dispatchListeners;var dispatchInstance=event._dispatchInstances;!!Array.isArray(dispatchListener)?process.env.NODE_ENV!=="production"?invariant(false,"executeDirectDispatch(...): Invalid `event`."):_prodInvariant("103"):void 0;event.currentTarget=dispatchListener?EventPluginUtils.getNodeFromInstance(dispatchInstance):null;var res=dispatchListener?dispatchListener(event):null;event.currentTarget=null;event._dispatchListeners=null;event._dispatchInstances=null;return res}function hasDispatches(event){return!!event._dispatchListeners}var EventPluginUtils={isEndish:isEndish,isMoveish:isMoveish,isStartish:isStartish,executeDirectDispatch:executeDirectDispatch,executeDispatchesInOrder:executeDispatchesInOrder,executeDispatchesInOrderStopAtTrue:executeDispatchesInOrderStopAtTrue,hasDispatches:hasDispatches,getInstanceFromNode:function(node){return ComponentTree.getInstanceFromNode(node)},getNodeFromInstance:function(node){return ComponentTree.getNodeFromInstance(node)},isAncestor:function(a,b){return TreeTraversal.isAncestor(a,b)},getLowestCommonAncestor:function(a,b){return TreeTraversal.getLowestCommonAncestor(a,b)},getParentInstance:function(inst){return TreeTraversal.getParentInstance(inst)},traverseTwoPhase:function(target,fn,arg){return TreeTraversal.traverseTwoPhase(target,fn,arg)},traverseEnterLeave:function(from,to,fn,argFrom,argTo){return TreeTraversal.traverseEnterLeave(from,to,fn,argFrom,argTo)},injection:injection};module.exports=EventPluginUtils}).call(this,require("_process"))},{"./EventConstants":270,"./ReactErrorUtils":317,"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180,"fbjs/lib/warning":192}],274:[function(require,module,exports){(function(process){"use strict";var EventConstants=require("./EventConstants");var EventPluginHub=require("./EventPluginHub");var EventPluginUtils=require("./EventPluginUtils");var accumulateInto=require("./accumulateInto");var forEachAccumulated=require("./forEachAccumulated");var warning=require("fbjs/lib/warning");var PropagationPhases=EventConstants.PropagationPhases;var getListener=EventPluginHub.getListener;function listenerAtPhase(inst,event,propagationPhase){var registrationName=event.dispatchConfig.phasedRegistrationNames[propagationPhase];return getListener(inst,registrationName)}function accumulateDirectionalDispatches(inst,upwards,event){if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(inst,"Dispatching inst must not be null"):void 0}var phase=upwards?PropagationPhases.bubbled:PropagationPhases.captured;var listener=listenerAtPhase(inst,event,phase);if(listener){event._dispatchListeners=accumulateInto(event._dispatchListeners,listener);event._dispatchInstances=accumulateInto(event._dispatchInstances,inst)}}function accumulateTwoPhaseDispatchesSingle(event){if(event&&event.dispatchConfig.phasedRegistrationNames){EventPluginUtils.traverseTwoPhase(event._targetInst,accumulateDirectionalDispatches,event)}}function accumulateTwoPhaseDispatchesSingleSkipTarget(event){if(event&&event.dispatchConfig.phasedRegistrationNames){var targetInst=event._targetInst;var parentInst=targetInst?EventPluginUtils.getParentInstance(targetInst):null;EventPluginUtils.traverseTwoPhase(parentInst,accumulateDirectionalDispatches,event)}}function accumulateDispatches(inst,ignoredDirection,event){if(event&&event.dispatchConfig.registrationName){var registrationName=event.dispatchConfig.registrationName;var listener=getListener(inst,registrationName);if(listener){event._dispatchListeners=accumulateInto(event._dispatchListeners,listener);event._dispatchInstances=accumulateInto(event._dispatchInstances,inst)}}}function accumulateDirectDispatchesSingle(event){if(event&&event.dispatchConfig.registrationName){accumulateDispatches(event._targetInst,null,event)}}function accumulateTwoPhaseDispatches(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingle)}function accumulateTwoPhaseDispatchesSkipTarget(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingleSkipTarget)}function accumulateEnterLeaveDispatches(leave,enter,from,to){EventPluginUtils.traverseEnterLeave(from,to,accumulateDispatches,leave,enter)}function accumulateDirectDispatches(events){forEachAccumulated(events,accumulateDirectDispatchesSingle)}var EventPropagators={accumulateTwoPhaseDispatches:accumulateTwoPhaseDispatches,accumulateTwoPhaseDispatchesSkipTarget:accumulateTwoPhaseDispatchesSkipTarget,accumulateDirectDispatches:accumulateDirectDispatches,accumulateEnterLeaveDispatches:accumulateEnterLeaveDispatches};module.exports=EventPropagators}).call(this,require("_process"))},{"./EventConstants":270,"./EventPluginHub":271,"./EventPluginUtils":273,"./accumulateInto":366,"./forEachAccumulated":375,_process:216,"fbjs/lib/warning":192}],275:[function(require,module,exports){"use strict";var _assign=require("object-assign");var PooledClass=require("./PooledClass");var getTextContentAccessor=require("./getTextContentAccessor");function FallbackCompositionState(root){this._root=root;this._startText=this.getText();this._fallbackText=null}_assign(FallbackCompositionState.prototype,{destructor:function(){this._root=null;this._startText=null;this._fallbackText=null},getText:function(){if("value"in this._root){return this._root.value}return this._root[getTextContentAccessor()]},getData:function(){if(this._fallbackText){return this._fallbackText}var start;var startValue=this._startText;var startLength=startValue.length;var end;var endValue=this.getText();var endLength=endValue.length;for(start=0;start<startLength;start++){if(startValue[start]!==endValue[start]){break}}var minEnd=startLength-start;for(end=1;end<=minEnd;end++){if(startValue[startLength-end]!==endValue[endLength-end]){break}}var sliceTail=end>1?1-end:undefined;this._fallbackText=endValue.slice(start,sliceTail);return this._fallbackText}});PooledClass.addPoolingTo(FallbackCompositionState);module.exports=FallbackCompositionState},{"./PooledClass":279,"./getTextContentAccessor":383,"object-assign":215}],276:[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty");var MUST_USE_PROPERTY=DOMProperty.injection.MUST_USE_PROPERTY;var HAS_BOOLEAN_VALUE=DOMProperty.injection.HAS_BOOLEAN_VALUE;var HAS_NUMERIC_VALUE=DOMProperty.injection.HAS_NUMERIC_VALUE;var HAS_POSITIVE_NUMERIC_VALUE=DOMProperty.injection.HAS_POSITIVE_NUMERIC_VALUE;var HAS_OVERLOADED_BOOLEAN_VALUE=DOMProperty.injection.HAS_OVERLOADED_BOOLEAN_VALUE;var HTMLDOMPropertyConfig={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+DOMProperty.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:HAS_BOOLEAN_VALUE,allowTransparency:0,alt:0,as:0,async:HAS_BOOLEAN_VALUE,autoComplete:0,autoPlay:HAS_BOOLEAN_VALUE,capture:HAS_BOOLEAN_VALUE,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,cite:0,classID:0,className:0,cols:HAS_POSITIVE_NUMERIC_VALUE,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:HAS_BOOLEAN_VALUE,coords:0,crossOrigin:0,data:0,dateTime:0,default:HAS_BOOLEAN_VALUE,defer:HAS_BOOLEAN_VALUE,dir:0,disabled:HAS_BOOLEAN_VALUE,download:HAS_OVERLOADED_BOOLEAN_VALUE,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:HAS_BOOLEAN_VALUE,formTarget:0,frameBorder:0,headers:0,height:0,hidden:HAS_BOOLEAN_VALUE,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:HAS_BOOLEAN_VALUE,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,muted:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,name:0,nonce:0,noValidate:HAS_BOOLEAN_VALUE,open:HAS_BOOLEAN_VALUE,optimum:0,pattern:0,placeholder:0,playsInline:HAS_BOOLEAN_VALUE,poster:0,preload:0,profile:0,radioGroup:0,readOnly:HAS_BOOLEAN_VALUE,referrerPolicy:0,rel:0,required:HAS_BOOLEAN_VALUE,reversed:HAS_BOOLEAN_VALUE,role:0,rows:HAS_POSITIVE_NUMERIC_VALUE,rowSpan:HAS_NUMERIC_VALUE,sandbox:0,scope:0,scoped:HAS_BOOLEAN_VALUE,scrolling:0,seamless:HAS_BOOLEAN_VALUE,selected:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,shape:0,size:HAS_POSITIVE_NUMERIC_VALUE,sizes:0,span:HAS_POSITIVE_NUMERIC_VALUE,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:HAS_NUMERIC_VALUE,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:HAS_BOOLEAN_VALUE,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};module.exports=HTMLDOMPropertyConfig},{"./DOMProperty":264}],277:[function(require,module,exports){"use strict";function escape(key){var escapeRegex=/[=:]/g;var escaperLookup={
"=":"=0",":":"=2"};var escapedString=(""+key).replace(escapeRegex,function(match){return escaperLookup[match]});return"$"+escapedString}function unescape(key){var unescapeRegex=/(=0|=2)/g;var unescaperLookup={"=0":"=","=2":":"};var keySubstring=key[0]==="."&&key[1]==="$"?key.substring(2):key.substring(1);return(""+keySubstring).replace(unescapeRegex,function(match){return unescaperLookup[match]})}var KeyEscapeUtils={escape:escape,unescape:unescape};module.exports=KeyEscapeUtils},{}],278:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var ReactPropTypes=require("./ReactPropTypes");var ReactPropTypeLocations=require("./ReactPropTypeLocations");var ReactPropTypesSecret=require("./ReactPropTypesSecret");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");var hasReadOnlyValue={button:true,checkbox:true,image:true,hidden:true,radio:true,reset:true,submit:true};function _assertSingleLink(inputProps){!(inputProps.checkedLink==null||inputProps.valueLink==null)?process.env.NODE_ENV!=="production"?invariant(false,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):_prodInvariant("87"):void 0}function _assertValueLink(inputProps){_assertSingleLink(inputProps);!(inputProps.value==null&&inputProps.onChange==null)?process.env.NODE_ENV!=="production"?invariant(false,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):_prodInvariant("88"):void 0}function _assertCheckedLink(inputProps){_assertSingleLink(inputProps);!(inputProps.checked==null&&inputProps.onChange==null)?process.env.NODE_ENV!=="production"?invariant(false,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):_prodInvariant("89"):void 0}var propTypes={value:function(props,propName,componentName){if(!props[propName]||hasReadOnlyValue[props.type]||props.onChange||props.readOnly||props.disabled){return null}return new Error("You provided a `value` prop to a form field without an "+"`onChange` handler. This will render a read-only field. If "+"the field should be mutable use `defaultValue`. Otherwise, "+"set either `onChange` or `readOnly`.")},checked:function(props,propName,componentName){if(!props[propName]||props.onChange||props.readOnly||props.disabled){return null}return new Error("You provided a `checked` prop to a form field without an "+"`onChange` handler. This will render a read-only field. If "+"the field should be mutable use `defaultChecked`. Otherwise, "+"set either `onChange` or `readOnly`.")},onChange:ReactPropTypes.func};var loggedTypeFailures={};function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name){return" Check the render method of `"+name+"`."}}return""}var LinkedValueUtils={checkPropTypes:function(tagName,props,owner){for(var propName in propTypes){if(propTypes.hasOwnProperty(propName)){var error=propTypes[propName](props,propName,tagName,ReactPropTypeLocations.prop,null,ReactPropTypesSecret)}if(error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=true;var addendum=getDeclarationErrorAddendum(owner);process.env.NODE_ENV!=="production"?warning(false,"Failed form propType: %s%s",error.message,addendum):void 0}}},getValue:function(inputProps){if(inputProps.valueLink){_assertValueLink(inputProps);return inputProps.valueLink.value}return inputProps.value},getChecked:function(inputProps){if(inputProps.checkedLink){_assertCheckedLink(inputProps);return inputProps.checkedLink.value}return inputProps.checked},executeOnChange:function(inputProps,event){if(inputProps.valueLink){_assertValueLink(inputProps);return inputProps.valueLink.requestChange(event.target.value)}else if(inputProps.checkedLink){_assertCheckedLink(inputProps);return inputProps.checkedLink.requestChange(event.target.checked)}else if(inputProps.onChange){return inputProps.onChange.call(undefined,event)}}};module.exports=LinkedValueUtils}).call(this,require("_process"))},{"./ReactPropTypeLocations":336,"./ReactPropTypes":337,"./ReactPropTypesSecret":338,"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180,"fbjs/lib/warning":192}],279:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var invariant=require("fbjs/lib/invariant");var oneArgumentPooler=function(copyFieldsFrom){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,copyFieldsFrom);return instance}else{return new Klass(copyFieldsFrom)}};var twoArgumentPooler=function(a1,a2){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2);return instance}else{return new Klass(a1,a2)}};var threeArgumentPooler=function(a1,a2,a3){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3);return instance}else{return new Klass(a1,a2,a3)}};var fourArgumentPooler=function(a1,a2,a3,a4){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3,a4);return instance}else{return new Klass(a1,a2,a3,a4)}};var fiveArgumentPooler=function(a1,a2,a3,a4,a5){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3,a4,a5);return instance}else{return new Klass(a1,a2,a3,a4,a5)}};var standardReleaser=function(instance){var Klass=this;!(instance instanceof Klass)?process.env.NODE_ENV!=="production"?invariant(false,"Trying to release an instance into a pool of a different type."):_prodInvariant("25"):void 0;instance.destructor();if(Klass.instancePool.length<Klass.poolSize){Klass.instancePool.push(instance)}};var DEFAULT_POOL_SIZE=10;var DEFAULT_POOLER=oneArgumentPooler;var addPoolingTo=function(CopyConstructor,pooler){var NewKlass=CopyConstructor;NewKlass.instancePool=[];NewKlass.getPooled=pooler||DEFAULT_POOLER;if(!NewKlass.poolSize){NewKlass.poolSize=DEFAULT_POOL_SIZE}NewKlass.release=standardReleaser;return NewKlass};var PooledClass={addPoolingTo:addPoolingTo,oneArgumentPooler:oneArgumentPooler,twoArgumentPooler:twoArgumentPooler,threeArgumentPooler:threeArgumentPooler,fourArgumentPooler:fourArgumentPooler,fiveArgumentPooler:fiveArgumentPooler};module.exports=PooledClass}).call(this,require("_process"))},{"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180}],280:[function(require,module,exports){(function(process){"use strict";var _assign=require("object-assign");var ReactChildren=require("./ReactChildren");var ReactComponent=require("./ReactComponent");var ReactPureComponent=require("./ReactPureComponent");var ReactClass=require("./ReactClass");var ReactDOMFactories=require("./ReactDOMFactories");var ReactElement=require("./ReactElement");var ReactPropTypes=require("./ReactPropTypes");var ReactVersion=require("./ReactVersion");var onlyChild=require("./onlyChild");var warning=require("fbjs/lib/warning");var createElement=ReactElement.createElement;var createFactory=ReactElement.createFactory;var cloneElement=ReactElement.cloneElement;if(process.env.NODE_ENV!=="production"){var ReactElementValidator=require("./ReactElementValidator");createElement=ReactElementValidator.createElement;createFactory=ReactElementValidator.createFactory;cloneElement=ReactElementValidator.cloneElement}var __spread=_assign;if(process.env.NODE_ENV!=="production"){var warned=false;__spread=function(){process.env.NODE_ENV!=="production"?warning(warned,"React.__spread is deprecated and should not be used. Use "+"Object.assign directly or another helper function with similar "+"semantics. You may be seeing this warning due to your compiler. "+"See https://fb.me/react-spread-deprecation for more details."):void 0;warned=true;return _assign.apply(null,arguments)}}var React={Children:{map:ReactChildren.map,forEach:ReactChildren.forEach,count:ReactChildren.count,toArray:ReactChildren.toArray,only:onlyChild},Component:ReactComponent,PureComponent:ReactPureComponent,createElement:createElement,cloneElement:cloneElement,isValidElement:ReactElement.isValidElement,PropTypes:ReactPropTypes,createClass:ReactClass.createClass,createFactory:createFactory,createMixin:function(mixin){return mixin},DOM:ReactDOMFactories,version:ReactVersion,__spread:__spread};module.exports=React}).call(this,require("_process"))},{"./ReactChildren":283,"./ReactClass":285,"./ReactComponent":286,"./ReactDOMFactories":299,"./ReactElement":314,"./ReactElementValidator":315,"./ReactPropTypes":337,"./ReactPureComponent":339,"./ReactVersion":347,"./onlyChild":388,_process:216,"fbjs/lib/warning":192,"object-assign":215}],281:[function(require,module,exports){"use strict";var _assign=require("object-assign");var EventConstants=require("./EventConstants");var EventPluginRegistry=require("./EventPluginRegistry");var ReactEventEmitterMixin=require("./ReactEventEmitterMixin");var ViewportMetrics=require("./ViewportMetrics");var getVendorPrefixedEventName=require("./getVendorPrefixedEventName");var isEventSupported=require("./isEventSupported");var hasEventPageXY;var alreadyListeningTo={};var isMonitoringScrollValue=false;var reactTopListenersCounter=0;var topEventMapping={topAbort:"abort",topAnimationEnd:getVendorPrefixedEventName("animationend")||"animationend",topAnimationIteration:getVendorPrefixedEventName("animationiteration")||"animationiteration",topAnimationStart:getVendorPrefixedEventName("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:getVendorPrefixedEventName("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"};var topListenersIDKey="_reactListenersID"+String(Math.random()).slice(2);function getListeningForDocument(mountAt){if(!Object.prototype.hasOwnProperty.call(mountAt,topListenersIDKey)){mountAt[topListenersIDKey]=reactTopListenersCounter++;alreadyListeningTo[mountAt[topListenersIDKey]]={}}return alreadyListeningTo[mountAt[topListenersIDKey]]}var ReactBrowserEventEmitter=_assign({},ReactEventEmitterMixin,{ReactEventListener:null,injection:{injectReactEventListener:function(ReactEventListener){ReactEventListener.setHandleTopLevel(ReactBrowserEventEmitter.handleTopLevel);ReactBrowserEventEmitter.ReactEventListener=ReactEventListener}},setEnabled:function(enabled){if(ReactBrowserEventEmitter.ReactEventListener){ReactBrowserEventEmitter.ReactEventListener.setEnabled(enabled)}},isEnabled:function(){return!!(ReactBrowserEventEmitter.ReactEventListener&&ReactBrowserEventEmitter.ReactEventListener.isEnabled())},listenTo:function(registrationName,contentDocumentHandle){var mountAt=contentDocumentHandle;var isListening=getListeningForDocument(mountAt);var dependencies=EventPluginRegistry.registrationNameDependencies[registrationName];var topLevelTypes=EventConstants.topLevelTypes;for(var i=0;i<dependencies.length;i++){var dependency=dependencies[i];if(!(isListening.hasOwnProperty(dependency)&&isListening[dependency])){if(dependency===topLevelTypes.topWheel){if(isEventSupported("wheel")){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"wheel",mountAt)}else if(isEventSupported("mousewheel")){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"mousewheel",mountAt)}else{ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"DOMMouseScroll",mountAt)}}else if(dependency===topLevelTypes.topScroll){if(isEventSupported("scroll",true)){ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topScroll,"scroll",mountAt)}else{ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topScroll,"scroll",ReactBrowserEventEmitter.ReactEventListener.WINDOW_HANDLE)}}else if(dependency===topLevelTypes.topFocus||dependency===topLevelTypes.topBlur){if(isEventSupported("focus",true)){ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topFocus,"focus",mountAt);ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topBlur,"blur",mountAt)}else if(isEventSupported("focusin")){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topFocus,"focusin",mountAt);ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topBlur,"focusout",mountAt)}isListening[topLevelTypes.topBlur]=true;isListening[topLevelTypes.topFocus]=true}else if(topEventMapping.hasOwnProperty(dependency)){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(dependency,topEventMapping[dependency],mountAt)}isListening[dependency]=true}}},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelType,handlerBaseName,handle)},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelType,handlerBaseName,handle)},supportsEventPageXY:function(){if(!document.createEvent){return false}var ev=document.createEvent("MouseEvent");return ev!=null&&"pageX"in ev},ensureScrollValueMonitoring:function(){if(hasEventPageXY===undefined){hasEventPageXY=ReactBrowserEventEmitter.supportsEventPageXY()}if(!hasEventPageXY&&!isMonitoringScrollValue){var refresh=ViewportMetrics.refreshScrollValues;ReactBrowserEventEmitter.ReactEventListener.monitorScrollValue(refresh);isMonitoringScrollValue=true}}});module.exports=ReactBrowserEventEmitter},{"./EventConstants":270,"./EventPluginRegistry":272,"./ReactEventEmitterMixin":318,"./ViewportMetrics":365,"./getVendorPrefixedEventName":384,"./isEventSupported":386,"object-assign":215}],282:[function(require,module,exports){(function(process){"use strict";var ReactReconciler=require("./ReactReconciler");var instantiateReactComponent=require("./instantiateReactComponent");var KeyEscapeUtils=require("./KeyEscapeUtils");var shouldUpdateReactComponent=require("./shouldUpdateReactComponent");var traverseAllChildren=require("./traverseAllChildren");var warning=require("fbjs/lib/warning");var ReactComponentTreeHook;if(typeof process!=="undefined"&&process.env&&process.env.NODE_ENV==="test"){ReactComponentTreeHook=require("./ReactComponentTreeHook")}function instantiateChild(childInstances,child,name,selfDebugID){var keyUnique=childInstances[name]===undefined;if(process.env.NODE_ENV!=="production"){if(!ReactComponentTreeHook){ReactComponentTreeHook=require("./ReactComponentTreeHook")}if(!keyUnique){process.env.NODE_ENV!=="production"?warning(false,"flattenChildren(...): Encountered two children with the same key, "+"`%s`. Child keys must be unique; when two children share a key, only "+"the first child will be used.%s",KeyEscapeUtils.unescape(name),ReactComponentTreeHook.getStackAddendumByID(selfDebugID)):void 0}}if(child!=null&&keyUnique){childInstances[name]=instantiateReactComponent(child,true)}}var ReactChildReconciler={instantiateChildren:function(nestedChildNodes,transaction,context,selfDebugID){if(nestedChildNodes==null){return null}var childInstances={};if(process.env.NODE_ENV!=="production"){traverseAllChildren(nestedChildNodes,function(childInsts,child,name){return instantiateChild(childInsts,child,name,selfDebugID)},childInstances)}else{traverseAllChildren(nestedChildNodes,instantiateChild,childInstances)}return childInstances},updateChildren:function(prevChildren,nextChildren,mountImages,removedNodes,transaction,hostParent,hostContainerInfo,context,selfDebugID){if(!nextChildren&&!prevChildren){return}var name;var prevChild;for(name in nextChildren){if(!nextChildren.hasOwnProperty(name)){continue}prevChild=prevChildren&&prevChildren[name];var prevElement=prevChild&&prevChild._currentElement;var nextElement=nextChildren[name];if(prevChild!=null&&shouldUpdateReactComponent(prevElement,nextElement)){ReactReconciler.receiveComponent(prevChild,nextElement,transaction,context);nextChildren[name]=prevChild}else{if(prevChild){removedNodes[name]=ReactReconciler.getHostNode(prevChild);ReactReconciler.unmountComponent(prevChild,false)}var nextChildInstance=instantiateReactComponent(nextElement,true);nextChildren[name]=nextChildInstance;var nextChildMountImage=ReactReconciler.mountComponent(nextChildInstance,transaction,hostParent,hostContainerInfo,context,selfDebugID);mountImages.push(nextChildMountImage)}}for(name in prevChildren){if(prevChildren.hasOwnProperty(name)&&!(nextChildren&&nextChildren.hasOwnProperty(name))){prevChild=prevChildren[name];removedNodes[name]=ReactReconciler.getHostNode(prevChild);ReactReconciler.unmountComponent(prevChild,false)}}},unmountChildren:function(renderedChildren,safely){for(var name in renderedChildren){if(renderedChildren.hasOwnProperty(name)){var renderedChild=renderedChildren[name];ReactReconciler.unmountComponent(renderedChild,safely)}}}};module.exports=ReactChildReconciler}).call(this,require("_process"))},{"./KeyEscapeUtils":277,"./ReactComponentTreeHook":289,"./ReactReconciler":341,"./instantiateReactComponent":385,"./shouldUpdateReactComponent":394,"./traverseAllChildren":395,_process:216,"fbjs/lib/warning":192}],283:[function(require,module,exports){"use strict";var PooledClass=require("./PooledClass");var ReactElement=require("./ReactElement");var emptyFunction=require("fbjs/lib/emptyFunction");var traverseAllChildren=require("./traverseAllChildren");var twoArgumentPooler=PooledClass.twoArgumentPooler;var fourArgumentPooler=PooledClass.fourArgumentPooler;var userProvidedKeyEscapeRegex=/\/+/g;function escapeUserProvidedKey(text){return(""+text).replace(userProvidedKeyEscapeRegex,"$&/")}function ForEachBookKeeping(forEachFunction,forEachContext){this.func=forEachFunction;this.context=forEachContext;this.count=0}ForEachBookKeeping.prototype.destructor=function(){this.func=null;this.context=null;this.count=0};PooledClass.addPoolingTo(ForEachBookKeeping,twoArgumentPooler);function forEachSingleChild(bookKeeping,child,name){var func=bookKeeping.func;var context=bookKeeping.context;func.call(context,child,bookKeeping.count++)}function forEachChildren(children,forEachFunc,forEachContext){if(children==null){return children}var traverseContext=ForEachBookKeeping.getPooled(forEachFunc,forEachContext);traverseAllChildren(children,forEachSingleChild,traverseContext);ForEachBookKeeping.release(traverseContext)}function MapBookKeeping(mapResult,keyPrefix,mapFunction,mapContext){this.result=mapResult;this.keyPrefix=keyPrefix;this.func=mapFunction;this.context=mapContext;this.count=0}MapBookKeeping.prototype.destructor=function(){this.result=null;this.keyPrefix=null;this.func=null;this.context=null;this.count=0};PooledClass.addPoolingTo(MapBookKeeping,fourArgumentPooler);function mapSingleChildIntoContext(bookKeeping,child,childKey){var result=bookKeeping.result;var keyPrefix=bookKeeping.keyPrefix;var func=bookKeeping.func;var context=bookKeeping.context;var mappedChild=func.call(context,child,bookKeeping.count++);if(Array.isArray(mappedChild)){mapIntoWithKeyPrefixInternal(mappedChild,result,childKey,emptyFunction.thatReturnsArgument)}else if(mappedChild!=null){if(ReactElement.isValidElement(mappedChild)){mappedChild=ReactElement.cloneAndReplaceKey(mappedChild,keyPrefix+(mappedChild.key&&(!child||child.key!==mappedChild.key)?escapeUserProvidedKey(mappedChild.key)+"/":"")+childKey)}result.push(mappedChild)}}function mapIntoWithKeyPrefixInternal(children,array,prefix,func,context){var escapedPrefix="";if(prefix!=null){escapedPrefix=escapeUserProvidedKey(prefix)+"/"}var traverseContext=MapBookKeeping.getPooled(array,escapedPrefix,func,context);traverseAllChildren(children,mapSingleChildIntoContext,traverseContext);MapBookKeeping.release(traverseContext)}function mapChildren(children,func,context){if(children==null){return children}var result=[];mapIntoWithKeyPrefixInternal(children,result,null,func,context);return result}function forEachSingleChildDummy(traverseContext,child,name){return null}function countChildren(children,context){return traverseAllChildren(children,forEachSingleChildDummy,null)}function toArray(children){var result=[];mapIntoWithKeyPrefixInternal(children,result,null,emptyFunction.thatReturnsArgument);return result}var ReactChildren={forEach:forEachChildren,map:mapChildren,mapIntoWithKeyPrefixInternal:mapIntoWithKeyPrefixInternal,count:countChildren,toArray:toArray};module.exports=ReactChildren},{"./PooledClass":279,"./ReactElement":314,"./traverseAllChildren":395,"fbjs/lib/emptyFunction":166}],284:[function(require,module,exports){(function(process){"use strict";var ReactComponentTreeHook=require("./ReactComponentTreeHook");var warning=require("fbjs/lib/warning");function handleElement(debugID,element){if(element==null){return}if(element._shadowChildren===undefined){return}if(element._shadowChildren===element.props.children){return}var isMutated=false;if(Array.isArray(element._shadowChildren)){if(element._shadowChildren.length===element.props.children.length){for(var i=0;i<element._shadowChildren.length;i++){if(element._shadowChildren[i]!==element.props.children[i]){isMutated=true}}}else{isMutated=true}}if(!Array.isArray(element._shadowChildren)||isMutated){process.env.NODE_ENV!=="production"?warning(false,"Component's children should not be mutated.%s",ReactComponentTreeHook.getStackAddendumByID(debugID)):void 0}}var ReactChildrenMutationWarningHook={onMountComponent:function(debugID){handleElement(debugID,ReactComponentTreeHook.getElement(debugID))},onUpdateComponent:function(debugID){handleElement(debugID,ReactComponentTreeHook.getElement(debugID))}};module.exports=ReactChildrenMutationWarningHook}).call(this,require("_process"))},{"./ReactComponentTreeHook":289,_process:216,"fbjs/lib/warning":192}],285:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant"),_assign=require("object-assign");var ReactComponent=require("./ReactComponent");var ReactElement=require("./ReactElement");var ReactPropTypeLocations=require("./ReactPropTypeLocations");var ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames");var ReactNoopUpdateQueue=require("./ReactNoopUpdateQueue");var emptyObject=require("fbjs/lib/emptyObject");var invariant=require("fbjs/lib/invariant");var keyMirror=require("fbjs/lib/keyMirror");var keyOf=require("fbjs/lib/keyOf");var warning=require("fbjs/lib/warning");var MIXINS_KEY=keyOf({mixins:null});var SpecPolicy=keyMirror({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null});var injectedMixins=[];var ReactClassInterface={mixins:SpecPolicy.DEFINE_MANY,statics:SpecPolicy.DEFINE_MANY,propTypes:SpecPolicy.DEFINE_MANY,contextTypes:SpecPolicy.DEFINE_MANY,childContextTypes:SpecPolicy.DEFINE_MANY,getDefaultProps:SpecPolicy.DEFINE_MANY_MERGED,getInitialState:SpecPolicy.DEFINE_MANY_MERGED,getChildContext:SpecPolicy.DEFINE_MANY_MERGED,render:SpecPolicy.DEFINE_ONCE,componentWillMount:SpecPolicy.DEFINE_MANY,componentDidMount:SpecPolicy.DEFINE_MANY,componentWillReceiveProps:SpecPolicy.DEFINE_MANY,shouldComponentUpdate:SpecPolicy.DEFINE_ONCE,componentWillUpdate:SpecPolicy.DEFINE_MANY,componentDidUpdate:SpecPolicy.DEFINE_MANY,componentWillUnmount:SpecPolicy.DEFINE_MANY,updateComponent:SpecPolicy.OVERRIDE_BASE};var RESERVED_SPEC_KEYS={displayName:function(Constructor,displayName){Constructor.displayName=displayName},mixins:function(Constructor,mixins){if(mixins){for(var i=0;i<mixins.length;i++){mixSpecIntoComponent(Constructor,mixins[i])}}},childContextTypes:function(Constructor,childContextTypes){if(process.env.NODE_ENV!=="production"){validateTypeDef(Constructor,childContextTypes,ReactPropTypeLocations.childContext)}Constructor.childContextTypes=_assign({},Constructor.childContextTypes,childContextTypes)},contextTypes:function(Constructor,contextTypes){if(process.env.NODE_ENV!=="production"){validateTypeDef(Constructor,contextTypes,ReactPropTypeLocations.context)}Constructor.contextTypes=_assign({},Constructor.contextTypes,contextTypes)},getDefaultProps:function(Constructor,getDefaultProps){if(Constructor.getDefaultProps){Constructor.getDefaultProps=createMergedResultFunction(Constructor.getDefaultProps,getDefaultProps)}else{Constructor.getDefaultProps=getDefaultProps}},propTypes:function(Constructor,propTypes){if(process.env.NODE_ENV!=="production"){validateTypeDef(Constructor,propTypes,ReactPropTypeLocations.prop)}Constructor.propTypes=_assign({},Constructor.propTypes,propTypes)},statics:function(Constructor,statics){mixStaticSpecIntoComponent(Constructor,statics)},autobind:function(){}};function validateTypeDef(Constructor,typeDef,location){for(var propName in typeDef){if(typeDef.hasOwnProperty(propName)){process.env.NODE_ENV!=="production"?warning(typeof typeDef[propName]==="function","%s: %s type `%s` is invalid; it must be a function, usually from "+"React.PropTypes.",Constructor.displayName||"ReactClass",ReactPropTypeLocationNames[location],propName):void 0}}}function validateMethodOverride(isAlreadyDefined,name){var specPolicy=ReactClassInterface.hasOwnProperty(name)?ReactClassInterface[name]:null;if(ReactClassMixin.hasOwnProperty(name)){!(specPolicy===SpecPolicy.OVERRIDE_BASE)?process.env.NODE_ENV!=="production"?invariant(false,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",name):_prodInvariant("73",name):void 0}if(isAlreadyDefined){!(specPolicy===SpecPolicy.DEFINE_MANY||specPolicy===SpecPolicy.DEFINE_MANY_MERGED)?process.env.NODE_ENV!=="production"?invariant(false,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",name):_prodInvariant("74",name):void 0}}function mixSpecIntoComponent(Constructor,spec){if(!spec){if(process.env.NODE_ENV!=="production"){var typeofSpec=typeof spec;var isMixinValid=typeofSpec==="object"&&spec!==null;process.env.NODE_ENV!=="production"?warning(isMixinValid,"%s: You're attempting to include a mixin that is either null "+"or not an object. Check the mixins included by the component, "+"as well as any mixins they include themselves. "+"Expected object but got %s.",Constructor.displayName||"ReactClass",spec===null?null:typeofSpec):void 0}return}!(typeof spec!=="function")?process.env.NODE_ENV!=="production"?invariant(false,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."):_prodInvariant("75"):void 0;!!ReactElement.isValidElement(spec)?process.env.NODE_ENV!=="production"?invariant(false,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):_prodInvariant("76"):void 0;var proto=Constructor.prototype;var autoBindPairs=proto.__reactAutoBindPairs;if(spec.hasOwnProperty(MIXINS_KEY)){RESERVED_SPEC_KEYS.mixins(Constructor,spec.mixins)}for(var name in spec){if(!spec.hasOwnProperty(name)){continue}if(name===MIXINS_KEY){continue}var property=spec[name];var isAlreadyDefined=proto.hasOwnProperty(name);validateMethodOverride(isAlreadyDefined,name);if(RESERVED_SPEC_KEYS.hasOwnProperty(name)){RESERVED_SPEC_KEYS[name](Constructor,property)}else{var isReactClassMethod=ReactClassInterface.hasOwnProperty(name);var isFunction=typeof property==="function";var shouldAutoBind=isFunction&&!isReactClassMethod&&!isAlreadyDefined&&spec.autobind!==false;if(shouldAutoBind){autoBindPairs.push(name,property);proto[name]=property}else{if(isAlreadyDefined){var specPolicy=ReactClassInterface[name];!(isReactClassMethod&&(specPolicy===SpecPolicy.DEFINE_MANY_MERGED||specPolicy===SpecPolicy.DEFINE_MANY))?process.env.NODE_ENV!=="production"?invariant(false,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",specPolicy,name):_prodInvariant("77",specPolicy,name):void 0;if(specPolicy===SpecPolicy.DEFINE_MANY_MERGED){proto[name]=createMergedResultFunction(proto[name],property)}else if(specPolicy===SpecPolicy.DEFINE_MANY){proto[name]=createChainedFunction(proto[name],property)}}else{proto[name]=property;if(process.env.NODE_ENV!=="production"){if(typeof property==="function"&&spec.displayName){proto[name].displayName=spec.displayName+"_"+name}}}}}}}function mixStaticSpecIntoComponent(Constructor,statics){if(!statics){return}for(var name in statics){var property=statics[name];if(!statics.hasOwnProperty(name)){continue}var isReserved=name in RESERVED_SPEC_KEYS;!!isReserved?process.env.NODE_ENV!=="production"?invariant(false,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',name):_prodInvariant("78",name):void 0;var isInherited=name in Constructor;!!isInherited?process.env.NODE_ENV!=="production"?invariant(false,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",name):_prodInvariant("79",name):void 0;Constructor[name]=property}}function mergeIntoWithNoDuplicateKeys(one,two){!(one&&two&&typeof one==="object"&&typeof two==="object")?process.env.NODE_ENV!=="production"?invariant(false,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):_prodInvariant("80"):void 0;for(var key in two){if(two.hasOwnProperty(key)){!(one[key]===undefined)?process.env.NODE_ENV!=="production"?invariant(false,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",key):_prodInvariant("81",key):void 0;one[key]=two[key]}}return one}function createMergedResultFunction(one,two){return function mergedResult(){var a=one.apply(this,arguments);var b=two.apply(this,arguments);if(a==null){return b}else if(b==null){return a}var c={};mergeIntoWithNoDuplicateKeys(c,a);mergeIntoWithNoDuplicateKeys(c,b);return c}}function createChainedFunction(one,two){return function chainedFunction(){one.apply(this,arguments);two.apply(this,arguments)}}function bindAutoBindMethod(component,method){var boundMethod=method.bind(component);if(process.env.NODE_ENV!=="production"){boundMethod.__reactBoundContext=component;boundMethod.__reactBoundMethod=method;boundMethod.__reactBoundArguments=null;var componentName=component.constructor.displayName;var _bind=boundMethod.bind;boundMethod.bind=function(newThis){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}if(newThis!==component&&newThis!==null){
process.env.NODE_ENV!=="production"?warning(false,"bind(): React component methods may only be bound to the "+"component instance. See %s",componentName):void 0}else if(!args.length){process.env.NODE_ENV!=="production"?warning(false,"bind(): You are binding a component method to the component. "+"React does this for you automatically in a high-performance "+"way, so you can safely remove this call. See %s",componentName):void 0;return boundMethod}var reboundMethod=_bind.apply(boundMethod,arguments);reboundMethod.__reactBoundContext=component;reboundMethod.__reactBoundMethod=method;reboundMethod.__reactBoundArguments=args;return reboundMethod}}return boundMethod}function bindAutoBindMethods(component){var pairs=component.__reactAutoBindPairs;for(var i=0;i<pairs.length;i+=2){var autoBindKey=pairs[i];var method=pairs[i+1];component[autoBindKey]=bindAutoBindMethod(component,method)}}var ReactClassMixin={replaceState:function(newState,callback){this.updater.enqueueReplaceState(this,newState);if(callback){this.updater.enqueueCallback(this,callback,"replaceState")}},isMounted:function(){return this.updater.isMounted(this)}};var ReactClassComponent=function(){};_assign(ReactClassComponent.prototype,ReactComponent.prototype,ReactClassMixin);var ReactClass={createClass:function(spec){var Constructor=function(props,context,updater){if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(this instanceof Constructor,"Something is calling a React component directly. Use a factory or "+"JSX instead. See: https://fb.me/react-legacyfactory"):void 0}if(this.__reactAutoBindPairs.length){bindAutoBindMethods(this)}this.props=props;this.context=context;this.refs=emptyObject;this.updater=updater||ReactNoopUpdateQueue;this.state=null;var initialState=this.getInitialState?this.getInitialState():null;if(process.env.NODE_ENV!=="production"){if(initialState===undefined&&this.getInitialState._isMockFunction){initialState=null}}!(typeof initialState==="object"&&!Array.isArray(initialState))?process.env.NODE_ENV!=="production"?invariant(false,"%s.getInitialState(): must return an object or null",Constructor.displayName||"ReactCompositeComponent"):_prodInvariant("82",Constructor.displayName||"ReactCompositeComponent"):void 0;this.state=initialState};Constructor.prototype=new ReactClassComponent;Constructor.prototype.constructor=Constructor;Constructor.prototype.__reactAutoBindPairs=[];injectedMixins.forEach(mixSpecIntoComponent.bind(null,Constructor));mixSpecIntoComponent(Constructor,spec);if(Constructor.getDefaultProps){Constructor.defaultProps=Constructor.getDefaultProps()}if(process.env.NODE_ENV!=="production"){if(Constructor.getDefaultProps){Constructor.getDefaultProps.isReactClassApproved={}}if(Constructor.prototype.getInitialState){Constructor.prototype.getInitialState.isReactClassApproved={}}}!Constructor.prototype.render?process.env.NODE_ENV!=="production"?invariant(false,"createClass(...): Class specification must implement a `render` method."):_prodInvariant("83"):void 0;if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(!Constructor.prototype.componentShouldUpdate,"%s has a method called "+"componentShouldUpdate(). Did you mean shouldComponentUpdate()? "+"The name is phrased as a question because the function is "+"expected to return a value.",spec.displayName||"A component"):void 0;process.env.NODE_ENV!=="production"?warning(!Constructor.prototype.componentWillRecieveProps,"%s has a method called "+"componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",spec.displayName||"A component"):void 0}for(var methodName in ReactClassInterface){if(!Constructor.prototype[methodName]){Constructor.prototype[methodName]=null}}return Constructor},injection:{injectMixin:function(mixin){injectedMixins.push(mixin)}}};module.exports=ReactClass}).call(this,require("_process"))},{"./ReactComponent":286,"./ReactElement":314,"./ReactNoopUpdateQueue":333,"./ReactPropTypeLocationNames":335,"./ReactPropTypeLocations":336,"./reactProdInvariant":390,_process:216,"fbjs/lib/emptyObject":167,"fbjs/lib/invariant":180,"fbjs/lib/keyMirror":184,"fbjs/lib/keyOf":185,"fbjs/lib/warning":192,"object-assign":215}],286:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var ReactNoopUpdateQueue=require("./ReactNoopUpdateQueue");var canDefineProperty=require("./canDefineProperty");var emptyObject=require("fbjs/lib/emptyObject");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");function ReactComponent(props,context,updater){this.props=props;this.context=context;this.refs=emptyObject;this.updater=updater||ReactNoopUpdateQueue}ReactComponent.prototype.isReactComponent={};ReactComponent.prototype.setState=function(partialState,callback){!(typeof partialState==="object"||typeof partialState==="function"||partialState==null)?process.env.NODE_ENV!=="production"?invariant(false,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):_prodInvariant("85"):void 0;this.updater.enqueueSetState(this,partialState);if(callback){this.updater.enqueueCallback(this,callback,"setState")}};ReactComponent.prototype.forceUpdate=function(callback){this.updater.enqueueForceUpdate(this);if(callback){this.updater.enqueueCallback(this,callback,"forceUpdate")}};if(process.env.NODE_ENV!=="production"){var deprecatedAPIs={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in "+"componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see "+"https://github.com/facebook/react/issues/3236)."]};var defineDeprecationWarning=function(methodName,info){if(canDefineProperty){Object.defineProperty(ReactComponent.prototype,methodName,{get:function(){process.env.NODE_ENV!=="production"?warning(false,"%s(...) is deprecated in plain JavaScript React classes. %s",info[0],info[1]):void 0;return undefined}})}};for(var fnName in deprecatedAPIs){if(deprecatedAPIs.hasOwnProperty(fnName)){defineDeprecationWarning(fnName,deprecatedAPIs[fnName])}}}module.exports=ReactComponent}).call(this,require("_process"))},{"./ReactNoopUpdateQueue":333,"./canDefineProperty":368,"./reactProdInvariant":390,_process:216,"fbjs/lib/emptyObject":167,"fbjs/lib/invariant":180,"fbjs/lib/warning":192}],287:[function(require,module,exports){"use strict";var DOMChildrenOperations=require("./DOMChildrenOperations");var ReactDOMIDOperations=require("./ReactDOMIDOperations");var ReactComponentBrowserEnvironment={processChildrenUpdates:ReactDOMIDOperations.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:DOMChildrenOperations.dangerouslyReplaceNodeWithMarkup};module.exports=ReactComponentBrowserEnvironment},{"./DOMChildrenOperations":261,"./ReactDOMIDOperations":301}],288:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var invariant=require("fbjs/lib/invariant");var injected=false;var ReactComponentEnvironment={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(environment){!!injected?process.env.NODE_ENV!=="production"?invariant(false,"ReactCompositeComponent: injectEnvironment() can only be called once."):_prodInvariant("104"):void 0;ReactComponentEnvironment.replaceNodeWithMarkup=environment.replaceNodeWithMarkup;ReactComponentEnvironment.processChildrenUpdates=environment.processChildrenUpdates;injected=true}}};module.exports=ReactComponentEnvironment}).call(this,require("_process"))},{"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180}],289:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var ReactCurrentOwner=require("./ReactCurrentOwner");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");function isNative(fn){var funcToString=Function.prototype.toString;var hasOwnProperty=Object.prototype.hasOwnProperty;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var source=funcToString.call(fn);return reIsNative.test(source)}catch(err){return false}}var canUseCollections=typeof Array.from==="function"&&typeof Map==="function"&&isNative(Map)&&Map.prototype!=null&&typeof Map.prototype.keys==="function"&&isNative(Map.prototype.keys)&&typeof Set==="function"&&isNative(Set)&&Set.prototype!=null&&typeof Set.prototype.keys==="function"&&isNative(Set.prototype.keys);var itemMap;var rootIDSet;var itemByKey;var rootByKey;if(canUseCollections){itemMap=new Map;rootIDSet=new Set}else{itemByKey={};rootByKey={}}var unmountedIDs=[];function getKeyFromID(id){return"."+id}function getIDFromKey(key){return parseInt(key.substr(1),10)}function get(id){if(canUseCollections){return itemMap.get(id)}else{var key=getKeyFromID(id);return itemByKey[key]}}function remove(id){if(canUseCollections){itemMap["delete"](id)}else{var key=getKeyFromID(id);delete itemByKey[key]}}function create(id,element,parentID){var item={element:element,parentID:parentID,text:null,childIDs:[],isMounted:false,updateCount:0};if(canUseCollections){itemMap.set(id,item)}else{var key=getKeyFromID(id);itemByKey[key]=item}}function addRoot(id){if(canUseCollections){rootIDSet.add(id)}else{var key=getKeyFromID(id);rootByKey[key]=true}}function removeRoot(id){if(canUseCollections){rootIDSet["delete"](id)}else{var key=getKeyFromID(id);delete rootByKey[key]}}function getRegisteredIDs(){if(canUseCollections){return Array.from(itemMap.keys())}else{return Object.keys(itemByKey).map(getIDFromKey)}}function getRootIDs(){if(canUseCollections){return Array.from(rootIDSet.keys())}else{return Object.keys(rootByKey).map(getIDFromKey)}}function purgeDeep(id){var item=get(id);if(item){var childIDs=item.childIDs;remove(id);childIDs.forEach(purgeDeep)}}function describeComponentFrame(name,source,ownerName){return"\n    in "+name+(source?" (at "+source.fileName.replace(/^.*[\\\/]/,"")+":"+source.lineNumber+")":ownerName?" (created by "+ownerName+")":"")}function getDisplayName(element){if(element==null){return"#empty"}else if(typeof element==="string"||typeof element==="number"){return"#text"}else if(typeof element.type==="string"){return element.type}else{return element.type.displayName||element.type.name||"Unknown"}}function describeID(id){var name=ReactComponentTreeHook.getDisplayName(id);var element=ReactComponentTreeHook.getElement(id);var ownerID=ReactComponentTreeHook.getOwnerID(id);var ownerName;if(ownerID){ownerName=ReactComponentTreeHook.getDisplayName(ownerID)}process.env.NODE_ENV!=="production"?warning(element,"ReactComponentTreeHook: Missing React element for debugID %s when "+"building stack",id):void 0;return describeComponentFrame(name,element&&element._source,ownerName)}var ReactComponentTreeHook={onSetChildren:function(id,nextChildIDs){var item=get(id);item.childIDs=nextChildIDs;for(var i=0;i<nextChildIDs.length;i++){var nextChildID=nextChildIDs[i];var nextChild=get(nextChildID);!nextChild?process.env.NODE_ENV!=="production"?invariant(false,"Expected hook events to fire for the child before its parent includes it in onSetChildren()."):_prodInvariant("140"):void 0;!(nextChild.childIDs!=null||typeof nextChild.element!=="object"||nextChild.element==null)?process.env.NODE_ENV!=="production"?invariant(false,"Expected onSetChildren() to fire for a container child before its parent includes it in onSetChildren()."):_prodInvariant("141"):void 0;!nextChild.isMounted?process.env.NODE_ENV!=="production"?invariant(false,"Expected onMountComponent() to fire for the child before its parent includes it in onSetChildren()."):_prodInvariant("71"):void 0;if(nextChild.parentID==null){nextChild.parentID=id}!(nextChild.parentID===id)?process.env.NODE_ENV!=="production"?invariant(false,"Expected onBeforeMountComponent() parent and onSetChildren() to be consistent (%s has parents %s and %s).",nextChildID,nextChild.parentID,id):_prodInvariant("142",nextChildID,nextChild.parentID,id):void 0}},onBeforeMountComponent:function(id,element,parentID){create(id,element,parentID)},onBeforeUpdateComponent:function(id,element){var item=get(id);if(!item||!item.isMounted){return}item.element=element},onMountComponent:function(id){var item=get(id);item.isMounted=true;var isRoot=item.parentID===0;if(isRoot){addRoot(id)}},onUpdateComponent:function(id){var item=get(id);if(!item||!item.isMounted){return}item.updateCount++},onUnmountComponent:function(id){var item=get(id);if(item){item.isMounted=false;var isRoot=item.parentID===0;if(isRoot){removeRoot(id)}}unmountedIDs.push(id)},purgeUnmountedComponents:function(){if(ReactComponentTreeHook._preventPurging){return}for(var i=0;i<unmountedIDs.length;i++){var id=unmountedIDs[i];purgeDeep(id)}unmountedIDs.length=0},isMounted:function(id){var item=get(id);return item?item.isMounted:false},getCurrentStackAddendum:function(topElement){var info="";if(topElement){var type=topElement.type;var name=typeof type==="function"?type.displayName||type.name:type;var owner=topElement._owner;info+=describeComponentFrame(name||"Unknown",topElement._source,owner&&owner.getName())}var currentOwner=ReactCurrentOwner.current;var id=currentOwner&&currentOwner._debugID;info+=ReactComponentTreeHook.getStackAddendumByID(id);return info},getStackAddendumByID:function(id){var info="";while(id){info+=describeID(id);id=ReactComponentTreeHook.getParentID(id)}return info},getChildIDs:function(id){var item=get(id);return item?item.childIDs:[]},getDisplayName:function(id){var element=ReactComponentTreeHook.getElement(id);if(!element){return null}return getDisplayName(element)},getElement:function(id){var item=get(id);return item?item.element:null},getOwnerID:function(id){var element=ReactComponentTreeHook.getElement(id);if(!element||!element._owner){return null}return element._owner._debugID},getParentID:function(id){var item=get(id);return item?item.parentID:null},getSource:function(id){var item=get(id);var element=item?item.element:null;var source=element!=null?element._source:null;return source},getText:function(id){var element=ReactComponentTreeHook.getElement(id);if(typeof element==="string"){return element}else if(typeof element==="number"){return""+element}else{return null}},getUpdateCount:function(id){var item=get(id);return item?item.updateCount:0},getRegisteredIDs:getRegisteredIDs,getRootIDs:getRootIDs};module.exports=ReactComponentTreeHook}).call(this,require("_process"))},{"./ReactCurrentOwner":291,"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180,"fbjs/lib/warning":192}],290:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant"),_assign=require("object-assign");var ReactComponentEnvironment=require("./ReactComponentEnvironment");var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactElement=require("./ReactElement");var ReactErrorUtils=require("./ReactErrorUtils");var ReactInstanceMap=require("./ReactInstanceMap");var ReactInstrumentation=require("./ReactInstrumentation");var ReactNodeTypes=require("./ReactNodeTypes");var ReactPropTypeLocations=require("./ReactPropTypeLocations");var ReactReconciler=require("./ReactReconciler");var checkReactTypeSpec=require("./checkReactTypeSpec");var emptyObject=require("fbjs/lib/emptyObject");var invariant=require("fbjs/lib/invariant");var shallowEqual=require("fbjs/lib/shallowEqual");var shouldUpdateReactComponent=require("./shouldUpdateReactComponent");var warning=require("fbjs/lib/warning");var CompositeTypes={ImpureClass:0,PureClass:1,StatelessFunctional:2};function StatelessComponent(Component){}StatelessComponent.prototype.render=function(){var Component=ReactInstanceMap.get(this)._currentElement.type;var element=Component(this.props,this.context,this.updater);warnIfInvalidElement(Component,element);return element};function warnIfInvalidElement(Component,element){if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(element===null||element===false||ReactElement.isValidElement(element),"%s(...): A valid React element (or null) must be returned. You may have "+"returned undefined, an array or some other invalid object.",Component.displayName||Component.name||"Component"):void 0;process.env.NODE_ENV!=="production"?warning(!Component.childContextTypes,"%s(...): childContextTypes cannot be defined on a functional component.",Component.displayName||Component.name||"Component"):void 0}}function shouldConstruct(Component){return!!(Component.prototype&&Component.prototype.isReactComponent)}function isPureComponent(Component){return!!(Component.prototype&&Component.prototype.isPureReactComponent)}function measureLifeCyclePerf(fn,debugID,timerType){if(debugID===0){return fn()}ReactInstrumentation.debugTool.onBeginLifeCycleTimer(debugID,timerType);try{return fn()}finally{ReactInstrumentation.debugTool.onEndLifeCycleTimer(debugID,timerType)}}var nextMountID=1;var ReactCompositeComponentMixin={construct:function(element){this._currentElement=element;this._rootNodeID=0;this._compositeType=null;this._instance=null;this._hostParent=null;this._hostContainerInfo=null;this._updateBatchNumber=null;this._pendingElement=null;this._pendingStateQueue=null;this._pendingReplaceState=false;this._pendingForceUpdate=false;this._renderedNodeType=null;this._renderedComponent=null;this._context=null;this._mountOrder=0;this._topLevelWrapper=null;this._pendingCallbacks=null;this._calledComponentWillUnmount=false;if(process.env.NODE_ENV!=="production"){this._warnedAboutRefsInRender=false}},mountComponent:function(transaction,hostParent,hostContainerInfo,context){var _this=this;this._context=context;this._mountOrder=nextMountID++;this._hostParent=hostParent;this._hostContainerInfo=hostContainerInfo;var publicProps=this._currentElement.props;var publicContext=this._processContext(context);var Component=this._currentElement.type;var updateQueue=transaction.getUpdateQueue();var doConstruct=shouldConstruct(Component);var inst=this._constructComponent(doConstruct,publicProps,publicContext,updateQueue);var renderedElement;if(!doConstruct&&(inst==null||inst.render==null)){renderedElement=inst;warnIfInvalidElement(Component,renderedElement);!(inst===null||inst===false||ReactElement.isValidElement(inst))?process.env.NODE_ENV!=="production"?invariant(false,"%s(...): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",Component.displayName||Component.name||"Component"):_prodInvariant("105",Component.displayName||Component.name||"Component"):void 0;inst=new StatelessComponent(Component);this._compositeType=CompositeTypes.StatelessFunctional}else{if(isPureComponent(Component)){this._compositeType=CompositeTypes.PureClass}else{this._compositeType=CompositeTypes.ImpureClass}}if(process.env.NODE_ENV!=="production"){if(inst.render==null){process.env.NODE_ENV!=="production"?warning(false,"%s(...): No `render` method found on the returned component "+"instance: you may have forgotten to define `render`.",Component.displayName||Component.name||"Component"):void 0}var propsMutated=inst.props!==publicProps;var componentName=Component.displayName||Component.name||"Component";process.env.NODE_ENV!=="production"?warning(inst.props===undefined||!propsMutated,"%s(...): When calling super() in `%s`, make sure to pass "+"up the same props that your component's constructor was passed.",componentName,componentName):void 0}inst.props=publicProps;inst.context=publicContext;inst.refs=emptyObject;inst.updater=updateQueue;this._instance=inst;ReactInstanceMap.set(inst,this);if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(!inst.getInitialState||inst.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. "+"This is only supported for classes created using React.createClass. "+"Did you mean to define a state property instead?",this.getName()||"a component"):void 0;process.env.NODE_ENV!=="production"?warning(!inst.getDefaultProps||inst.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. "+"This is only supported for classes created using React.createClass. "+"Use a static property to define defaultProps instead.",this.getName()||"a component"):void 0;process.env.NODE_ENV!=="production"?warning(!inst.propTypes,"propTypes was defined as an instance property on %s. Use a static "+"property to define propTypes instead.",this.getName()||"a component"):void 0;process.env.NODE_ENV!=="production"?warning(!inst.contextTypes,"contextTypes was defined as an instance property on %s. Use a "+"static property to define contextTypes instead.",this.getName()||"a component"):void 0;process.env.NODE_ENV!=="production"?warning(typeof inst.componentShouldUpdate!=="function","%s has a method called "+"componentShouldUpdate(). Did you mean shouldComponentUpdate()? "+"The name is phrased as a question because the function is "+"expected to return a value.",this.getName()||"A component"):void 0;process.env.NODE_ENV!=="production"?warning(typeof inst.componentDidUnmount!=="function","%s has a method called "+"componentDidUnmount(). But there is no such lifecycle method. "+"Did you mean componentWillUnmount()?",this.getName()||"A component"):void 0;process.env.NODE_ENV!=="production"?warning(typeof inst.componentWillRecieveProps!=="function","%s has a method called "+"componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component"):void 0}var initialState=inst.state;if(initialState===undefined){inst.state=initialState=null}!(typeof initialState==="object"&&!Array.isArray(initialState))?process.env.NODE_ENV!=="production"?invariant(false,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):_prodInvariant("106",this.getName()||"ReactCompositeComponent"):void 0;this._pendingStateQueue=null;this._pendingReplaceState=false;this._pendingForceUpdate=false;var markup;if(inst.unstable_handleError){markup=this.performInitialMountWithErrorHandling(renderedElement,hostParent,hostContainerInfo,transaction,context)}else{markup=this.performInitialMount(renderedElement,hostParent,hostContainerInfo,transaction,context)}if(inst.componentDidMount){if(process.env.NODE_ENV!=="production"){transaction.getReactMountReady().enqueue(function(){measureLifeCyclePerf(function(){return inst.componentDidMount()},_this._debugID,"componentDidMount")})}else{transaction.getReactMountReady().enqueue(inst.componentDidMount,inst)}}return markup},_constructComponent:function(doConstruct,publicProps,publicContext,updateQueue){if(process.env.NODE_ENV!=="production"){ReactCurrentOwner.current=this;try{return this._constructComponentWithoutOwner(doConstruct,publicProps,publicContext,updateQueue)}finally{ReactCurrentOwner.current=null}}else{return this._constructComponentWithoutOwner(doConstruct,publicProps,publicContext,updateQueue)}},_constructComponentWithoutOwner:function(doConstruct,publicProps,publicContext,updateQueue){var Component=this._currentElement.type;if(doConstruct){if(process.env.NODE_ENV!=="production"){return measureLifeCyclePerf(function(){return new Component(publicProps,publicContext,updateQueue)},this._debugID,"ctor")}else{return new Component(publicProps,publicContext,updateQueue)}}if(process.env.NODE_ENV!=="production"){return measureLifeCyclePerf(function(){return Component(publicProps,publicContext,updateQueue)},this._debugID,"render")}else{return Component(publicProps,publicContext,updateQueue)}},performInitialMountWithErrorHandling:function(renderedElement,hostParent,hostContainerInfo,transaction,context){var markup;var checkpoint=transaction.checkpoint();try{markup=this.performInitialMount(renderedElement,hostParent,hostContainerInfo,transaction,context)}catch(e){transaction.rollback(checkpoint);this._instance.unstable_handleError(e);if(this._pendingStateQueue){this._instance.state=this._processPendingState(this._instance.props,this._instance.context)}checkpoint=transaction.checkpoint();this._renderedComponent.unmountComponent(true);transaction.rollback(checkpoint);markup=this.performInitialMount(renderedElement,hostParent,hostContainerInfo,transaction,context)}return markup},performInitialMount:function(renderedElement,hostParent,hostContainerInfo,transaction,context){var inst=this._instance;var debugID=0;if(process.env.NODE_ENV!=="production"){debugID=this._debugID}if(inst.componentWillMount){if(process.env.NODE_ENV!=="production"){measureLifeCyclePerf(function(){return inst.componentWillMount()},debugID,"componentWillMount")}else{inst.componentWillMount()}if(this._pendingStateQueue){inst.state=this._processPendingState(inst.props,inst.context)}}if(renderedElement===undefined){renderedElement=this._renderValidatedComponent()}var nodeType=ReactNodeTypes.getType(renderedElement);this._renderedNodeType=nodeType;var child=this._instantiateReactComponent(renderedElement,nodeType!==ReactNodeTypes.EMPTY);this._renderedComponent=child;var markup=ReactReconciler.mountComponent(child,transaction,hostParent,hostContainerInfo,this._processChildContext(context),debugID);if(process.env.NODE_ENV!=="production"){if(debugID!==0){var childDebugIDs=child._debugID!==0?[child._debugID]:[];ReactInstrumentation.debugTool.onSetChildren(debugID,childDebugIDs)}}return markup},getHostNode:function(){return ReactReconciler.getHostNode(this._renderedComponent)},unmountComponent:function(safely){if(!this._renderedComponent){return}var inst=this._instance;if(inst.componentWillUnmount&&!inst._calledComponentWillUnmount){inst._calledComponentWillUnmount=true;if(safely){var name=this.getName()+".componentWillUnmount()";ReactErrorUtils.invokeGuardedCallback(name,inst.componentWillUnmount.bind(inst))}else{if(process.env.NODE_ENV!=="production"){measureLifeCyclePerf(function(){return inst.componentWillUnmount()},this._debugID,"componentWillUnmount")}else{inst.componentWillUnmount()}}}if(this._renderedComponent){ReactReconciler.unmountComponent(this._renderedComponent,safely);this._renderedNodeType=null;this._renderedComponent=null;this._instance=null}this._pendingStateQueue=null;this._pendingReplaceState=false;this._pendingForceUpdate=false;this._pendingCallbacks=null;this._pendingElement=null;this._context=null;this._rootNodeID=0;this._topLevelWrapper=null;ReactInstanceMap.remove(inst)},_maskContext:function(context){var Component=this._currentElement.type;var contextTypes=Component.contextTypes;if(!contextTypes){return emptyObject}var maskedContext={};for(var contextName in contextTypes){maskedContext[contextName]=context[contextName]}return maskedContext},_processContext:function(context){var maskedContext=this._maskContext(context);if(process.env.NODE_ENV!=="production"){var Component=this._currentElement.type;if(Component.contextTypes){this._checkContextTypes(Component.contextTypes,maskedContext,ReactPropTypeLocations.context)}}return maskedContext},_processChildContext:function(currentContext){var Component=this._currentElement.type;var inst=this._instance;var childContext;if(inst.getChildContext){if(process.env.NODE_ENV!=="production"){ReactInstrumentation.debugTool.onBeginProcessingChildContext();try{childContext=inst.getChildContext()}finally{ReactInstrumentation.debugTool.onEndProcessingChildContext()}}else{childContext=inst.getChildContext()}}if(childContext){!(typeof Component.childContextTypes==="object")?process.env.NODE_ENV!=="production"?invariant(false,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):_prodInvariant("107",this.getName()||"ReactCompositeComponent"):void 0;if(process.env.NODE_ENV!=="production"){this._checkContextTypes(Component.childContextTypes,childContext,ReactPropTypeLocations.childContext)}for(var name in childContext){!(name in Component.childContextTypes)?process.env.NODE_ENV!=="production"?invariant(false,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",name):_prodInvariant("108",this.getName()||"ReactCompositeComponent",name):void 0}return _assign({},currentContext,childContext)}return currentContext},_checkContextTypes:function(typeSpecs,values,location){checkReactTypeSpec(typeSpecs,values,location,this.getName(),null,this._debugID)},receiveComponent:function(nextElement,transaction,nextContext){var prevElement=this._currentElement;var prevContext=this._context;this._pendingElement=null;this.updateComponent(transaction,prevElement,nextElement,prevContext,nextContext)},performUpdateIfNecessary:function(transaction){if(this._pendingElement!=null){ReactReconciler.receiveComponent(this,this._pendingElement,transaction,this._context)}else if(this._pendingStateQueue!==null||this._pendingForceUpdate){this.updateComponent(transaction,this._currentElement,this._currentElement,this._context,this._context)}else{this._updateBatchNumber=null}},updateComponent:function(transaction,prevParentElement,nextParentElement,prevUnmaskedContext,nextUnmaskedContext){var inst=this._instance;!(inst!=null)?process.env.NODE_ENV!=="production"?invariant(false,"Attempted to update component `%s` that has already been unmounted (or failed to mount).",this.getName()||"ReactCompositeComponent"):_prodInvariant("136",this.getName()||"ReactCompositeComponent"):void 0;var willReceive=false;var nextContext;if(this._context===nextUnmaskedContext){nextContext=inst.context}else{nextContext=this._processContext(nextUnmaskedContext);willReceive=true}var prevProps=prevParentElement.props;var nextProps=nextParentElement.props;if(prevParentElement!==nextParentElement){willReceive=true}if(willReceive&&inst.componentWillReceiveProps){if(process.env.NODE_ENV!=="production"){measureLifeCyclePerf(function(){return inst.componentWillReceiveProps(nextProps,nextContext)},this._debugID,"componentWillReceiveProps")}else{inst.componentWillReceiveProps(nextProps,nextContext)}}var nextState=this._processPendingState(nextProps,nextContext);var shouldUpdate=true;if(!this._pendingForceUpdate){if(inst.shouldComponentUpdate){if(process.env.NODE_ENV!=="production"){shouldUpdate=measureLifeCyclePerf(function(){return inst.shouldComponentUpdate(nextProps,nextState,nextContext)},this._debugID,"shouldComponentUpdate")}else{shouldUpdate=inst.shouldComponentUpdate(nextProps,nextState,nextContext)}}else{if(this._compositeType===CompositeTypes.PureClass){shouldUpdate=!shallowEqual(prevProps,nextProps)||!shallowEqual(inst.state,nextState)}}}if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(shouldUpdate!==undefined,"%s.shouldComponentUpdate(): Returned undefined instead of a "+"boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):void 0}this._updateBatchNumber=null;if(shouldUpdate){this._pendingForceUpdate=false;this._performComponentUpdate(nextParentElement,nextProps,nextState,nextContext,transaction,nextUnmaskedContext)}else{this._currentElement=nextParentElement;this._context=nextUnmaskedContext;inst.props=nextProps;inst.state=nextState;inst.context=nextContext}},_processPendingState:function(props,context){var inst=this._instance;var queue=this._pendingStateQueue;var replace=this._pendingReplaceState;this._pendingReplaceState=false;this._pendingStateQueue=null;if(!queue){return inst.state}if(replace&&queue.length===1){return queue[0]}var nextState=_assign({},replace?queue[0]:inst.state);for(var i=replace?1:0;i<queue.length;i++){var partial=queue[i];_assign(nextState,typeof partial==="function"?partial.call(inst,nextState,props,context):partial)}return nextState},_performComponentUpdate:function(nextElement,nextProps,nextState,nextContext,transaction,unmaskedContext){var _this2=this;var inst=this._instance;var hasComponentDidUpdate=Boolean(inst.componentDidUpdate);
var prevProps;var prevState;var prevContext;if(hasComponentDidUpdate){prevProps=inst.props;prevState=inst.state;prevContext=inst.context}if(inst.componentWillUpdate){if(process.env.NODE_ENV!=="production"){measureLifeCyclePerf(function(){return inst.componentWillUpdate(nextProps,nextState,nextContext)},this._debugID,"componentWillUpdate")}else{inst.componentWillUpdate(nextProps,nextState,nextContext)}}this._currentElement=nextElement;this._context=unmaskedContext;inst.props=nextProps;inst.state=nextState;inst.context=nextContext;this._updateRenderedComponent(transaction,unmaskedContext);if(hasComponentDidUpdate){if(process.env.NODE_ENV!=="production"){transaction.getReactMountReady().enqueue(function(){measureLifeCyclePerf(inst.componentDidUpdate.bind(inst,prevProps,prevState,prevContext),_this2._debugID,"componentDidUpdate")})}else{transaction.getReactMountReady().enqueue(inst.componentDidUpdate.bind(inst,prevProps,prevState,prevContext),inst)}}},_updateRenderedComponent:function(transaction,context){var prevComponentInstance=this._renderedComponent;var prevRenderedElement=prevComponentInstance._currentElement;var nextRenderedElement=this._renderValidatedComponent();var debugID=0;if(process.env.NODE_ENV!=="production"){debugID=this._debugID}if(shouldUpdateReactComponent(prevRenderedElement,nextRenderedElement)){ReactReconciler.receiveComponent(prevComponentInstance,nextRenderedElement,transaction,this._processChildContext(context))}else{var oldHostNode=ReactReconciler.getHostNode(prevComponentInstance);ReactReconciler.unmountComponent(prevComponentInstance,false);var nodeType=ReactNodeTypes.getType(nextRenderedElement);this._renderedNodeType=nodeType;var child=this._instantiateReactComponent(nextRenderedElement,nodeType!==ReactNodeTypes.EMPTY);this._renderedComponent=child;var nextMarkup=ReactReconciler.mountComponent(child,transaction,this._hostParent,this._hostContainerInfo,this._processChildContext(context),debugID);if(process.env.NODE_ENV!=="production"){if(debugID!==0){var childDebugIDs=child._debugID!==0?[child._debugID]:[];ReactInstrumentation.debugTool.onSetChildren(debugID,childDebugIDs)}}this._replaceNodeWithMarkup(oldHostNode,nextMarkup,prevComponentInstance)}},_replaceNodeWithMarkup:function(oldHostNode,nextMarkup,prevInstance){ReactComponentEnvironment.replaceNodeWithMarkup(oldHostNode,nextMarkup,prevInstance)},_renderValidatedComponentWithoutOwnerOrContext:function(){var inst=this._instance;var renderedComponent;if(process.env.NODE_ENV!=="production"){renderedComponent=measureLifeCyclePerf(function(){return inst.render()},this._debugID,"render")}else{renderedComponent=inst.render()}if(process.env.NODE_ENV!=="production"){if(renderedComponent===undefined&&inst.render._isMockFunction){renderedComponent=null}}return renderedComponent},_renderValidatedComponent:function(){var renderedComponent;if(process.env.NODE_ENV!=="production"||this._compositeType!==CompositeTypes.StatelessFunctional){ReactCurrentOwner.current=this;try{renderedComponent=this._renderValidatedComponentWithoutOwnerOrContext()}finally{ReactCurrentOwner.current=null}}else{renderedComponent=this._renderValidatedComponentWithoutOwnerOrContext()}!(renderedComponent===null||renderedComponent===false||ReactElement.isValidElement(renderedComponent))?process.env.NODE_ENV!=="production"?invariant(false,"%s.render(): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):_prodInvariant("109",this.getName()||"ReactCompositeComponent"):void 0;return renderedComponent},attachRef:function(ref,component){var inst=this.getPublicInstance();!(inst!=null)?process.env.NODE_ENV!=="production"?invariant(false,"Stateless function components cannot have refs."):_prodInvariant("110"):void 0;var publicComponentInstance=component.getPublicInstance();if(process.env.NODE_ENV!=="production"){var componentName=component&&component.getName?component.getName():"a component";process.env.NODE_ENV!=="production"?warning(publicComponentInstance!=null||component._compositeType!==CompositeTypes.StatelessFunctional,"Stateless function components cannot be given refs "+'(See ref "%s" in %s created by %s). '+"Attempts to access this ref will fail.",ref,componentName,this.getName()):void 0}var refs=inst.refs===emptyObject?inst.refs={}:inst.refs;refs[ref]=publicComponentInstance},detachRef:function(ref){var refs=this.getPublicInstance().refs;delete refs[ref]},getName:function(){var type=this._currentElement.type;var constructor=this._instance&&this._instance.constructor;return type.displayName||constructor&&constructor.displayName||type.name||constructor&&constructor.name||null},getPublicInstance:function(){var inst=this._instance;if(this._compositeType===CompositeTypes.StatelessFunctional){return null}return inst},_instantiateReactComponent:null};var ReactCompositeComponent={Mixin:ReactCompositeComponentMixin};module.exports=ReactCompositeComponent}).call(this,require("_process"))},{"./ReactComponentEnvironment":288,"./ReactCurrentOwner":291,"./ReactElement":314,"./ReactErrorUtils":317,"./ReactInstanceMap":325,"./ReactInstrumentation":326,"./ReactNodeTypes":332,"./ReactPropTypeLocations":336,"./ReactReconciler":341,"./checkReactTypeSpec":369,"./reactProdInvariant":390,"./shouldUpdateReactComponent":394,_process:216,"fbjs/lib/emptyObject":167,"fbjs/lib/invariant":180,"fbjs/lib/shallowEqual":191,"fbjs/lib/warning":192,"object-assign":215}],291:[function(require,module,exports){"use strict";var ReactCurrentOwner={current:null};module.exports=ReactCurrentOwner},{}],292:[function(require,module,exports){(function(process){"use strict";var ReactDOMComponentTree=require("./ReactDOMComponentTree");var ReactDefaultInjection=require("./ReactDefaultInjection");var ReactMount=require("./ReactMount");var ReactReconciler=require("./ReactReconciler");var ReactUpdates=require("./ReactUpdates");var ReactVersion=require("./ReactVersion");var findDOMNode=require("./findDOMNode");var getHostComponentFromComposite=require("./getHostComponentFromComposite");var renderSubtreeIntoContainer=require("./renderSubtreeIntoContainer");var warning=require("fbjs/lib/warning");ReactDefaultInjection.inject();var ReactDOM={findDOMNode:findDOMNode,render:ReactMount.render,unmountComponentAtNode:ReactMount.unmountComponentAtNode,version:ReactVersion,unstable_batchedUpdates:ReactUpdates.batchedUpdates,unstable_renderSubtreeIntoContainer:renderSubtreeIntoContainer};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject==="function"){__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:ReactDOMComponentTree.getClosestInstanceFromNode,getNodeFromInstance:function(inst){if(inst._renderedComponent){inst=getHostComponentFromComposite(inst)}if(inst){return ReactDOMComponentTree.getNodeFromInstance(inst)}else{return null}}},Mount:ReactMount,Reconciler:ReactReconciler})}if(process.env.NODE_ENV!=="production"){var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");if(ExecutionEnvironment.canUseDOM&&window.top===window.self){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"){if(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1){var showFileUrlMessage=window.location.protocol.indexOf("http")===-1&&navigator.userAgent.indexOf("Firefox")===-1;console.debug("Download the React DevTools "+(showFileUrlMessage?"and use an HTTP server (instead of a file: URL) ":"")+"for a better development experience: "+"https://fb.me/react-devtools")}}var testFunc=function testFn(){};process.env.NODE_ENV!=="production"?warning((testFunc.name||testFunc.toString()).indexOf("testFn")!==-1,"It looks like you're using a minified copy of the development build "+"of React. When deploying React apps to production, make sure to use "+"the production build which skips development warnings and is faster. "+"See https://fb.me/react-minification for more details."):void 0;var ieCompatibilityMode=document.documentMode&&document.documentMode<8;process.env.NODE_ENV!=="production"?warning(!ieCompatibilityMode,"Internet Explorer is running in compatibility mode; please add the "+"following tag to your HTML to prevent this from happening: "+'<meta http-equiv="X-UA-Compatible" content="IE=edge" />'):void 0;var expectedFeatures=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim];for(var i=0;i<expectedFeatures.length;i++){if(!expectedFeatures[i]){process.env.NODE_ENV!=="production"?warning(false,"One or more ES5 shims expected by React are not available: "+"https://fb.me/react-warning-polyfills"):void 0;break}}}}if(process.env.NODE_ENV!=="production"){var ReactInstrumentation=require("./ReactInstrumentation");var ReactDOMUnknownPropertyHook=require("./ReactDOMUnknownPropertyHook");var ReactDOMNullInputValuePropHook=require("./ReactDOMNullInputValuePropHook");ReactInstrumentation.debugTool.addHook(ReactDOMUnknownPropertyHook);ReactInstrumentation.debugTool.addHook(ReactDOMNullInputValuePropHook)}module.exports=ReactDOM}).call(this,require("_process"))},{"./ReactDOMComponentTree":296,"./ReactDOMNullInputValuePropHook":303,"./ReactDOMUnknownPropertyHook":310,"./ReactDefaultInjection":313,"./ReactInstrumentation":326,"./ReactMount":329,"./ReactReconciler":341,"./ReactUpdates":346,"./ReactVersion":347,"./findDOMNode":373,"./getHostComponentFromComposite":380,"./renderSubtreeIntoContainer":391,_process:216,"fbjs/lib/ExecutionEnvironment":146,"fbjs/lib/warning":192}],293:[function(require,module,exports){"use strict";var DisabledInputUtils=require("./DisabledInputUtils");var ReactDOMButton={getHostProps:DisabledInputUtils.getHostProps};module.exports=ReactDOMButton},{"./DisabledInputUtils":268}],294:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant"),_assign=require("object-assign");var AutoFocusUtils=require("./AutoFocusUtils");var CSSPropertyOperations=require("./CSSPropertyOperations");var DOMLazyTree=require("./DOMLazyTree");var DOMNamespaces=require("./DOMNamespaces");var DOMProperty=require("./DOMProperty");var DOMPropertyOperations=require("./DOMPropertyOperations");var EventConstants=require("./EventConstants");var EventPluginHub=require("./EventPluginHub");var EventPluginRegistry=require("./EventPluginRegistry");var ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter");var ReactDOMButton=require("./ReactDOMButton");var ReactDOMComponentFlags=require("./ReactDOMComponentFlags");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var ReactDOMInput=require("./ReactDOMInput");var ReactDOMOption=require("./ReactDOMOption");var ReactDOMSelect=require("./ReactDOMSelect");var ReactDOMTextarea=require("./ReactDOMTextarea");var ReactInstrumentation=require("./ReactInstrumentation");var ReactMultiChild=require("./ReactMultiChild");var ReactServerRenderingTransaction=require("./ReactServerRenderingTransaction");var emptyFunction=require("fbjs/lib/emptyFunction");var escapeTextContentForBrowser=require("./escapeTextContentForBrowser");var invariant=require("fbjs/lib/invariant");var isEventSupported=require("./isEventSupported");var keyOf=require("fbjs/lib/keyOf");var shallowEqual=require("fbjs/lib/shallowEqual");var validateDOMNesting=require("./validateDOMNesting");var warning=require("fbjs/lib/warning");var Flags=ReactDOMComponentFlags;var deleteListener=EventPluginHub.deleteListener;var getNode=ReactDOMComponentTree.getNodeFromInstance;var listenTo=ReactBrowserEventEmitter.listenTo;var registrationNameModules=EventPluginRegistry.registrationNameModules;var CONTENT_TYPES={string:true,number:true};var STYLE=keyOf({style:null});var HTML=keyOf({__html:null});var RESERVED_PROPS={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null};var DOC_FRAGMENT_TYPE=11;function getDeclarationErrorAddendum(internalInstance){if(internalInstance){var owner=internalInstance._currentElement._owner||null;if(owner){var name=owner.getName();if(name){return" This DOM node was rendered by `"+name+"`."}}}return""}function friendlyStringify(obj){if(typeof obj==="object"){if(Array.isArray(obj)){return"["+obj.map(friendlyStringify).join(", ")+"]"}else{var pairs=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var keyEscaped=/^[a-z$_][\w$_]*$/i.test(key)?key:JSON.stringify(key);pairs.push(keyEscaped+": "+friendlyStringify(obj[key]))}}return"{"+pairs.join(", ")+"}"}}else if(typeof obj==="string"){return JSON.stringify(obj)}else if(typeof obj==="function"){return"[function object]"}return String(obj)}var styleMutationWarning={};function checkAndWarnForMutatedStyle(style1,style2,component){if(style1==null||style2==null){return}if(shallowEqual(style1,style2)){return}var componentName=component._tag;var owner=component._currentElement._owner;var ownerName;if(owner){ownerName=owner.getName()}var hash=ownerName+"|"+componentName;if(styleMutationWarning.hasOwnProperty(hash)){return}styleMutationWarning[hash]=true;process.env.NODE_ENV!=="production"?warning(false,"`%s` was passed a style object that has previously been mutated. "+"Mutating `style` is deprecated. Consider cloning it beforehand. Check "+"the `render` %s. Previous style: %s. Mutated style: %s.",componentName,owner?"of `"+ownerName+"`":"using <"+componentName+">",friendlyStringify(style1),friendlyStringify(style2)):void 0}function assertValidProps(component,props){if(!props){return}if(voidElementTags[component._tag]){!(props.children==null&&props.dangerouslySetInnerHTML==null)?process.env.NODE_ENV!=="production"?invariant(false,"%s is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.%s",component._tag,component._currentElement._owner?" Check the render method of "+component._currentElement._owner.getName()+".":""):_prodInvariant("137",component._tag,component._currentElement._owner?" Check the render method of "+component._currentElement._owner.getName()+".":""):void 0}if(props.dangerouslySetInnerHTML!=null){!(props.children==null)?process.env.NODE_ENV!=="production"?invariant(false,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):_prodInvariant("60"):void 0;!(typeof props.dangerouslySetInnerHTML==="object"&&HTML in props.dangerouslySetInnerHTML)?process.env.NODE_ENV!=="production"?invariant(false,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information."):_prodInvariant("61"):void 0}if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(props.innerHTML==null,"Directly setting property `innerHTML` is not permitted. "+"For more information, lookup documentation on `dangerouslySetInnerHTML`."):void 0;process.env.NODE_ENV!=="production"?warning(props.suppressContentEditableWarning||!props.contentEditable||props.children==null,"A component is `contentEditable` and contains `children` managed by "+"React. It is now your responsibility to guarantee that none of "+"those nodes are unexpectedly modified or duplicated. This is "+"probably not intentional."):void 0;process.env.NODE_ENV!=="production"?warning(props.onFocusIn==null&&props.onFocusOut==null,"React uses onFocus and onBlur instead of onFocusIn and onFocusOut. "+"All React events are normalized to bubble, so onFocusIn and onFocusOut "+"are not needed/supported by React."):void 0}!(props.style==null||typeof props.style==="object")?process.env.NODE_ENV!=="production"?invariant(false,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",getDeclarationErrorAddendum(component)):_prodInvariant("62",getDeclarationErrorAddendum(component)):void 0}function enqueuePutListener(inst,registrationName,listener,transaction){if(transaction instanceof ReactServerRenderingTransaction){return}if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(registrationName!=="onScroll"||isEventSupported("scroll",true),"This browser doesn't support the `onScroll` event"):void 0}var containerInfo=inst._hostContainerInfo;var isDocumentFragment=containerInfo._node&&containerInfo._node.nodeType===DOC_FRAGMENT_TYPE;var doc=isDocumentFragment?containerInfo._node:containerInfo._ownerDocument;listenTo(registrationName,doc);transaction.getReactMountReady().enqueue(putListener,{inst:inst,registrationName:registrationName,listener:listener})}function putListener(){var listenerToPut=this;EventPluginHub.putListener(listenerToPut.inst,listenerToPut.registrationName,listenerToPut.listener)}function inputPostMount(){var inst=this;ReactDOMInput.postMountWrapper(inst)}function textareaPostMount(){var inst=this;ReactDOMTextarea.postMountWrapper(inst)}function optionPostMount(){var inst=this;ReactDOMOption.postMountWrapper(inst)}var setAndValidateContentChildDev=emptyFunction;if(process.env.NODE_ENV!=="production"){setAndValidateContentChildDev=function(content){var hasExistingContent=this._contentDebugID!=null;var debugID=this._debugID;var contentDebugID=-debugID;if(content==null){if(hasExistingContent){ReactInstrumentation.debugTool.onUnmountComponent(this._contentDebugID)}this._contentDebugID=null;return}validateDOMNesting(null,String(content),this,this._ancestorInfo);this._contentDebugID=contentDebugID;if(hasExistingContent){ReactInstrumentation.debugTool.onBeforeUpdateComponent(contentDebugID,content);ReactInstrumentation.debugTool.onUpdateComponent(contentDebugID)}else{ReactInstrumentation.debugTool.onBeforeMountComponent(contentDebugID,content,debugID);ReactInstrumentation.debugTool.onMountComponent(contentDebugID);ReactInstrumentation.debugTool.onSetChildren(debugID,[contentDebugID])}}}var mediaEvents={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"};function trapBubbledEventsLocal(){var inst=this;!inst._rootNodeID?process.env.NODE_ENV!=="production"?invariant(false,"Must be mounted to trap events"):_prodInvariant("63"):void 0;var node=getNode(inst);!node?process.env.NODE_ENV!=="production"?invariant(false,"trapBubbledEvent(...): Requires node to be rendered."):_prodInvariant("64"):void 0;switch(inst._tag){case"iframe":case"object":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load",node)];break;case"video":case"audio":inst._wrapperState.listeners=[];for(var event in mediaEvents){if(mediaEvents.hasOwnProperty(event)){inst._wrapperState.listeners.push(ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes[event],mediaEvents[event],node))}}break;case"source":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topError,"error",node)];break;case"img":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topError,"error",node),ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load",node)];break;case"form":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topReset,"reset",node),ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topSubmit,"submit",node)];break;case"input":case"select":case"textarea":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topInvalid,"invalid",node)];break}}function postUpdateSelectWrapper(){ReactDOMSelect.postUpdateWrapper(this)}var omittedCloseTags={area:true,base:true,br:true,col:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true};var newlineEatingTags={listing:true,pre:true,textarea:true};var voidElementTags=_assign({menuitem:true},omittedCloseTags);var VALID_TAG_REGEX=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/;var validatedTagCache={};var hasOwnProperty={}.hasOwnProperty;function validateDangerousTag(tag){if(!hasOwnProperty.call(validatedTagCache,tag)){!VALID_TAG_REGEX.test(tag)?process.env.NODE_ENV!=="production"?invariant(false,"Invalid tag: %s",tag):_prodInvariant("65",tag):void 0;validatedTagCache[tag]=true}}function isCustomComponent(tagName,props){return tagName.indexOf("-")>=0||props.is!=null}var globalIdCounter=1;function ReactDOMComponent(element){var tag=element.type;validateDangerousTag(tag);this._currentElement=element;this._tag=tag.toLowerCase();this._namespaceURI=null;this._renderedChildren=null;this._previousStyle=null;this._previousStyleCopy=null;this._hostNode=null;this._hostParent=null;this._rootNodeID=0;this._domID=0;this._hostContainerInfo=null;this._wrapperState=null;this._topLevelWrapper=null;this._flags=0;if(process.env.NODE_ENV!=="production"){this._ancestorInfo=null;setAndValidateContentChildDev.call(this,null)}}ReactDOMComponent.displayName="ReactDOMComponent";ReactDOMComponent.Mixin={mountComponent:function(transaction,hostParent,hostContainerInfo,context){this._rootNodeID=globalIdCounter++;this._domID=hostContainerInfo._idCounter++;this._hostParent=hostParent;this._hostContainerInfo=hostContainerInfo;var props=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null};transaction.getReactMountReady().enqueue(trapBubbledEventsLocal,this);break;case"button":props=ReactDOMButton.getHostProps(this,props,hostParent);break;case"input":ReactDOMInput.mountWrapper(this,props,hostParent);props=ReactDOMInput.getHostProps(this,props);transaction.getReactMountReady().enqueue(trapBubbledEventsLocal,this);break;case"option":ReactDOMOption.mountWrapper(this,props,hostParent);props=ReactDOMOption.getHostProps(this,props);break;case"select":ReactDOMSelect.mountWrapper(this,props,hostParent);props=ReactDOMSelect.getHostProps(this,props);transaction.getReactMountReady().enqueue(trapBubbledEventsLocal,this);break;case"textarea":ReactDOMTextarea.mountWrapper(this,props,hostParent);props=ReactDOMTextarea.getHostProps(this,props);transaction.getReactMountReady().enqueue(trapBubbledEventsLocal,this);break}assertValidProps(this,props);var namespaceURI;var parentTag;if(hostParent!=null){namespaceURI=hostParent._namespaceURI;parentTag=hostParent._tag}else if(hostContainerInfo._tag){namespaceURI=hostContainerInfo._namespaceURI;parentTag=hostContainerInfo._tag}if(namespaceURI==null||namespaceURI===DOMNamespaces.svg&&parentTag==="foreignobject"){namespaceURI=DOMNamespaces.html}if(namespaceURI===DOMNamespaces.html){if(this._tag==="svg"){namespaceURI=DOMNamespaces.svg}else if(this._tag==="math"){namespaceURI=DOMNamespaces.mathml}}this._namespaceURI=namespaceURI;if(process.env.NODE_ENV!=="production"){var parentInfo;if(hostParent!=null){parentInfo=hostParent._ancestorInfo}else if(hostContainerInfo._tag){parentInfo=hostContainerInfo._ancestorInfo}if(parentInfo){validateDOMNesting(this._tag,null,this,parentInfo)}this._ancestorInfo=validateDOMNesting.updatedAncestorInfo(parentInfo,this._tag,this)}var mountImage;if(transaction.useCreateElement){var ownerDocument=hostContainerInfo._ownerDocument;var el;if(namespaceURI===DOMNamespaces.html){if(this._tag==="script"){var div=ownerDocument.createElement("div");var type=this._currentElement.type;div.innerHTML="<"+type+"></"+type+">";el=div.removeChild(div.firstChild)}else if(props.is){el=ownerDocument.createElement(this._currentElement.type,props.is)}else{el=ownerDocument.createElement(this._currentElement.type)}}else{el=ownerDocument.createElementNS(namespaceURI,this._currentElement.type)}ReactDOMComponentTree.precacheNode(this,el);this._flags|=Flags.hasCachedChildNodes;if(!this._hostParent){DOMPropertyOperations.setAttributeForRoot(el)}this._updateDOMProperties(null,props,transaction);var lazyTree=DOMLazyTree(el);this._createInitialChildren(transaction,props,context,lazyTree);mountImage=lazyTree}else{var tagOpen=this._createOpenTagMarkupAndPutListeners(transaction,props);var tagContent=this._createContentMarkup(transaction,props,context);if(!tagContent&&omittedCloseTags[this._tag]){mountImage=tagOpen+"/>"}else{mountImage=tagOpen+">"+tagContent+"</"+this._currentElement.type+">"}}switch(this._tag){case"input":transaction.getReactMountReady().enqueue(inputPostMount,this);if(props.autoFocus){transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent,this)}break;case"textarea":transaction.getReactMountReady().enqueue(textareaPostMount,this);if(props.autoFocus){transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent,this)}break;case"select":if(props.autoFocus){transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent,this)}break;case"button":if(props.autoFocus){transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent,this)}break;case"option":transaction.getReactMountReady().enqueue(optionPostMount,this);break}return mountImage},_createOpenTagMarkupAndPutListeners:function(transaction,props){var ret="<"+this._currentElement.type;for(var propKey in props){if(!props.hasOwnProperty(propKey)){continue}var propValue=props[propKey];if(propValue==null){continue}if(registrationNameModules.hasOwnProperty(propKey)){if(propValue){enqueuePutListener(this,propKey,propValue,transaction)}}else{if(propKey===STYLE){if(propValue){if(process.env.NODE_ENV!=="production"){this._previousStyle=propValue}propValue=this._previousStyleCopy=_assign({},props.style)}propValue=CSSPropertyOperations.createMarkupForStyles(propValue,this)}var markup=null;if(this._tag!=null&&isCustomComponent(this._tag,props)){if(!RESERVED_PROPS.hasOwnProperty(propKey)){markup=DOMPropertyOperations.createMarkupForCustomAttribute(propKey,propValue)}}else{markup=DOMPropertyOperations.createMarkupForProperty(propKey,propValue)}if(markup){ret+=" "+markup}}}if(transaction.renderToStaticMarkup){return ret}if(!this._hostParent){ret+=" "+DOMPropertyOperations.createMarkupForRoot()}ret+=" "+DOMPropertyOperations.createMarkupForID(this._domID);return ret},_createContentMarkup:function(transaction,props,context){var ret="";var innerHTML=props.dangerouslySetInnerHTML;if(innerHTML!=null){if(innerHTML.__html!=null){ret=innerHTML.__html}}else{var contentToUse=CONTENT_TYPES[typeof props.children]?props.children:null;var childrenToUse=contentToUse!=null?null:props.children;if(contentToUse!=null){ret=escapeTextContentForBrowser(contentToUse);if(process.env.NODE_ENV!=="production"){setAndValidateContentChildDev.call(this,contentToUse)}}else if(childrenToUse!=null){var mountImages=this.mountChildren(childrenToUse,transaction,context);ret=mountImages.join("")}}if(newlineEatingTags[this._tag]&&ret.charAt(0)==="\n"){return"\n"+ret}else{return ret}},_createInitialChildren:function(transaction,props,context,lazyTree){var innerHTML=props.dangerouslySetInnerHTML;if(innerHTML!=null){if(innerHTML.__html!=null){DOMLazyTree.queueHTML(lazyTree,innerHTML.__html)}}else{var contentToUse=CONTENT_TYPES[typeof props.children]?props.children:null;var childrenToUse=contentToUse!=null?null:props.children;if(contentToUse!=null){if(process.env.NODE_ENV!=="production"){setAndValidateContentChildDev.call(this,contentToUse)}DOMLazyTree.queueText(lazyTree,contentToUse)}else if(childrenToUse!=null){var mountImages=this.mountChildren(childrenToUse,transaction,context);for(var i=0;i<mountImages.length;i++){DOMLazyTree.queueChild(lazyTree,mountImages[i])}}}},receiveComponent:function(nextElement,transaction,context){var prevElement=this._currentElement;this._currentElement=nextElement;this.updateComponent(transaction,prevElement,nextElement,context)},updateComponent:function(transaction,prevElement,nextElement,context){var lastProps=prevElement.props;var nextProps=this._currentElement.props;switch(this._tag){case"button":lastProps=ReactDOMButton.getHostProps(this,lastProps);nextProps=ReactDOMButton.getHostProps(this,nextProps);break;case"input":lastProps=ReactDOMInput.getHostProps(this,lastProps);nextProps=ReactDOMInput.getHostProps(this,nextProps);break;case"option":lastProps=ReactDOMOption.getHostProps(this,lastProps);nextProps=ReactDOMOption.getHostProps(this,nextProps);break;case"select":lastProps=ReactDOMSelect.getHostProps(this,lastProps);nextProps=ReactDOMSelect.getHostProps(this,nextProps);break;case"textarea":lastProps=ReactDOMTextarea.getHostProps(this,lastProps);nextProps=ReactDOMTextarea.getHostProps(this,nextProps);break}assertValidProps(this,nextProps);this._updateDOMProperties(lastProps,nextProps,transaction);this._updateDOMChildren(lastProps,nextProps,transaction,context);switch(this._tag){case"input":ReactDOMInput.updateWrapper(this);break;case"textarea":ReactDOMTextarea.updateWrapper(this);break;case"select":transaction.getReactMountReady().enqueue(postUpdateSelectWrapper,this);break}},_updateDOMProperties:function(lastProps,nextProps,transaction){var propKey;var styleName;var styleUpdates;for(propKey in lastProps){if(nextProps.hasOwnProperty(propKey)||!lastProps.hasOwnProperty(propKey)||lastProps[propKey]==null){continue}if(propKey===STYLE){var lastStyle=this._previousStyleCopy;for(styleName in lastStyle){if(lastStyle.hasOwnProperty(styleName)){styleUpdates=styleUpdates||{};styleUpdates[styleName]=""}}this._previousStyleCopy=null}else if(registrationNameModules.hasOwnProperty(propKey)){if(lastProps[propKey]){deleteListener(this,propKey)}}else if(isCustomComponent(this._tag,lastProps)){if(!RESERVED_PROPS.hasOwnProperty(propKey)){DOMPropertyOperations.deleteValueForAttribute(getNode(this),propKey)}}else if(DOMProperty.properties[propKey]||DOMProperty.isCustomAttribute(propKey)){DOMPropertyOperations.deleteValueForProperty(getNode(this),propKey)}}for(propKey in nextProps){var nextProp=nextProps[propKey];var lastProp=propKey===STYLE?this._previousStyleCopy:lastProps!=null?lastProps[propKey]:undefined;if(!nextProps.hasOwnProperty(propKey)||nextProp===lastProp||nextProp==null&&lastProp==null){continue}if(propKey===STYLE){if(nextProp){if(process.env.NODE_ENV!=="production"){checkAndWarnForMutatedStyle(this._previousStyleCopy,this._previousStyle,this);this._previousStyle=nextProp}nextProp=this._previousStyleCopy=_assign({},nextProp)}else{this._previousStyleCopy=null}if(lastProp){for(styleName in lastProp){if(lastProp.hasOwnProperty(styleName)&&(!nextProp||!nextProp.hasOwnProperty(styleName))){styleUpdates=styleUpdates||{};styleUpdates[styleName]=""}}for(styleName in nextProp){if(nextProp.hasOwnProperty(styleName)&&lastProp[styleName]!==nextProp[styleName]){styleUpdates=styleUpdates||{};styleUpdates[styleName]=nextProp[styleName]}}}else{styleUpdates=nextProp}}else if(registrationNameModules.hasOwnProperty(propKey)){if(nextProp){enqueuePutListener(this,propKey,nextProp,transaction)}else if(lastProp){deleteListener(this,propKey)}}else if(isCustomComponent(this._tag,nextProps)){if(!RESERVED_PROPS.hasOwnProperty(propKey)){DOMPropertyOperations.setValueForAttribute(getNode(this),propKey,nextProp)}}else if(DOMProperty.properties[propKey]||DOMProperty.isCustomAttribute(propKey)){var node=getNode(this);if(nextProp!=null){DOMPropertyOperations.setValueForProperty(node,propKey,nextProp)}else{DOMPropertyOperations.deleteValueForProperty(node,propKey)}}}if(styleUpdates){CSSPropertyOperations.setValueForStyles(getNode(this),styleUpdates,this)}},_updateDOMChildren:function(lastProps,nextProps,transaction,context){var lastContent=CONTENT_TYPES[typeof lastProps.children]?lastProps.children:null;
var nextContent=CONTENT_TYPES[typeof nextProps.children]?nextProps.children:null;var lastHtml=lastProps.dangerouslySetInnerHTML&&lastProps.dangerouslySetInnerHTML.__html;var nextHtml=nextProps.dangerouslySetInnerHTML&&nextProps.dangerouslySetInnerHTML.__html;var lastChildren=lastContent!=null?null:lastProps.children;var nextChildren=nextContent!=null?null:nextProps.children;var lastHasContentOrHtml=lastContent!=null||lastHtml!=null;var nextHasContentOrHtml=nextContent!=null||nextHtml!=null;if(lastChildren!=null&&nextChildren==null){this.updateChildren(null,transaction,context)}else if(lastHasContentOrHtml&&!nextHasContentOrHtml){this.updateTextContent("");if(process.env.NODE_ENV!=="production"){ReactInstrumentation.debugTool.onSetChildren(this._debugID,[])}}if(nextContent!=null){if(lastContent!==nextContent){this.updateTextContent(""+nextContent);if(process.env.NODE_ENV!=="production"){setAndValidateContentChildDev.call(this,nextContent)}}}else if(nextHtml!=null){if(lastHtml!==nextHtml){this.updateMarkup(""+nextHtml)}if(process.env.NODE_ENV!=="production"){ReactInstrumentation.debugTool.onSetChildren(this._debugID,[])}}else if(nextChildren!=null){if(process.env.NODE_ENV!=="production"){setAndValidateContentChildDev.call(this,null)}this.updateChildren(nextChildren,transaction,context)}},getHostNode:function(){return getNode(this)},unmountComponent:function(safely){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var listeners=this._wrapperState.listeners;if(listeners){for(var i=0;i<listeners.length;i++){listeners[i].remove()}}break;case"html":case"head":case"body":!false?process.env.NODE_ENV!=="production"?invariant(false,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag):_prodInvariant("66",this._tag):void 0;break}this.unmountChildren(safely);ReactDOMComponentTree.uncacheNode(this);EventPluginHub.deleteAllListeners(this);this._rootNodeID=0;this._domID=0;this._wrapperState=null;if(process.env.NODE_ENV!=="production"){setAndValidateContentChildDev.call(this,null)}},getPublicInstance:function(){return getNode(this)}};_assign(ReactDOMComponent.prototype,ReactDOMComponent.Mixin,ReactMultiChild.Mixin);module.exports=ReactDOMComponent}).call(this,require("_process"))},{"./AutoFocusUtils":255,"./CSSPropertyOperations":258,"./DOMLazyTree":262,"./DOMNamespaces":263,"./DOMProperty":264,"./DOMPropertyOperations":265,"./EventConstants":270,"./EventPluginHub":271,"./EventPluginRegistry":272,"./ReactBrowserEventEmitter":281,"./ReactDOMButton":293,"./ReactDOMComponentFlags":295,"./ReactDOMComponentTree":296,"./ReactDOMInput":302,"./ReactDOMOption":304,"./ReactDOMSelect":305,"./ReactDOMTextarea":308,"./ReactInstrumentation":326,"./ReactMultiChild":330,"./ReactServerRenderingTransaction":343,"./escapeTextContentForBrowser":372,"./isEventSupported":386,"./reactProdInvariant":390,"./validateDOMNesting":396,_process:216,"fbjs/lib/emptyFunction":166,"fbjs/lib/invariant":180,"fbjs/lib/keyOf":185,"fbjs/lib/shallowEqual":191,"fbjs/lib/warning":192,"object-assign":215}],295:[function(require,module,exports){"use strict";var ReactDOMComponentFlags={hasCachedChildNodes:1<<0};module.exports=ReactDOMComponentFlags},{}],296:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var DOMProperty=require("./DOMProperty");var ReactDOMComponentFlags=require("./ReactDOMComponentFlags");var invariant=require("fbjs/lib/invariant");var ATTR_NAME=DOMProperty.ID_ATTRIBUTE_NAME;var Flags=ReactDOMComponentFlags;var internalInstanceKey="__reactInternalInstance$"+Math.random().toString(36).slice(2);function getRenderedHostOrTextFromComponent(component){var rendered;while(rendered=component._renderedComponent){component=rendered}return component}function precacheNode(inst,node){var hostInst=getRenderedHostOrTextFromComponent(inst);hostInst._hostNode=node;node[internalInstanceKey]=hostInst}function uncacheNode(inst){var node=inst._hostNode;if(node){delete node[internalInstanceKey];inst._hostNode=null}}function precacheChildNodes(inst,node){if(inst._flags&Flags.hasCachedChildNodes){return}var children=inst._renderedChildren;var childNode=node.firstChild;outer:for(var name in children){if(!children.hasOwnProperty(name)){continue}var childInst=children[name];var childID=getRenderedHostOrTextFromComponent(childInst)._domID;if(childID===0){continue}for(;childNode!==null;childNode=childNode.nextSibling){if(childNode.nodeType===1&&childNode.getAttribute(ATTR_NAME)===String(childID)||childNode.nodeType===8&&childNode.nodeValue===" react-text: "+childID+" "||childNode.nodeType===8&&childNode.nodeValue===" react-empty: "+childID+" "){precacheNode(childInst,childNode);continue outer}}!false?process.env.NODE_ENV!=="production"?invariant(false,"Unable to find element with ID %s.",childID):_prodInvariant("32",childID):void 0}inst._flags|=Flags.hasCachedChildNodes}function getClosestInstanceFromNode(node){if(node[internalInstanceKey]){return node[internalInstanceKey]}var parents=[];while(!node[internalInstanceKey]){parents.push(node);if(node.parentNode){node=node.parentNode}else{return null}}var closest;var inst;for(;node&&(inst=node[internalInstanceKey]);node=parents.pop()){closest=inst;if(parents.length){precacheChildNodes(inst,node)}}return closest}function getInstanceFromNode(node){var inst=getClosestInstanceFromNode(node);if(inst!=null&&inst._hostNode===node){return inst}else{return null}}function getNodeFromInstance(inst){!(inst._hostNode!==undefined)?process.env.NODE_ENV!=="production"?invariant(false,"getNodeFromInstance: Invalid argument."):_prodInvariant("33"):void 0;if(inst._hostNode){return inst._hostNode}var parents=[];while(!inst._hostNode){parents.push(inst);!inst._hostParent?process.env.NODE_ENV!=="production"?invariant(false,"React DOM tree root should always have a node reference."):_prodInvariant("34"):void 0;inst=inst._hostParent}for(;parents.length;inst=parents.pop()){precacheChildNodes(inst,inst._hostNode)}return inst._hostNode}var ReactDOMComponentTree={getClosestInstanceFromNode:getClosestInstanceFromNode,getInstanceFromNode:getInstanceFromNode,getNodeFromInstance:getNodeFromInstance,precacheChildNodes:precacheChildNodes,precacheNode:precacheNode,uncacheNode:uncacheNode};module.exports=ReactDOMComponentTree}).call(this,require("_process"))},{"./DOMProperty":264,"./ReactDOMComponentFlags":295,"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180}],297:[function(require,module,exports){(function(process){"use strict";var validateDOMNesting=require("./validateDOMNesting");var DOC_NODE_TYPE=9;function ReactDOMContainerInfo(topLevelWrapper,node){var info={_topLevelWrapper:topLevelWrapper,_idCounter:1,_ownerDocument:node?node.nodeType===DOC_NODE_TYPE?node:node.ownerDocument:null,_node:node,_tag:node?node.nodeName.toLowerCase():null,_namespaceURI:node?node.namespaceURI:null};if(process.env.NODE_ENV!=="production"){info._ancestorInfo=node?validateDOMNesting.updatedAncestorInfo(null,info._tag,null):null}return info}module.exports=ReactDOMContainerInfo}).call(this,require("_process"))},{"./validateDOMNesting":396,_process:216}],298:[function(require,module,exports){"use strict";var _assign=require("object-assign");var DOMLazyTree=require("./DOMLazyTree");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var ReactDOMEmptyComponent=function(instantiate){this._currentElement=null;this._hostNode=null;this._hostParent=null;this._hostContainerInfo=null;this._domID=0};_assign(ReactDOMEmptyComponent.prototype,{mountComponent:function(transaction,hostParent,hostContainerInfo,context){var domID=hostContainerInfo._idCounter++;this._domID=domID;this._hostParent=hostParent;this._hostContainerInfo=hostContainerInfo;var nodeValue=" react-empty: "+this._domID+" ";if(transaction.useCreateElement){var ownerDocument=hostContainerInfo._ownerDocument;var node=ownerDocument.createComment(nodeValue);ReactDOMComponentTree.precacheNode(this,node);return DOMLazyTree(node)}else{if(transaction.renderToStaticMarkup){return""}return"<!--"+nodeValue+"-->"}},receiveComponent:function(){},getHostNode:function(){return ReactDOMComponentTree.getNodeFromInstance(this)},unmountComponent:function(){ReactDOMComponentTree.uncacheNode(this)}});module.exports=ReactDOMEmptyComponent},{"./DOMLazyTree":262,"./ReactDOMComponentTree":296,"object-assign":215}],299:[function(require,module,exports){(function(process){"use strict";var ReactElement=require("./ReactElement");var createDOMFactory=ReactElement.createFactory;if(process.env.NODE_ENV!=="production"){var ReactElementValidator=require("./ReactElementValidator");createDOMFactory=ReactElementValidator.createFactory}var ReactDOMFactories={a:createDOMFactory("a"),abbr:createDOMFactory("abbr"),address:createDOMFactory("address"),area:createDOMFactory("area"),article:createDOMFactory("article"),aside:createDOMFactory("aside"),audio:createDOMFactory("audio"),b:createDOMFactory("b"),base:createDOMFactory("base"),bdi:createDOMFactory("bdi"),bdo:createDOMFactory("bdo"),big:createDOMFactory("big"),blockquote:createDOMFactory("blockquote"),body:createDOMFactory("body"),br:createDOMFactory("br"),button:createDOMFactory("button"),canvas:createDOMFactory("canvas"),caption:createDOMFactory("caption"),cite:createDOMFactory("cite"),code:createDOMFactory("code"),col:createDOMFactory("col"),colgroup:createDOMFactory("colgroup"),data:createDOMFactory("data"),datalist:createDOMFactory("datalist"),dd:createDOMFactory("dd"),del:createDOMFactory("del"),details:createDOMFactory("details"),dfn:createDOMFactory("dfn"),dialog:createDOMFactory("dialog"),div:createDOMFactory("div"),dl:createDOMFactory("dl"),dt:createDOMFactory("dt"),em:createDOMFactory("em"),embed:createDOMFactory("embed"),fieldset:createDOMFactory("fieldset"),figcaption:createDOMFactory("figcaption"),figure:createDOMFactory("figure"),footer:createDOMFactory("footer"),form:createDOMFactory("form"),h1:createDOMFactory("h1"),h2:createDOMFactory("h2"),h3:createDOMFactory("h3"),h4:createDOMFactory("h4"),h5:createDOMFactory("h5"),h6:createDOMFactory("h6"),head:createDOMFactory("head"),header:createDOMFactory("header"),hgroup:createDOMFactory("hgroup"),hr:createDOMFactory("hr"),html:createDOMFactory("html"),i:createDOMFactory("i"),iframe:createDOMFactory("iframe"),img:createDOMFactory("img"),input:createDOMFactory("input"),ins:createDOMFactory("ins"),kbd:createDOMFactory("kbd"),keygen:createDOMFactory("keygen"),label:createDOMFactory("label"),legend:createDOMFactory("legend"),li:createDOMFactory("li"),link:createDOMFactory("link"),main:createDOMFactory("main"),map:createDOMFactory("map"),mark:createDOMFactory("mark"),menu:createDOMFactory("menu"),menuitem:createDOMFactory("menuitem"),meta:createDOMFactory("meta"),meter:createDOMFactory("meter"),nav:createDOMFactory("nav"),noscript:createDOMFactory("noscript"),object:createDOMFactory("object"),ol:createDOMFactory("ol"),optgroup:createDOMFactory("optgroup"),option:createDOMFactory("option"),output:createDOMFactory("output"),p:createDOMFactory("p"),param:createDOMFactory("param"),picture:createDOMFactory("picture"),pre:createDOMFactory("pre"),progress:createDOMFactory("progress"),q:createDOMFactory("q"),rp:createDOMFactory("rp"),rt:createDOMFactory("rt"),ruby:createDOMFactory("ruby"),s:createDOMFactory("s"),samp:createDOMFactory("samp"),script:createDOMFactory("script"),section:createDOMFactory("section"),select:createDOMFactory("select"),small:createDOMFactory("small"),source:createDOMFactory("source"),span:createDOMFactory("span"),strong:createDOMFactory("strong"),style:createDOMFactory("style"),sub:createDOMFactory("sub"),summary:createDOMFactory("summary"),sup:createDOMFactory("sup"),table:createDOMFactory("table"),tbody:createDOMFactory("tbody"),td:createDOMFactory("td"),textarea:createDOMFactory("textarea"),tfoot:createDOMFactory("tfoot"),th:createDOMFactory("th"),thead:createDOMFactory("thead"),time:createDOMFactory("time"),title:createDOMFactory("title"),tr:createDOMFactory("tr"),track:createDOMFactory("track"),u:createDOMFactory("u"),ul:createDOMFactory("ul"),var:createDOMFactory("var"),video:createDOMFactory("video"),wbr:createDOMFactory("wbr"),circle:createDOMFactory("circle"),clipPath:createDOMFactory("clipPath"),defs:createDOMFactory("defs"),ellipse:createDOMFactory("ellipse"),g:createDOMFactory("g"),image:createDOMFactory("image"),line:createDOMFactory("line"),linearGradient:createDOMFactory("linearGradient"),mask:createDOMFactory("mask"),path:createDOMFactory("path"),pattern:createDOMFactory("pattern"),polygon:createDOMFactory("polygon"),polyline:createDOMFactory("polyline"),radialGradient:createDOMFactory("radialGradient"),rect:createDOMFactory("rect"),stop:createDOMFactory("stop"),svg:createDOMFactory("svg"),text:createDOMFactory("text"),tspan:createDOMFactory("tspan")};module.exports=ReactDOMFactories}).call(this,require("_process"))},{"./ReactElement":314,"./ReactElementValidator":315,_process:216}],300:[function(require,module,exports){"use strict";var ReactDOMFeatureFlags={useCreateElement:true};module.exports=ReactDOMFeatureFlags},{}],301:[function(require,module,exports){"use strict";var DOMChildrenOperations=require("./DOMChildrenOperations");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var ReactDOMIDOperations={dangerouslyProcessChildrenUpdates:function(parentInst,updates){var node=ReactDOMComponentTree.getNodeFromInstance(parentInst);DOMChildrenOperations.processUpdates(node,updates)}};module.exports=ReactDOMIDOperations},{"./DOMChildrenOperations":261,"./ReactDOMComponentTree":296}],302:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant"),_assign=require("object-assign");var DisabledInputUtils=require("./DisabledInputUtils");var DOMPropertyOperations=require("./DOMPropertyOperations");var LinkedValueUtils=require("./LinkedValueUtils");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var ReactUpdates=require("./ReactUpdates");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");var didWarnValueLink=false;var didWarnCheckedLink=false;var didWarnValueDefaultValue=false;var didWarnCheckedDefaultChecked=false;var didWarnControlledToUncontrolled=false;var didWarnUncontrolledToControlled=false;function forceUpdateIfMounted(){if(this._rootNodeID){ReactDOMInput.updateWrapper(this)}}function isControlled(props){var usesChecked=props.type==="checkbox"||props.type==="radio";return usesChecked?props.checked!=null:props.value!=null}var ReactDOMInput={getHostProps:function(inst,props){var value=LinkedValueUtils.getValue(props);var checked=LinkedValueUtils.getChecked(props);var hostProps=_assign({type:undefined,step:undefined,min:undefined,max:undefined},DisabledInputUtils.getHostProps(inst,props),{defaultChecked:undefined,defaultValue:undefined,value:value!=null?value:inst._wrapperState.initialValue,checked:checked!=null?checked:inst._wrapperState.initialChecked,onChange:inst._wrapperState.onChange});return hostProps},mountWrapper:function(inst,props){if(process.env.NODE_ENV!=="production"){LinkedValueUtils.checkPropTypes("input",props,inst._currentElement._owner);var owner=inst._currentElement._owner;if(props.valueLink!==undefined&&!didWarnValueLink){process.env.NODE_ENV!=="production"?warning(false,"`valueLink` prop on `input` is deprecated; set `value` and `onChange` instead."):void 0;didWarnValueLink=true}if(props.checkedLink!==undefined&&!didWarnCheckedLink){process.env.NODE_ENV!=="production"?warning(false,"`checkedLink` prop on `input` is deprecated; set `value` and `onChange` instead."):void 0;didWarnCheckedLink=true}if(props.checked!==undefined&&props.defaultChecked!==undefined&&!didWarnCheckedDefaultChecked){process.env.NODE_ENV!=="production"?warning(false,"%s contains an input of type %s with both checked and defaultChecked props. "+"Input elements must be either controlled or uncontrolled "+"(specify either the checked prop, or the defaultChecked prop, but not "+"both). Decide between using a controlled or uncontrolled input "+"element and remove one of these props. More info: "+"https://fb.me/react-controlled-components",owner&&owner.getName()||"A component",props.type):void 0;didWarnCheckedDefaultChecked=true}if(props.value!==undefined&&props.defaultValue!==undefined&&!didWarnValueDefaultValue){process.env.NODE_ENV!=="production"?warning(false,"%s contains an input of type %s with both value and defaultValue props. "+"Input elements must be either controlled or uncontrolled "+"(specify either the value prop, or the defaultValue prop, but not "+"both). Decide between using a controlled or uncontrolled input "+"element and remove one of these props. More info: "+"https://fb.me/react-controlled-components",owner&&owner.getName()||"A component",props.type):void 0;didWarnValueDefaultValue=true}}var defaultValue=props.defaultValue;inst._wrapperState={initialChecked:props.checked!=null?props.checked:props.defaultChecked,initialValue:props.value!=null?props.value:defaultValue,listeners:null,onChange:_handleChange.bind(inst)};if(process.env.NODE_ENV!=="production"){inst._wrapperState.controlled=isControlled(props)}},updateWrapper:function(inst){var props=inst._currentElement.props;if(process.env.NODE_ENV!=="production"){var controlled=isControlled(props);var owner=inst._currentElement._owner;if(!inst._wrapperState.controlled&&controlled&&!didWarnUncontrolledToControlled){process.env.NODE_ENV!=="production"?warning(false,"%s is changing an uncontrolled input of type %s to be controlled. "+"Input elements should not switch from uncontrolled to controlled (or vice versa). "+"Decide between using a controlled or uncontrolled input "+"element for the lifetime of the component. More info: https://fb.me/react-controlled-components",owner&&owner.getName()||"A component",props.type):void 0;didWarnUncontrolledToControlled=true}if(inst._wrapperState.controlled&&!controlled&&!didWarnControlledToUncontrolled){process.env.NODE_ENV!=="production"?warning(false,"%s is changing a controlled input of type %s to be uncontrolled. "+"Input elements should not switch from controlled to uncontrolled (or vice versa). "+"Decide between using a controlled or uncontrolled input "+"element for the lifetime of the component. More info: https://fb.me/react-controlled-components",owner&&owner.getName()||"A component",props.type):void 0;didWarnControlledToUncontrolled=true}}var checked=props.checked;if(checked!=null){DOMPropertyOperations.setValueForProperty(ReactDOMComponentTree.getNodeFromInstance(inst),"checked",checked||false)}var node=ReactDOMComponentTree.getNodeFromInstance(inst);var value=LinkedValueUtils.getValue(props);if(value!=null){var newValue=""+value;if(newValue!==node.value){node.value=newValue}}else{if(props.value==null&&props.defaultValue!=null){node.defaultValue=""+props.defaultValue}if(props.checked==null&&props.defaultChecked!=null){node.defaultChecked=!!props.defaultChecked}}},postMountWrapper:function(inst){var props=inst._currentElement.props;var node=ReactDOMComponentTree.getNodeFromInstance(inst);switch(props.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":node.value="";node.value=node.defaultValue;break;default:node.value=node.value;break}var name=node.name;if(name!==""){node.name=""}node.defaultChecked=!node.defaultChecked;node.defaultChecked=!node.defaultChecked;if(name!==""){node.name=name}}};function _handleChange(event){var props=this._currentElement.props;var returnValue=LinkedValueUtils.executeOnChange(props,event);ReactUpdates.asap(forceUpdateIfMounted,this);var name=props.name;if(props.type==="radio"&&name!=null){var rootNode=ReactDOMComponentTree.getNodeFromInstance(this);var queryRoot=rootNode;while(queryRoot.parentNode){queryRoot=queryRoot.parentNode}var group=queryRoot.querySelectorAll("input[name="+JSON.stringify(""+name)+'][type="radio"]');for(var i=0;i<group.length;i++){var otherNode=group[i];if(otherNode===rootNode||otherNode.form!==rootNode.form){continue}var otherInstance=ReactDOMComponentTree.getInstanceFromNode(otherNode);!otherInstance?process.env.NODE_ENV!=="production"?invariant(false,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):_prodInvariant("90"):void 0;ReactUpdates.asap(forceUpdateIfMounted,otherInstance)}}return returnValue}module.exports=ReactDOMInput}).call(this,require("_process"))},{"./DOMPropertyOperations":265,"./DisabledInputUtils":268,"./LinkedValueUtils":278,"./ReactDOMComponentTree":296,"./ReactUpdates":346,"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180,"fbjs/lib/warning":192,"object-assign":215}],303:[function(require,module,exports){(function(process){"use strict";var ReactComponentTreeHook=require("./ReactComponentTreeHook");var warning=require("fbjs/lib/warning");var didWarnValueNull=false;function handleElement(debugID,element){if(element==null){return}if(element.type!=="input"&&element.type!=="textarea"&&element.type!=="select"){return}if(element.props!=null&&element.props.value===null&&!didWarnValueNull){process.env.NODE_ENV!=="production"?warning(false,"`value` prop on `%s` should not be null. "+"Consider using the empty string to clear the component or `undefined` "+"for uncontrolled components.%s",element.type,ReactComponentTreeHook.getStackAddendumByID(debugID)):void 0;didWarnValueNull=true}}var ReactDOMNullInputValuePropHook={onBeforeMountComponent:function(debugID,element){handleElement(debugID,element)},onBeforeUpdateComponent:function(debugID,element){handleElement(debugID,element)}};module.exports=ReactDOMNullInputValuePropHook}).call(this,require("_process"))},{"./ReactComponentTreeHook":289,_process:216,"fbjs/lib/warning":192}],304:[function(require,module,exports){(function(process){"use strict";var _assign=require("object-assign");var ReactChildren=require("./ReactChildren");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var ReactDOMSelect=require("./ReactDOMSelect");var warning=require("fbjs/lib/warning");var didWarnInvalidOptionChildren=false;function flattenChildren(children){var content="";ReactChildren.forEach(children,function(child){if(child==null){return}if(typeof child==="string"||typeof child==="number"){content+=child}else if(!didWarnInvalidOptionChildren){didWarnInvalidOptionChildren=true;process.env.NODE_ENV!=="production"?warning(false,"Only strings and numbers are supported as <option> children."):void 0}});return content}var ReactDOMOption={mountWrapper:function(inst,props,hostParent){if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(props.selected==null,"Use the `defaultValue` or `value` props on <select> instead of "+"setting `selected` on <option>."):void 0}var selectValue=null;if(hostParent!=null){var selectParent=hostParent;if(selectParent._tag==="optgroup"){selectParent=selectParent._hostParent}if(selectParent!=null&&selectParent._tag==="select"){selectValue=ReactDOMSelect.getSelectValueContext(selectParent)}}var selected=null;if(selectValue!=null){var value;if(props.value!=null){value=props.value+""}else{value=flattenChildren(props.children)}selected=false;if(Array.isArray(selectValue)){for(var i=0;i<selectValue.length;i++){if(""+selectValue[i]===value){selected=true;break}}}else{selected=""+selectValue===value}}inst._wrapperState={selected:selected}},postMountWrapper:function(inst){var props=inst._currentElement.props;if(props.value!=null){var node=ReactDOMComponentTree.getNodeFromInstance(inst);node.setAttribute("value",props.value)}},getHostProps:function(inst,props){var hostProps=_assign({selected:undefined,children:undefined},props);if(inst._wrapperState.selected!=null){hostProps.selected=inst._wrapperState.selected}var content=flattenChildren(props.children);if(content){hostProps.children=content}return hostProps}};module.exports=ReactDOMOption}).call(this,require("_process"))},{"./ReactChildren":283,"./ReactDOMComponentTree":296,"./ReactDOMSelect":305,_process:216,"fbjs/lib/warning":192,"object-assign":215}],305:[function(require,module,exports){(function(process){"use strict";var _assign=require("object-assign");var DisabledInputUtils=require("./DisabledInputUtils");var LinkedValueUtils=require("./LinkedValueUtils");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var ReactUpdates=require("./ReactUpdates");var warning=require("fbjs/lib/warning");var didWarnValueLink=false;var didWarnValueDefaultValue=false;function updateOptionsIfPendingUpdateAndMounted(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=false;var props=this._currentElement.props;var value=LinkedValueUtils.getValue(props);if(value!=null){updateOptions(this,Boolean(props.multiple),value)}}}function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name){return" Check the render method of `"+name+"`."}}return""}var valuePropNames=["value","defaultValue"];function checkSelectPropTypes(inst,props){var owner=inst._currentElement._owner;LinkedValueUtils.checkPropTypes("select",props,owner);if(props.valueLink!==undefined&&!didWarnValueLink){process.env.NODE_ENV!=="production"?warning(false,"`valueLink` prop on `select` is deprecated; set `value` and `onChange` instead."):void 0;didWarnValueLink=true}for(var i=0;i<valuePropNames.length;i++){var propName=valuePropNames[i];if(props[propName]==null){continue}var isArray=Array.isArray(props[propName]);if(props.multiple&&!isArray){process.env.NODE_ENV!=="production"?warning(false,"The `%s` prop supplied to <select> must be an array if "+"`multiple` is true.%s",propName,getDeclarationErrorAddendum(owner)):void 0}else if(!props.multiple&&isArray){process.env.NODE_ENV!=="production"?warning(false,"The `%s` prop supplied to <select> must be a scalar "+"value if `multiple` is false.%s",propName,getDeclarationErrorAddendum(owner)):void 0}}}function updateOptions(inst,multiple,propValue){var selectedValue,i;var options=ReactDOMComponentTree.getNodeFromInstance(inst).options;if(multiple){selectedValue={};for(i=0;i<propValue.length;i++){selectedValue[""+propValue[i]]=true}for(i=0;i<options.length;i++){var selected=selectedValue.hasOwnProperty(options[i].value);if(options[i].selected!==selected){options[i].selected=selected}}}else{selectedValue=""+propValue;for(i=0;i<options.length;i++){if(options[i].value===selectedValue){options[i].selected=true;return}}if(options.length){options[0].selected=true}}}var ReactDOMSelect={getHostProps:function(inst,props){return _assign({},DisabledInputUtils.getHostProps(inst,props),{onChange:inst._wrapperState.onChange,value:undefined})},mountWrapper:function(inst,props){if(process.env.NODE_ENV!=="production"){checkSelectPropTypes(inst,props)}var value=LinkedValueUtils.getValue(props);inst._wrapperState={pendingUpdate:false,initialValue:value!=null?value:props.defaultValue,listeners:null,onChange:_handleChange.bind(inst),wasMultiple:Boolean(props.multiple)};if(props.value!==undefined&&props.defaultValue!==undefined&&!didWarnValueDefaultValue){process.env.NODE_ENV!=="production"?warning(false,"Select elements must be either controlled or uncontrolled "+"(specify either the value prop, or the defaultValue prop, but not "+"both). Decide between using a controlled or uncontrolled select "+"element and remove one of these props. More info: "+"https://fb.me/react-controlled-components"):void 0;didWarnValueDefaultValue=true}},getSelectValueContext:function(inst){return inst._wrapperState.initialValue},postUpdateWrapper:function(inst){var props=inst._currentElement.props;inst._wrapperState.initialValue=undefined;var wasMultiple=inst._wrapperState.wasMultiple;inst._wrapperState.wasMultiple=Boolean(props.multiple);var value=LinkedValueUtils.getValue(props);if(value!=null){inst._wrapperState.pendingUpdate=false;updateOptions(inst,Boolean(props.multiple),value)}else if(wasMultiple!==Boolean(props.multiple)){if(props.defaultValue!=null){updateOptions(inst,Boolean(props.multiple),props.defaultValue)}else{updateOptions(inst,Boolean(props.multiple),props.multiple?[]:"")}}}};function _handleChange(event){var props=this._currentElement.props;var returnValue=LinkedValueUtils.executeOnChange(props,event);if(this._rootNodeID){this._wrapperState.pendingUpdate=true}ReactUpdates.asap(updateOptionsIfPendingUpdateAndMounted,this);return returnValue}module.exports=ReactDOMSelect}).call(this,require("_process"))},{"./DisabledInputUtils":268,"./LinkedValueUtils":278,"./ReactDOMComponentTree":296,"./ReactUpdates":346,_process:216,"fbjs/lib/warning":192,"object-assign":215}],306:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var getNodeForCharacterOffset=require("./getNodeForCharacterOffset");var getTextContentAccessor=require("./getTextContentAccessor");function isCollapsed(anchorNode,anchorOffset,focusNode,focusOffset){return anchorNode===focusNode&&anchorOffset===focusOffset}function getIEOffsets(node){var selection=document.selection;var selectedRange=selection.createRange();var selectedLength=selectedRange.text.length;var fromStart=selectedRange.duplicate();fromStart.moveToElementText(node);fromStart.setEndPoint("EndToStart",selectedRange);var startOffset=fromStart.text.length;var endOffset=startOffset+selectedLength;return{start:startOffset,end:endOffset}}function getModernOffsets(node){var selection=window.getSelection&&window.getSelection();if(!selection||selection.rangeCount===0){return null}var anchorNode=selection.anchorNode;var anchorOffset=selection.anchorOffset;var focusNode=selection.focusNode;var focusOffset=selection.focusOffset;var currentRange=selection.getRangeAt(0);try{currentRange.startContainer.nodeType;currentRange.endContainer.nodeType}catch(e){return null}var isSelectionCollapsed=isCollapsed(selection.anchorNode,selection.anchorOffset,selection.focusNode,selection.focusOffset);var rangeLength=isSelectionCollapsed?0:currentRange.toString().length;var tempRange=currentRange.cloneRange();tempRange.selectNodeContents(node);tempRange.setEnd(currentRange.startContainer,currentRange.startOffset);var isTempRangeCollapsed=isCollapsed(tempRange.startContainer,tempRange.startOffset,tempRange.endContainer,tempRange.endOffset);var start=isTempRangeCollapsed?0:tempRange.toString().length;var end=start+rangeLength;var detectionRange=document.createRange();detectionRange.setStart(anchorNode,anchorOffset);detectionRange.setEnd(focusNode,focusOffset);var isBackward=detectionRange.collapsed;return{start:isBackward?end:start,end:isBackward?start:end}}function setIEOffsets(node,offsets){var range=document.selection.createRange().duplicate();var start,end;if(offsets.end===undefined){start=offsets.start;end=start}else if(offsets.start>offsets.end){start=offsets.end;end=offsets.start}else{start=offsets.start;end=offsets.end}range.moveToElementText(node);range.moveStart("character",start);range.setEndPoint("EndToStart",range);range.moveEnd("character",end-start);range.select()}function setModernOffsets(node,offsets){if(!window.getSelection){return}var selection=window.getSelection();var length=node[getTextContentAccessor()].length;var start=Math.min(offsets.start,length);var end=offsets.end===undefined?start:Math.min(offsets.end,length);if(!selection.extend&&start>end){var temp=end;end=start;start=temp}var startMarker=getNodeForCharacterOffset(node,start);var endMarker=getNodeForCharacterOffset(node,end);if(startMarker&&endMarker){var range=document.createRange();range.setStart(startMarker.node,startMarker.offset);selection.removeAllRanges();if(start>end){selection.addRange(range);selection.extend(endMarker.node,endMarker.offset)}else{range.setEnd(endMarker.node,endMarker.offset);selection.addRange(range)}}}var useIEOffsets=ExecutionEnvironment.canUseDOM&&"selection"in document&&!("getSelection"in window);
var ReactDOMSelection={getOffsets:useIEOffsets?getIEOffsets:getModernOffsets,setOffsets:useIEOffsets?setIEOffsets:setModernOffsets};module.exports=ReactDOMSelection},{"./getNodeForCharacterOffset":382,"./getTextContentAccessor":383,"fbjs/lib/ExecutionEnvironment":146}],307:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant"),_assign=require("object-assign");var DOMChildrenOperations=require("./DOMChildrenOperations");var DOMLazyTree=require("./DOMLazyTree");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var escapeTextContentForBrowser=require("./escapeTextContentForBrowser");var invariant=require("fbjs/lib/invariant");var validateDOMNesting=require("./validateDOMNesting");var ReactDOMTextComponent=function(text){this._currentElement=text;this._stringText=""+text;this._hostNode=null;this._hostParent=null;this._domID=0;this._mountIndex=0;this._closingComment=null;this._commentNodes=null};_assign(ReactDOMTextComponent.prototype,{mountComponent:function(transaction,hostParent,hostContainerInfo,context){if(process.env.NODE_ENV!=="production"){var parentInfo;if(hostParent!=null){parentInfo=hostParent._ancestorInfo}else if(hostContainerInfo!=null){parentInfo=hostContainerInfo._ancestorInfo}if(parentInfo){validateDOMNesting(null,this._stringText,this,parentInfo)}}var domID=hostContainerInfo._idCounter++;var openingValue=" react-text: "+domID+" ";var closingValue=" /react-text ";this._domID=domID;this._hostParent=hostParent;if(transaction.useCreateElement){var ownerDocument=hostContainerInfo._ownerDocument;var openingComment=ownerDocument.createComment(openingValue);var closingComment=ownerDocument.createComment(closingValue);var lazyTree=DOMLazyTree(ownerDocument.createDocumentFragment());DOMLazyTree.queueChild(lazyTree,DOMLazyTree(openingComment));if(this._stringText){DOMLazyTree.queueChild(lazyTree,DOMLazyTree(ownerDocument.createTextNode(this._stringText)))}DOMLazyTree.queueChild(lazyTree,DOMLazyTree(closingComment));ReactDOMComponentTree.precacheNode(this,openingComment);this._closingComment=closingComment;return lazyTree}else{var escapedText=escapeTextContentForBrowser(this._stringText);if(transaction.renderToStaticMarkup){return escapedText}return"<!--"+openingValue+"-->"+escapedText+"<!--"+closingValue+"-->"}},receiveComponent:function(nextText,transaction){if(nextText!==this._currentElement){this._currentElement=nextText;var nextStringText=""+nextText;if(nextStringText!==this._stringText){this._stringText=nextStringText;var commentNodes=this.getHostNode();DOMChildrenOperations.replaceDelimitedText(commentNodes[0],commentNodes[1],nextStringText)}}},getHostNode:function(){var hostNode=this._commentNodes;if(hostNode){return hostNode}if(!this._closingComment){var openingComment=ReactDOMComponentTree.getNodeFromInstance(this);var node=openingComment.nextSibling;while(true){!(node!=null)?process.env.NODE_ENV!=="production"?invariant(false,"Missing closing comment for text component %s",this._domID):_prodInvariant("67",this._domID):void 0;if(node.nodeType===8&&node.nodeValue===" /react-text "){this._closingComment=node;break}node=node.nextSibling}}hostNode=[this._hostNode,this._closingComment];this._commentNodes=hostNode;return hostNode},unmountComponent:function(){this._closingComment=null;this._commentNodes=null;ReactDOMComponentTree.uncacheNode(this)}});module.exports=ReactDOMTextComponent}).call(this,require("_process"))},{"./DOMChildrenOperations":261,"./DOMLazyTree":262,"./ReactDOMComponentTree":296,"./escapeTextContentForBrowser":372,"./reactProdInvariant":390,"./validateDOMNesting":396,_process:216,"fbjs/lib/invariant":180,"object-assign":215}],308:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant"),_assign=require("object-assign");var DisabledInputUtils=require("./DisabledInputUtils");var LinkedValueUtils=require("./LinkedValueUtils");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var ReactUpdates=require("./ReactUpdates");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");var didWarnValueLink=false;var didWarnValDefaultVal=false;function forceUpdateIfMounted(){if(this._rootNodeID){ReactDOMTextarea.updateWrapper(this)}}var ReactDOMTextarea={getHostProps:function(inst,props){!(props.dangerouslySetInnerHTML==null)?process.env.NODE_ENV!=="production"?invariant(false,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):_prodInvariant("91"):void 0;var hostProps=_assign({},DisabledInputUtils.getHostProps(inst,props),{value:undefined,defaultValue:undefined,children:""+inst._wrapperState.initialValue,onChange:inst._wrapperState.onChange});return hostProps},mountWrapper:function(inst,props){if(process.env.NODE_ENV!=="production"){LinkedValueUtils.checkPropTypes("textarea",props,inst._currentElement._owner);if(props.valueLink!==undefined&&!didWarnValueLink){process.env.NODE_ENV!=="production"?warning(false,"`valueLink` prop on `textarea` is deprecated; set `value` and `onChange` instead."):void 0;didWarnValueLink=true}if(props.value!==undefined&&props.defaultValue!==undefined&&!didWarnValDefaultVal){process.env.NODE_ENV!=="production"?warning(false,"Textarea elements must be either controlled or uncontrolled "+"(specify either the value prop, or the defaultValue prop, but not "+"both). Decide between using a controlled or uncontrolled textarea "+"and remove one of these props. More info: "+"https://fb.me/react-controlled-components"):void 0;didWarnValDefaultVal=true}}var value=LinkedValueUtils.getValue(props);var initialValue=value;if(value==null){var defaultValue=props.defaultValue;var children=props.children;if(children!=null){if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(false,"Use the `defaultValue` or `value` props instead of setting "+"children on <textarea>."):void 0}!(defaultValue==null)?process.env.NODE_ENV!=="production"?invariant(false,"If you supply `defaultValue` on a <textarea>, do not pass children."):_prodInvariant("92"):void 0;if(Array.isArray(children)){!(children.length<=1)?process.env.NODE_ENV!=="production"?invariant(false,"<textarea> can only have at most one child."):_prodInvariant("93"):void 0;children=children[0]}defaultValue=""+children}if(defaultValue==null){defaultValue=""}initialValue=defaultValue}inst._wrapperState={initialValue:""+initialValue,listeners:null,onChange:_handleChange.bind(inst)}},updateWrapper:function(inst){var props=inst._currentElement.props;var node=ReactDOMComponentTree.getNodeFromInstance(inst);var value=LinkedValueUtils.getValue(props);if(value!=null){var newValue=""+value;if(newValue!==node.value){node.value=newValue}if(props.defaultValue==null){node.defaultValue=newValue}}if(props.defaultValue!=null){node.defaultValue=props.defaultValue}},postMountWrapper:function(inst){var node=ReactDOMComponentTree.getNodeFromInstance(inst);node.value=node.textContent}};function _handleChange(event){var props=this._currentElement.props;var returnValue=LinkedValueUtils.executeOnChange(props,event);ReactUpdates.asap(forceUpdateIfMounted,this);return returnValue}module.exports=ReactDOMTextarea}).call(this,require("_process"))},{"./DisabledInputUtils":268,"./LinkedValueUtils":278,"./ReactDOMComponentTree":296,"./ReactUpdates":346,"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180,"fbjs/lib/warning":192,"object-assign":215}],309:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var invariant=require("fbjs/lib/invariant");function getLowestCommonAncestor(instA,instB){!("_hostNode"in instA)?process.env.NODE_ENV!=="production"?invariant(false,"getNodeFromInstance: Invalid argument."):_prodInvariant("33"):void 0;!("_hostNode"in instB)?process.env.NODE_ENV!=="production"?invariant(false,"getNodeFromInstance: Invalid argument."):_prodInvariant("33"):void 0;var depthA=0;for(var tempA=instA;tempA;tempA=tempA._hostParent){depthA++}var depthB=0;for(var tempB=instB;tempB;tempB=tempB._hostParent){depthB++}while(depthA-depthB>0){instA=instA._hostParent;depthA--}while(depthB-depthA>0){instB=instB._hostParent;depthB--}var depth=depthA;while(depth--){if(instA===instB){return instA}instA=instA._hostParent;instB=instB._hostParent}return null}function isAncestor(instA,instB){!("_hostNode"in instA)?process.env.NODE_ENV!=="production"?invariant(false,"isAncestor: Invalid argument."):_prodInvariant("35"):void 0;!("_hostNode"in instB)?process.env.NODE_ENV!=="production"?invariant(false,"isAncestor: Invalid argument."):_prodInvariant("35"):void 0;while(instB){if(instB===instA){return true}instB=instB._hostParent}return false}function getParentInstance(inst){!("_hostNode"in inst)?process.env.NODE_ENV!=="production"?invariant(false,"getParentInstance: Invalid argument."):_prodInvariant("36"):void 0;return inst._hostParent}function traverseTwoPhase(inst,fn,arg){var path=[];while(inst){path.push(inst);inst=inst._hostParent}var i;for(i=path.length;i-- >0;){fn(path[i],false,arg)}for(i=0;i<path.length;i++){fn(path[i],true,arg)}}function traverseEnterLeave(from,to,fn,argFrom,argTo){var common=from&&to?getLowestCommonAncestor(from,to):null;var pathFrom=[];while(from&&from!==common){pathFrom.push(from);from=from._hostParent}var pathTo=[];while(to&&to!==common){pathTo.push(to);to=to._hostParent}var i;for(i=0;i<pathFrom.length;i++){fn(pathFrom[i],true,argFrom)}for(i=pathTo.length;i-- >0;){fn(pathTo[i],false,argTo)}}module.exports={isAncestor:isAncestor,getLowestCommonAncestor:getLowestCommonAncestor,getParentInstance:getParentInstance,traverseTwoPhase:traverseTwoPhase,traverseEnterLeave:traverseEnterLeave}}).call(this,require("_process"))},{"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180}],310:[function(require,module,exports){(function(process){"use strict";var DOMProperty=require("./DOMProperty");var EventPluginRegistry=require("./EventPluginRegistry");var ReactComponentTreeHook=require("./ReactComponentTreeHook");var warning=require("fbjs/lib/warning");if(process.env.NODE_ENV!=="production"){var reactProps={children:true,dangerouslySetInnerHTML:true,key:true,ref:true,autoFocus:true,defaultValue:true,valueLink:true,defaultChecked:true,checkedLink:true,innerHTML:true,suppressContentEditableWarning:true,onFocusIn:true,onFocusOut:true};var warnedProperties={};var validateProperty=function(tagName,name,debugID){if(DOMProperty.properties.hasOwnProperty(name)||DOMProperty.isCustomAttribute(name)){return true}if(reactProps.hasOwnProperty(name)&&reactProps[name]||warnedProperties.hasOwnProperty(name)&&warnedProperties[name]){return true}if(EventPluginRegistry.registrationNameModules.hasOwnProperty(name)){return true}warnedProperties[name]=true;var lowerCasedName=name.toLowerCase();var standardName=DOMProperty.isCustomAttribute(lowerCasedName)?lowerCasedName:DOMProperty.getPossibleStandardName.hasOwnProperty(lowerCasedName)?DOMProperty.getPossibleStandardName[lowerCasedName]:null;var registrationName=EventPluginRegistry.possibleRegistrationNames.hasOwnProperty(lowerCasedName)?EventPluginRegistry.possibleRegistrationNames[lowerCasedName]:null;if(standardName!=null){process.env.NODE_ENV!=="production"?warning(false,"Unknown DOM property %s. Did you mean %s?%s",name,standardName,ReactComponentTreeHook.getStackAddendumByID(debugID)):void 0;return true}else if(registrationName!=null){process.env.NODE_ENV!=="production"?warning(false,"Unknown event handler property %s. Did you mean `%s`?%s",name,registrationName,ReactComponentTreeHook.getStackAddendumByID(debugID)):void 0;return true}else{return false}}}var warnUnknownProperties=function(debugID,element){var unknownProps=[];for(var key in element.props){var isValid=validateProperty(element.type,key,debugID);if(!isValid){unknownProps.push(key)}}var unknownPropString=unknownProps.map(function(prop){return"`"+prop+"`"}).join(", ");if(unknownProps.length===1){process.env.NODE_ENV!=="production"?warning(false,"Unknown prop %s on <%s> tag. Remove this prop from the element. "+"For details, see https://fb.me/react-unknown-prop%s",unknownPropString,element.type,ReactComponentTreeHook.getStackAddendumByID(debugID)):void 0}else if(unknownProps.length>1){process.env.NODE_ENV!=="production"?warning(false,"Unknown props %s on <%s> tag. Remove these props from the element. "+"For details, see https://fb.me/react-unknown-prop%s",unknownPropString,element.type,ReactComponentTreeHook.getStackAddendumByID(debugID)):void 0}};function handleElement(debugID,element){if(element==null||typeof element.type!=="string"){return}if(element.type.indexOf("-")>=0||element.props.is){return}warnUnknownProperties(debugID,element)}var ReactDOMUnknownPropertyHook={onBeforeMountComponent:function(debugID,element){handleElement(debugID,element)},onBeforeUpdateComponent:function(debugID,element){handleElement(debugID,element)}};module.exports=ReactDOMUnknownPropertyHook}).call(this,require("_process"))},{"./DOMProperty":264,"./EventPluginRegistry":272,"./ReactComponentTreeHook":289,_process:216,"fbjs/lib/warning":192}],311:[function(require,module,exports){(function(process){"use strict";var ReactInvalidSetStateWarningHook=require("./ReactInvalidSetStateWarningHook");var ReactHostOperationHistoryHook=require("./ReactHostOperationHistoryHook");var ReactComponentTreeHook=require("./ReactComponentTreeHook");var ReactChildrenMutationWarningHook=require("./ReactChildrenMutationWarningHook");var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var performanceNow=require("fbjs/lib/performanceNow");var warning=require("fbjs/lib/warning");var hooks=[];var didHookThrowForEvent={};function callHook(event,fn,context,arg1,arg2,arg3,arg4,arg5){try{fn.call(context,arg1,arg2,arg3,arg4,arg5)}catch(e){process.env.NODE_ENV!=="production"?warning(didHookThrowForEvent[event],"Exception thrown by hook while handling %s: %s",event,e+"\n"+e.stack):void 0;didHookThrowForEvent[event]=true}}function emitEvent(event,arg1,arg2,arg3,arg4,arg5){for(var i=0;i<hooks.length;i++){var hook=hooks[i];var fn=hook[event];if(fn){callHook(event,fn,hook,arg1,arg2,arg3,arg4,arg5)}}}var isProfiling=false;var flushHistory=[];var lifeCycleTimerStack=[];var currentFlushNesting=0;var currentFlushMeasurements=null;var currentFlushStartTime=null;var currentTimerDebugID=null;var currentTimerStartTime=null;var currentTimerNestedFlushDuration=null;var currentTimerType=null;var lifeCycleTimerHasWarned=false;function clearHistory(){ReactComponentTreeHook.purgeUnmountedComponents();ReactHostOperationHistoryHook.clearHistory()}function getTreeSnapshot(registeredIDs){return registeredIDs.reduce(function(tree,id){var ownerID=ReactComponentTreeHook.getOwnerID(id);var parentID=ReactComponentTreeHook.getParentID(id);tree[id]={displayName:ReactComponentTreeHook.getDisplayName(id),text:ReactComponentTreeHook.getText(id),updateCount:ReactComponentTreeHook.getUpdateCount(id),childIDs:ReactComponentTreeHook.getChildIDs(id),ownerID:ownerID||ReactComponentTreeHook.getOwnerID(parentID),parentID:parentID};return tree},{})}function resetMeasurements(){var previousStartTime=currentFlushStartTime;var previousMeasurements=currentFlushMeasurements||[];var previousOperations=ReactHostOperationHistoryHook.getHistory();if(currentFlushNesting===0){currentFlushStartTime=null;currentFlushMeasurements=null;clearHistory();return}if(previousMeasurements.length||previousOperations.length){var registeredIDs=ReactComponentTreeHook.getRegisteredIDs();flushHistory.push({duration:performanceNow()-previousStartTime,measurements:previousMeasurements||[],operations:previousOperations||[],treeSnapshot:getTreeSnapshot(registeredIDs)})}clearHistory();currentFlushStartTime=performanceNow();currentFlushMeasurements=[]}function checkDebugID(debugID){var allowRoot=arguments.length<=1||arguments[1]===undefined?false:arguments[1];if(allowRoot&&debugID===0){return}if(!debugID){process.env.NODE_ENV!=="production"?warning(false,"ReactDebugTool: debugID may not be empty."):void 0}}function beginLifeCycleTimer(debugID,timerType){if(currentFlushNesting===0){return}if(currentTimerType&&!lifeCycleTimerHasWarned){process.env.NODE_ENV!=="production"?warning(false,"There is an internal error in the React performance measurement code. "+"Did not expect %s timer to start while %s timer is still in "+"progress for %s instance.",timerType,currentTimerType||"no",debugID===currentTimerDebugID?"the same":"another"):void 0;lifeCycleTimerHasWarned=true}currentTimerStartTime=performanceNow();currentTimerNestedFlushDuration=0;currentTimerDebugID=debugID;currentTimerType=timerType}function endLifeCycleTimer(debugID,timerType){if(currentFlushNesting===0){return}if(currentTimerType!==timerType&&!lifeCycleTimerHasWarned){process.env.NODE_ENV!=="production"?warning(false,"There is an internal error in the React performance measurement code. "+"We did not expect %s timer to stop while %s timer is still in "+"progress for %s instance. Please report this as a bug in React.",timerType,currentTimerType||"no",debugID===currentTimerDebugID?"the same":"another"):void 0;lifeCycleTimerHasWarned=true}if(isProfiling){currentFlushMeasurements.push({timerType:timerType,instanceID:debugID,duration:performanceNow()-currentTimerStartTime-currentTimerNestedFlushDuration})}currentTimerStartTime=null;currentTimerNestedFlushDuration=null;currentTimerDebugID=null;currentTimerType=null}function pauseCurrentLifeCycleTimer(){var currentTimer={startTime:currentTimerStartTime,nestedFlushStartTime:performanceNow(),debugID:currentTimerDebugID,timerType:currentTimerType};lifeCycleTimerStack.push(currentTimer);currentTimerStartTime=null;currentTimerNestedFlushDuration=null;currentTimerDebugID=null;currentTimerType=null}function resumeCurrentLifeCycleTimer(){var _lifeCycleTimerStack$=lifeCycleTimerStack.pop();var startTime=_lifeCycleTimerStack$.startTime;var nestedFlushStartTime=_lifeCycleTimerStack$.nestedFlushStartTime;var debugID=_lifeCycleTimerStack$.debugID;var timerType=_lifeCycleTimerStack$.timerType;var nestedFlushDuration=performanceNow()-nestedFlushStartTime;currentTimerStartTime=startTime;currentTimerNestedFlushDuration+=nestedFlushDuration;currentTimerDebugID=debugID;currentTimerType=timerType}var ReactDebugTool={addHook:function(hook){hooks.push(hook)},removeHook:function(hook){for(var i=0;i<hooks.length;i++){if(hooks[i]===hook){hooks.splice(i,1);i--}}},isProfiling:function(){return isProfiling},beginProfiling:function(){if(isProfiling){return}isProfiling=true;flushHistory.length=0;resetMeasurements();ReactDebugTool.addHook(ReactHostOperationHistoryHook)},endProfiling:function(){if(!isProfiling){return}isProfiling=false;resetMeasurements();ReactDebugTool.removeHook(ReactHostOperationHistoryHook)},getFlushHistory:function(){return flushHistory},onBeginFlush:function(){currentFlushNesting++;resetMeasurements();pauseCurrentLifeCycleTimer();emitEvent("onBeginFlush")},onEndFlush:function(){resetMeasurements();currentFlushNesting--;resumeCurrentLifeCycleTimer();emitEvent("onEndFlush")},onBeginLifeCycleTimer:function(debugID,timerType){checkDebugID(debugID);emitEvent("onBeginLifeCycleTimer",debugID,timerType);beginLifeCycleTimer(debugID,timerType)},onEndLifeCycleTimer:function(debugID,timerType){checkDebugID(debugID);endLifeCycleTimer(debugID,timerType);emitEvent("onEndLifeCycleTimer",debugID,timerType)},onBeginProcessingChildContext:function(){emitEvent("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){emitEvent("onEndProcessingChildContext")},onHostOperation:function(debugID,type,payload){checkDebugID(debugID);emitEvent("onHostOperation",debugID,type,payload)},onSetState:function(){emitEvent("onSetState")},onSetChildren:function(debugID,childDebugIDs){checkDebugID(debugID);childDebugIDs.forEach(checkDebugID);emitEvent("onSetChildren",debugID,childDebugIDs)},onBeforeMountComponent:function(debugID,element,parentDebugID){checkDebugID(debugID);checkDebugID(parentDebugID,true);emitEvent("onBeforeMountComponent",debugID,element,parentDebugID)},onMountComponent:function(debugID){checkDebugID(debugID);emitEvent("onMountComponent",debugID)},onBeforeUpdateComponent:function(debugID,element){checkDebugID(debugID);emitEvent("onBeforeUpdateComponent",debugID,element)},onUpdateComponent:function(debugID){checkDebugID(debugID);emitEvent("onUpdateComponent",debugID)},onBeforeUnmountComponent:function(debugID){checkDebugID(debugID);emitEvent("onBeforeUnmountComponent",debugID)},onUnmountComponent:function(debugID){checkDebugID(debugID);emitEvent("onUnmountComponent",debugID)},onTestEvent:function(){emitEvent("onTestEvent")}};ReactDebugTool.addDevtool=ReactDebugTool.addHook;ReactDebugTool.removeDevtool=ReactDebugTool.removeHook;ReactDebugTool.addHook(ReactInvalidSetStateWarningHook);ReactDebugTool.addHook(ReactComponentTreeHook);ReactDebugTool.addHook(ReactChildrenMutationWarningHook);var url=ExecutionEnvironment.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(url)){ReactDebugTool.beginProfiling()}module.exports=ReactDebugTool}).call(this,require("_process"))},{"./ReactChildrenMutationWarningHook":284,"./ReactComponentTreeHook":289,"./ReactHostOperationHistoryHook":322,"./ReactInvalidSetStateWarningHook":327,_process:216,"fbjs/lib/ExecutionEnvironment":146,"fbjs/lib/performanceNow":190,"fbjs/lib/warning":192}],312:[function(require,module,exports){"use strict";var _assign=require("object-assign");var ReactUpdates=require("./ReactUpdates");var Transaction=require("./Transaction");var emptyFunction=require("fbjs/lib/emptyFunction");var RESET_BATCHED_UPDATES={initialize:emptyFunction,close:function(){ReactDefaultBatchingStrategy.isBatchingUpdates=false}};var FLUSH_BATCHED_UPDATES={initialize:emptyFunction,close:ReactUpdates.flushBatchedUpdates.bind(ReactUpdates)};var TRANSACTION_WRAPPERS=[FLUSH_BATCHED_UPDATES,RESET_BATCHED_UPDATES];function ReactDefaultBatchingStrategyTransaction(){this.reinitializeTransaction()}_assign(ReactDefaultBatchingStrategyTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS}});var transaction=new ReactDefaultBatchingStrategyTransaction;var ReactDefaultBatchingStrategy={isBatchingUpdates:false,batchedUpdates:function(callback,a,b,c,d,e){var alreadyBatchingUpdates=ReactDefaultBatchingStrategy.isBatchingUpdates;ReactDefaultBatchingStrategy.isBatchingUpdates=true;if(alreadyBatchingUpdates){callback(a,b,c,d,e)}else{transaction.perform(callback,null,a,b,c,d,e)}}};module.exports=ReactDefaultBatchingStrategy},{"./ReactUpdates":346,"./Transaction":364,"fbjs/lib/emptyFunction":166,"object-assign":215}],313:[function(require,module,exports){"use strict";var BeforeInputEventPlugin=require("./BeforeInputEventPlugin");var ChangeEventPlugin=require("./ChangeEventPlugin");var DefaultEventPluginOrder=require("./DefaultEventPluginOrder");var EnterLeaveEventPlugin=require("./EnterLeaveEventPlugin");var HTMLDOMPropertyConfig=require("./HTMLDOMPropertyConfig");var ReactComponentBrowserEnvironment=require("./ReactComponentBrowserEnvironment");var ReactDOMComponent=require("./ReactDOMComponent");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var ReactDOMEmptyComponent=require("./ReactDOMEmptyComponent");var ReactDOMTreeTraversal=require("./ReactDOMTreeTraversal");var ReactDOMTextComponent=require("./ReactDOMTextComponent");var ReactDefaultBatchingStrategy=require("./ReactDefaultBatchingStrategy");var ReactEventListener=require("./ReactEventListener");var ReactInjection=require("./ReactInjection");var ReactReconcileTransaction=require("./ReactReconcileTransaction");var SVGDOMPropertyConfig=require("./SVGDOMPropertyConfig");var SelectEventPlugin=require("./SelectEventPlugin");var SimpleEventPlugin=require("./SimpleEventPlugin");var alreadyInjected=false;function inject(){if(alreadyInjected){return}alreadyInjected=true;ReactInjection.EventEmitter.injectReactEventListener(ReactEventListener);ReactInjection.EventPluginHub.injectEventPluginOrder(DefaultEventPluginOrder);ReactInjection.EventPluginUtils.injectComponentTree(ReactDOMComponentTree);ReactInjection.EventPluginUtils.injectTreeTraversal(ReactDOMTreeTraversal);ReactInjection.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:SimpleEventPlugin,EnterLeaveEventPlugin:EnterLeaveEventPlugin,ChangeEventPlugin:ChangeEventPlugin,SelectEventPlugin:SelectEventPlugin,BeforeInputEventPlugin:BeforeInputEventPlugin});ReactInjection.HostComponent.injectGenericComponentClass(ReactDOMComponent);ReactInjection.HostComponent.injectTextComponentClass(ReactDOMTextComponent);ReactInjection.DOMProperty.injectDOMPropertyConfig(HTMLDOMPropertyConfig);ReactInjection.DOMProperty.injectDOMPropertyConfig(SVGDOMPropertyConfig);ReactInjection.EmptyComponent.injectEmptyComponentFactory(function(instantiate){return new ReactDOMEmptyComponent(instantiate)});ReactInjection.Updates.injectReconcileTransaction(ReactReconcileTransaction);ReactInjection.Updates.injectBatchingStrategy(ReactDefaultBatchingStrategy);ReactInjection.Component.injectEnvironment(ReactComponentBrowserEnvironment)}module.exports={inject:inject}},{"./BeforeInputEventPlugin":256,"./ChangeEventPlugin":260,"./DefaultEventPluginOrder":267,"./EnterLeaveEventPlugin":269,"./HTMLDOMPropertyConfig":276,"./ReactComponentBrowserEnvironment":287,"./ReactDOMComponent":294,"./ReactDOMComponentTree":296,"./ReactDOMEmptyComponent":298,"./ReactDOMTextComponent":307,"./ReactDOMTreeTraversal":309,"./ReactDefaultBatchingStrategy":312,"./ReactEventListener":319,"./ReactInjection":323,"./ReactReconcileTransaction":340,"./SVGDOMPropertyConfig":348,"./SelectEventPlugin":349,"./SimpleEventPlugin":350}],314:[function(require,module,exports){(function(process){"use strict";var _assign=require("object-assign");var ReactCurrentOwner=require("./ReactCurrentOwner");var warning=require("fbjs/lib/warning");var canDefineProperty=require("./canDefineProperty");var hasOwnProperty=Object.prototype.hasOwnProperty;var REACT_ELEMENT_TYPE=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;var RESERVED_PROPS={key:true,ref:true,__self:true,__source:true};var specialPropKeyWarningShown,specialPropRefWarningShown;function hasValidRef(config){if(process.env.NODE_ENV!=="production"){if(hasOwnProperty.call(config,"ref")){var getter=Object.getOwnPropertyDescriptor(config,"ref").get;if(getter&&getter.isReactWarning){return false}}}return config.ref!==undefined}function hasValidKey(config){if(process.env.NODE_ENV!=="production"){if(hasOwnProperty.call(config,"key")){var getter=Object.getOwnPropertyDescriptor(config,"key").get;if(getter&&getter.isReactWarning){return false}}}return config.key!==undefined}function defineKeyPropWarningGetter(props,displayName){var warnAboutAccessingKey=function(){if(!specialPropKeyWarningShown){specialPropKeyWarningShown=true;process.env.NODE_ENV!=="production"?warning(false,"%s: `key` is not a prop. Trying to access it will result "+"in `undefined` being returned. If you need to access the same "+"value within the child component, you should pass it as a different "+"prop. (https://fb.me/react-special-props)",displayName):void 0}};warnAboutAccessingKey.isReactWarning=true;Object.defineProperty(props,"key",{get:warnAboutAccessingKey,configurable:true})}function defineRefPropWarningGetter(props,displayName){var warnAboutAccessingRef=function(){if(!specialPropRefWarningShown){specialPropRefWarningShown=true;process.env.NODE_ENV!=="production"?warning(false,"%s: `ref` is not a prop. Trying to access it will result "+"in `undefined` being returned. If you need to access the same "+"value within the child component, you should pass it as a different "+"prop. (https://fb.me/react-special-props)",displayName):void 0}};warnAboutAccessingRef.isReactWarning=true;Object.defineProperty(props,"ref",{get:warnAboutAccessingRef,configurable:true})}var ReactElement=function(type,key,ref,self,source,owner,props){var element={$$typeof:REACT_ELEMENT_TYPE,type:type,key:key,ref:ref,props:props,_owner:owner};if(process.env.NODE_ENV!=="production"){element._store={};var shadowChildren=Array.isArray(props.children)?props.children.slice(0):props.children;if(canDefineProperty){Object.defineProperty(element._store,"validated",{configurable:false,enumerable:false,writable:true,value:false});Object.defineProperty(element,"_self",{configurable:false,enumerable:false,writable:false,value:self});Object.defineProperty(element,"_shadowChildren",{configurable:false,enumerable:false,writable:false,value:shadowChildren});Object.defineProperty(element,"_source",{configurable:false,enumerable:false,writable:false,value:source})}else{element._store.validated=false;element._self=self;element._shadowChildren=shadowChildren;element._source=source}if(Object.freeze){Object.freeze(element.props);Object.freeze(element)}}return element};ReactElement.createElement=function(type,config,children){var propName;var props={};var key=null;var ref=null;var self=null;var source=null;if(config!=null){if(hasValidRef(config)){ref=config.ref}if(hasValidKey(config)){key=""+config.key}self=config.__self===undefined?null:config.__self;source=config.__source===undefined?null:config.__source;for(propName in config){if(hasOwnProperty.call(config,propName)&&!RESERVED_PROPS.hasOwnProperty(propName)){props[propName]=config[propName]}}}var childrenLength=arguments.length-2;if(childrenLength===1){props.children=children}else if(childrenLength>1){var childArray=Array(childrenLength);for(var i=0;i<childrenLength;i++){childArray[i]=arguments[i+2]}props.children=childArray}if(type&&type.defaultProps){var defaultProps=type.defaultProps;for(propName in defaultProps){if(props[propName]===undefined){props[propName]=defaultProps[propName]}}}if(process.env.NODE_ENV!=="production"){if(key||ref){if(typeof props.$$typeof==="undefined"||props.$$typeof!==REACT_ELEMENT_TYPE){var displayName=typeof type==="function"?type.displayName||type.name||"Unknown":type;if(key){defineKeyPropWarningGetter(props,displayName)}if(ref){defineRefPropWarningGetter(props,displayName)}}}}return ReactElement(type,key,ref,self,source,ReactCurrentOwner.current,props)};ReactElement.createFactory=function(type){var factory=ReactElement.createElement.bind(null,type);factory.type=type;return factory};ReactElement.cloneAndReplaceKey=function(oldElement,newKey){var newElement=ReactElement(oldElement.type,newKey,oldElement.ref,oldElement._self,oldElement._source,oldElement._owner,oldElement.props);return newElement};ReactElement.cloneElement=function(element,config,children){var propName;var props=_assign({},element.props);var key=element.key;var ref=element.ref;var self=element._self;var source=element._source;var owner=element._owner;if(config!=null){if(hasValidRef(config)){ref=config.ref;owner=ReactCurrentOwner.current}if(hasValidKey(config)){key=""+config.key}var defaultProps;if(element.type&&element.type.defaultProps){defaultProps=element.type.defaultProps}for(propName in config){if(hasOwnProperty.call(config,propName)&&!RESERVED_PROPS.hasOwnProperty(propName)){if(config[propName]===undefined&&defaultProps!==undefined){props[propName]=defaultProps[propName]}else{props[propName]=config[propName]}}}}var childrenLength=arguments.length-2;if(childrenLength===1){props.children=children}else if(childrenLength>1){var childArray=Array(childrenLength);for(var i=0;i<childrenLength;i++){childArray[i]=arguments[i+2]}props.children=childArray}return ReactElement(element.type,key,ref,self,source,owner,props)};ReactElement.isValidElement=function(object){return typeof object==="object"&&object!==null&&object.$$typeof===REACT_ELEMENT_TYPE};ReactElement.REACT_ELEMENT_TYPE=REACT_ELEMENT_TYPE;module.exports=ReactElement}).call(this,require("_process"))},{"./ReactCurrentOwner":291,"./canDefineProperty":368,_process:216,"fbjs/lib/warning":192,"object-assign":215}],315:[function(require,module,exports){(function(process){"use strict";var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactComponentTreeHook=require("./ReactComponentTreeHook");
var ReactElement=require("./ReactElement");var ReactPropTypeLocations=require("./ReactPropTypeLocations");var checkReactTypeSpec=require("./checkReactTypeSpec");var canDefineProperty=require("./canDefineProperty");var getIteratorFn=require("./getIteratorFn");var warning=require("fbjs/lib/warning");function getDeclarationErrorAddendum(){if(ReactCurrentOwner.current){var name=ReactCurrentOwner.current.getName();if(name){return" Check the render method of `"+name+"`."}}return""}var ownerHasKeyUseWarning={};function getCurrentComponentErrorInfo(parentType){var info=getDeclarationErrorAddendum();if(!info){var parentName=typeof parentType==="string"?parentType:parentType.displayName||parentType.name;if(parentName){info=" Check the top-level render call using <"+parentName+">."}}return info}function validateExplicitKey(element,parentType){if(!element._store||element._store.validated||element.key!=null){return}element._store.validated=true;var memoizer=ownerHasKeyUseWarning.uniqueKey||(ownerHasKeyUseWarning.uniqueKey={});var currentComponentErrorInfo=getCurrentComponentErrorInfo(parentType);if(memoizer[currentComponentErrorInfo]){return}memoizer[currentComponentErrorInfo]=true;var childOwner="";if(element&&element._owner&&element._owner!==ReactCurrentOwner.current){childOwner=" It was passed a child from "+element._owner.getName()+"."}process.env.NODE_ENV!=="production"?warning(false,'Each child in an array or iterator should have a unique "key" prop.'+"%s%s See https://fb.me/react-warning-keys for more information.%s",currentComponentErrorInfo,childOwner,ReactComponentTreeHook.getCurrentStackAddendum(element)):void 0}function validateChildKeys(node,parentType){if(typeof node!=="object"){return}if(Array.isArray(node)){for(var i=0;i<node.length;i++){var child=node[i];if(ReactElement.isValidElement(child)){validateExplicitKey(child,parentType)}}}else if(ReactElement.isValidElement(node)){if(node._store){node._store.validated=true}}else if(node){var iteratorFn=getIteratorFn(node);if(iteratorFn){if(iteratorFn!==node.entries){var iterator=iteratorFn.call(node);var step;while(!(step=iterator.next()).done){if(ReactElement.isValidElement(step.value)){validateExplicitKey(step.value,parentType)}}}}}}function validatePropTypes(element){var componentClass=element.type;if(typeof componentClass!=="function"){return}var name=componentClass.displayName||componentClass.name;if(componentClass.propTypes){checkReactTypeSpec(componentClass.propTypes,element.props,ReactPropTypeLocations.prop,name,element,null)}if(typeof componentClass.getDefaultProps==="function"){process.env.NODE_ENV!=="production"?warning(componentClass.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass "+"definitions. Use a static property named `defaultProps` instead."):void 0}}var ReactElementValidator={createElement:function(type,props,children){var validType=typeof type==="string"||typeof type==="function";if(!validType){process.env.NODE_ENV!=="production"?warning(false,"React.createElement: type should not be null, undefined, boolean, or "+"number. It should be a string (for DOM elements) or a ReactClass "+"(for composite components).%s",getDeclarationErrorAddendum()):void 0}var element=ReactElement.createElement.apply(this,arguments);if(element==null){return element}if(validType){for(var i=2;i<arguments.length;i++){validateChildKeys(arguments[i],type)}}validatePropTypes(element);return element},createFactory:function(type){var validatedFactory=ReactElementValidator.createElement.bind(null,type);validatedFactory.type=type;if(process.env.NODE_ENV!=="production"){if(canDefineProperty){Object.defineProperty(validatedFactory,"type",{enumerable:false,get:function(){process.env.NODE_ENV!=="production"?warning(false,"Factory.type is deprecated. Access the class directly "+"before passing it to createFactory."):void 0;Object.defineProperty(this,"type",{value:type});return type}})}}return validatedFactory},cloneElement:function(element,props,children){var newElement=ReactElement.cloneElement.apply(this,arguments);for(var i=2;i<arguments.length;i++){validateChildKeys(arguments[i],newElement.type)}validatePropTypes(newElement);return newElement}};module.exports=ReactElementValidator}).call(this,require("_process"))},{"./ReactComponentTreeHook":289,"./ReactCurrentOwner":291,"./ReactElement":314,"./ReactPropTypeLocations":336,"./canDefineProperty":368,"./checkReactTypeSpec":369,"./getIteratorFn":381,_process:216,"fbjs/lib/warning":192}],316:[function(require,module,exports){"use strict";var emptyComponentFactory;var ReactEmptyComponentInjection={injectEmptyComponentFactory:function(factory){emptyComponentFactory=factory}};var ReactEmptyComponent={create:function(instantiate){return emptyComponentFactory(instantiate)}};ReactEmptyComponent.injection=ReactEmptyComponentInjection;module.exports=ReactEmptyComponent},{}],317:[function(require,module,exports){(function(process){"use strict";var caughtError=null;function invokeGuardedCallback(name,func,a,b){try{return func(a,b)}catch(x){if(caughtError===null){caughtError=x}return undefined}}var ReactErrorUtils={invokeGuardedCallback:invokeGuardedCallback,invokeGuardedCallbackWithCatch:invokeGuardedCallback,rethrowCaughtError:function(){if(caughtError){var error=caughtError;caughtError=null;throw error}}};if(process.env.NODE_ENV!=="production"){if(typeof window!=="undefined"&&typeof window.dispatchEvent==="function"&&typeof document!=="undefined"&&typeof document.createEvent==="function"){var fakeNode=document.createElement("react");ReactErrorUtils.invokeGuardedCallback=function(name,func,a,b){var boundFunc=func.bind(null,a,b);var evtType="react-"+name;fakeNode.addEventListener(evtType,boundFunc,false);var evt=document.createEvent("Event");evt.initEvent(evtType,false,false);fakeNode.dispatchEvent(evt);fakeNode.removeEventListener(evtType,boundFunc,false)}}}module.exports=ReactErrorUtils}).call(this,require("_process"))},{_process:216}],318:[function(require,module,exports){"use strict";var EventPluginHub=require("./EventPluginHub");function runEventQueueInBatch(events){EventPluginHub.enqueueEvents(events);EventPluginHub.processEventQueue(false)}var ReactEventEmitterMixin={handleTopLevel:function(topLevelType,targetInst,nativeEvent,nativeEventTarget){var events=EventPluginHub.extractEvents(topLevelType,targetInst,nativeEvent,nativeEventTarget);runEventQueueInBatch(events)}};module.exports=ReactEventEmitterMixin},{"./EventPluginHub":271}],319:[function(require,module,exports){"use strict";var _assign=require("object-assign");var EventListener=require("fbjs/lib/EventListener");var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var PooledClass=require("./PooledClass");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var ReactUpdates=require("./ReactUpdates");var getEventTarget=require("./getEventTarget");var getUnboundedScrollPosition=require("fbjs/lib/getUnboundedScrollPosition");function findParent(inst){while(inst._hostParent){inst=inst._hostParent}var rootNode=ReactDOMComponentTree.getNodeFromInstance(inst);var container=rootNode.parentNode;return ReactDOMComponentTree.getClosestInstanceFromNode(container)}function TopLevelCallbackBookKeeping(topLevelType,nativeEvent){this.topLevelType=topLevelType;this.nativeEvent=nativeEvent;this.ancestors=[]}_assign(TopLevelCallbackBookKeeping.prototype,{destructor:function(){this.topLevelType=null;this.nativeEvent=null;this.ancestors.length=0}});PooledClass.addPoolingTo(TopLevelCallbackBookKeeping,PooledClass.twoArgumentPooler);function handleTopLevelImpl(bookKeeping){var nativeEventTarget=getEventTarget(bookKeeping.nativeEvent);var targetInst=ReactDOMComponentTree.getClosestInstanceFromNode(nativeEventTarget);var ancestor=targetInst;do{bookKeeping.ancestors.push(ancestor);ancestor=ancestor&&findParent(ancestor)}while(ancestor);for(var i=0;i<bookKeeping.ancestors.length;i++){targetInst=bookKeeping.ancestors[i];ReactEventListener._handleTopLevel(bookKeeping.topLevelType,targetInst,bookKeeping.nativeEvent,getEventTarget(bookKeeping.nativeEvent))}}function scrollValueMonitor(cb){var scrollPosition=getUnboundedScrollPosition(window);cb(scrollPosition)}var ReactEventListener={_enabled:true,_handleTopLevel:null,WINDOW_HANDLE:ExecutionEnvironment.canUseDOM?window:null,setHandleTopLevel:function(handleTopLevel){ReactEventListener._handleTopLevel=handleTopLevel},setEnabled:function(enabled){ReactEventListener._enabled=!!enabled},isEnabled:function(){return ReactEventListener._enabled},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){var element=handle;if(!element){return null}return EventListener.listen(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType))},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){var element=handle;if(!element){return null}return EventListener.capture(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType))},monitorScrollValue:function(refresh){var callback=scrollValueMonitor.bind(null,refresh);EventListener.listen(window,"scroll",callback)},dispatchEvent:function(topLevelType,nativeEvent){if(!ReactEventListener._enabled){return}var bookKeeping=TopLevelCallbackBookKeeping.getPooled(topLevelType,nativeEvent);try{ReactUpdates.batchedUpdates(handleTopLevelImpl,bookKeeping)}finally{TopLevelCallbackBookKeeping.release(bookKeeping)}}};module.exports=ReactEventListener},{"./PooledClass":279,"./ReactDOMComponentTree":296,"./ReactUpdates":346,"./getEventTarget":379,"fbjs/lib/EventListener":145,"fbjs/lib/ExecutionEnvironment":146,"fbjs/lib/getUnboundedScrollPosition":176,"object-assign":215}],320:[function(require,module,exports){"use strict";var ReactFeatureFlags={logTopLevelRenders:false};module.exports=ReactFeatureFlags},{}],321:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant"),_assign=require("object-assign");var invariant=require("fbjs/lib/invariant");var genericComponentClass=null;var tagToComponentClass={};var textComponentClass=null;var ReactHostComponentInjection={injectGenericComponentClass:function(componentClass){genericComponentClass=componentClass},injectTextComponentClass:function(componentClass){textComponentClass=componentClass},injectComponentClasses:function(componentClasses){_assign(tagToComponentClass,componentClasses)}};function createInternalComponent(element){!genericComponentClass?process.env.NODE_ENV!=="production"?invariant(false,"There is no registered component for the tag %s",element.type):_prodInvariant("111",element.type):void 0;return new genericComponentClass(element)}function createInstanceForText(text){return new textComponentClass(text)}function isTextComponent(component){return component instanceof textComponentClass}var ReactHostComponent={createInternalComponent:createInternalComponent,createInstanceForText:createInstanceForText,isTextComponent:isTextComponent,injection:ReactHostComponentInjection};module.exports=ReactHostComponent}).call(this,require("_process"))},{"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180,"object-assign":215}],322:[function(require,module,exports){"use strict";var history=[];var ReactHostOperationHistoryHook={onHostOperation:function(debugID,type,payload){history.push({instanceID:debugID,type:type,payload:payload})},clearHistory:function(){if(ReactHostOperationHistoryHook._preventClearing){return}history=[]},getHistory:function(){return history}};module.exports=ReactHostOperationHistoryHook},{}],323:[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty");var EventPluginHub=require("./EventPluginHub");var EventPluginUtils=require("./EventPluginUtils");var ReactComponentEnvironment=require("./ReactComponentEnvironment");var ReactClass=require("./ReactClass");var ReactEmptyComponent=require("./ReactEmptyComponent");var ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter");var ReactHostComponent=require("./ReactHostComponent");var ReactUpdates=require("./ReactUpdates");var ReactInjection={Component:ReactComponentEnvironment.injection,Class:ReactClass.injection,DOMProperty:DOMProperty.injection,EmptyComponent:ReactEmptyComponent.injection,EventPluginHub:EventPluginHub.injection,EventPluginUtils:EventPluginUtils.injection,EventEmitter:ReactBrowserEventEmitter.injection,HostComponent:ReactHostComponent.injection,Updates:ReactUpdates.injection};module.exports=ReactInjection},{"./DOMProperty":264,"./EventPluginHub":271,"./EventPluginUtils":273,"./ReactBrowserEventEmitter":281,"./ReactClass":285,"./ReactComponentEnvironment":288,"./ReactEmptyComponent":316,"./ReactHostComponent":321,"./ReactUpdates":346}],324:[function(require,module,exports){"use strict";var ReactDOMSelection=require("./ReactDOMSelection");var containsNode=require("fbjs/lib/containsNode");var focusNode=require("fbjs/lib/focusNode");var getActiveElement=require("fbjs/lib/getActiveElement");function isInDocument(node){return containsNode(document.documentElement,node)}var ReactInputSelection={hasSelectionCapabilities:function(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return nodeName&&(nodeName==="input"&&elem.type==="text"||nodeName==="textarea"||elem.contentEditable==="true")},getSelectionInformation:function(){var focusedElem=getActiveElement();return{focusedElem:focusedElem,selectionRange:ReactInputSelection.hasSelectionCapabilities(focusedElem)?ReactInputSelection.getSelection(focusedElem):null}},restoreSelection:function(priorSelectionInformation){var curFocusedElem=getActiveElement();var priorFocusedElem=priorSelectionInformation.focusedElem;var priorSelectionRange=priorSelectionInformation.selectionRange;if(curFocusedElem!==priorFocusedElem&&isInDocument(priorFocusedElem)){if(ReactInputSelection.hasSelectionCapabilities(priorFocusedElem)){ReactInputSelection.setSelection(priorFocusedElem,priorSelectionRange)}focusNode(priorFocusedElem)}},getSelection:function(input){var selection;if("selectionStart"in input){selection={start:input.selectionStart,end:input.selectionEnd}}else if(document.selection&&input.nodeName&&input.nodeName.toLowerCase()==="input"){var range=document.selection.createRange();if(range.parentElement()===input){selection={start:-range.moveStart("character",-input.value.length),end:-range.moveEnd("character",-input.value.length)}}}else{selection=ReactDOMSelection.getOffsets(input)}return selection||{start:0,end:0}},setSelection:function(input,offsets){var start=offsets.start;var end=offsets.end;if(end===undefined){end=start}if("selectionStart"in input){input.selectionStart=start;input.selectionEnd=Math.min(end,input.value.length)}else if(document.selection&&input.nodeName&&input.nodeName.toLowerCase()==="input"){var range=input.createTextRange();range.collapse(true);range.moveStart("character",start);range.moveEnd("character",end-start);range.select()}else{ReactDOMSelection.setOffsets(input,offsets)}}};module.exports=ReactInputSelection},{"./ReactDOMSelection":306,"fbjs/lib/containsNode":162,"fbjs/lib/focusNode":168,"fbjs/lib/getActiveElement":169}],325:[function(require,module,exports){"use strict";var ReactInstanceMap={remove:function(key){key._reactInternalInstance=undefined},get:function(key){return key._reactInternalInstance},has:function(key){return key._reactInternalInstance!==undefined},set:function(key,value){key._reactInternalInstance=value}};module.exports=ReactInstanceMap},{}],326:[function(require,module,exports){(function(process){"use strict";var debugTool=null;if(process.env.NODE_ENV!=="production"){var ReactDebugTool=require("./ReactDebugTool");debugTool=ReactDebugTool}module.exports={debugTool:debugTool}}).call(this,require("_process"))},{"./ReactDebugTool":311,_process:216}],327:[function(require,module,exports){(function(process){"use strict";var warning=require("fbjs/lib/warning");if(process.env.NODE_ENV!=="production"){var processingChildContext=false;var warnInvalidSetState=function(){process.env.NODE_ENV!=="production"?warning(!processingChildContext,"setState(...): Cannot call setState() inside getChildContext()"):void 0}}var ReactInvalidSetStateWarningHook={onBeginProcessingChildContext:function(){processingChildContext=true},onEndProcessingChildContext:function(){processingChildContext=false},onSetState:function(){warnInvalidSetState()}};module.exports=ReactInvalidSetStateWarningHook}).call(this,require("_process"))},{_process:216,"fbjs/lib/warning":192}],328:[function(require,module,exports){"use strict";var adler32=require("./adler32");var TAG_END=/\/?>/;var COMMENT_START=/^<\!\-\-/;var ReactMarkupChecksum={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(markup){var checksum=adler32(markup);if(COMMENT_START.test(markup)){return markup}else{return markup.replace(TAG_END," "+ReactMarkupChecksum.CHECKSUM_ATTR_NAME+'="'+checksum+'"$&')}},canReuseMarkup:function(markup,element){var existingChecksum=element.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);existingChecksum=existingChecksum&&parseInt(existingChecksum,10);var markupChecksum=adler32(markup);return markupChecksum===existingChecksum}};module.exports=ReactMarkupChecksum},{"./adler32":367}],329:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var DOMLazyTree=require("./DOMLazyTree");var DOMProperty=require("./DOMProperty");var ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter");var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var ReactDOMContainerInfo=require("./ReactDOMContainerInfo");var ReactDOMFeatureFlags=require("./ReactDOMFeatureFlags");var ReactElement=require("./ReactElement");var ReactFeatureFlags=require("./ReactFeatureFlags");var ReactInstanceMap=require("./ReactInstanceMap");var ReactInstrumentation=require("./ReactInstrumentation");var ReactMarkupChecksum=require("./ReactMarkupChecksum");var ReactReconciler=require("./ReactReconciler");var ReactUpdateQueue=require("./ReactUpdateQueue");var ReactUpdates=require("./ReactUpdates");var emptyObject=require("fbjs/lib/emptyObject");var instantiateReactComponent=require("./instantiateReactComponent");var invariant=require("fbjs/lib/invariant");var setInnerHTML=require("./setInnerHTML");var shouldUpdateReactComponent=require("./shouldUpdateReactComponent");var warning=require("fbjs/lib/warning");var ATTR_NAME=DOMProperty.ID_ATTRIBUTE_NAME;var ROOT_ATTR_NAME=DOMProperty.ROOT_ATTRIBUTE_NAME;var ELEMENT_NODE_TYPE=1;var DOC_NODE_TYPE=9;var DOCUMENT_FRAGMENT_NODE_TYPE=11;var instancesByReactRootID={};function firstDifferenceIndex(string1,string2){var minLen=Math.min(string1.length,string2.length);for(var i=0;i<minLen;i++){if(string1.charAt(i)!==string2.charAt(i)){return i}}return string1.length===string2.length?-1:minLen}function getReactRootElementInContainer(container){if(!container){return null}if(container.nodeType===DOC_NODE_TYPE){return container.documentElement}else{return container.firstChild}}function internalGetID(node){return node.getAttribute&&node.getAttribute(ATTR_NAME)||""}function mountComponentIntoNode(wrapperInstance,container,transaction,shouldReuseMarkup,context){var markerName;if(ReactFeatureFlags.logTopLevelRenders){var wrappedElement=wrapperInstance._currentElement.props;var type=wrappedElement.type;markerName="React mount: "+(typeof type==="string"?type:type.displayName||type.name);console.time(markerName)}var markup=ReactReconciler.mountComponent(wrapperInstance,transaction,null,ReactDOMContainerInfo(wrapperInstance,container),context,0);if(markerName){console.timeEnd(markerName)}wrapperInstance._renderedComponent._topLevelWrapper=wrapperInstance;ReactMount._mountImageIntoNode(markup,container,wrapperInstance,shouldReuseMarkup,transaction)}function batchedMountComponentIntoNode(componentInstance,container,shouldReuseMarkup,context){var transaction=ReactUpdates.ReactReconcileTransaction.getPooled(!shouldReuseMarkup&&ReactDOMFeatureFlags.useCreateElement);transaction.perform(mountComponentIntoNode,null,componentInstance,container,transaction,shouldReuseMarkup,context);ReactUpdates.ReactReconcileTransaction.release(transaction)}function unmountComponentFromNode(instance,container,safely){if(process.env.NODE_ENV!=="production"){ReactInstrumentation.debugTool.onBeginFlush()}ReactReconciler.unmountComponent(instance,safely);if(process.env.NODE_ENV!=="production"){ReactInstrumentation.debugTool.onEndFlush()}if(container.nodeType===DOC_NODE_TYPE){container=container.documentElement}while(container.lastChild){container.removeChild(container.lastChild)}}function hasNonRootReactChild(container){var rootEl=getReactRootElementInContainer(container);if(rootEl){var inst=ReactDOMComponentTree.getInstanceFromNode(rootEl);return!!(inst&&inst._hostParent)}}function nodeIsRenderedByOtherInstance(container){var rootEl=getReactRootElementInContainer(container);return!!(rootEl&&isReactNode(rootEl)&&!ReactDOMComponentTree.getInstanceFromNode(rootEl))}function isValidContainer(node){return!!(node&&(node.nodeType===ELEMENT_NODE_TYPE||node.nodeType===DOC_NODE_TYPE||node.nodeType===DOCUMENT_FRAGMENT_NODE_TYPE))}function isReactNode(node){return isValidContainer(node)&&(node.hasAttribute(ROOT_ATTR_NAME)||node.hasAttribute(ATTR_NAME))}function getHostRootInstanceInContainer(container){var rootEl=getReactRootElementInContainer(container);var prevHostInstance=rootEl&&ReactDOMComponentTree.getInstanceFromNode(rootEl);return prevHostInstance&&!prevHostInstance._hostParent?prevHostInstance:null}function getTopLevelWrapperInContainer(container){var root=getHostRootInstanceInContainer(container);return root?root._hostContainerInfo._topLevelWrapper:null}var topLevelRootCounter=1;var TopLevelWrapper=function(){this.rootID=topLevelRootCounter++};TopLevelWrapper.prototype.isReactComponent={};if(process.env.NODE_ENV!=="production"){TopLevelWrapper.displayName="TopLevelWrapper"}TopLevelWrapper.prototype.render=function(){return this.props};var ReactMount={TopLevelWrapper:TopLevelWrapper,_instancesByReactRootID:instancesByReactRootID,scrollMonitor:function(container,renderCallback){renderCallback()},_updateRootComponent:function(prevComponent,nextElement,nextContext,container,callback){ReactMount.scrollMonitor(container,function(){ReactUpdateQueue.enqueueElementInternal(prevComponent,nextElement,nextContext);if(callback){ReactUpdateQueue.enqueueCallbackInternal(prevComponent,callback)}});return prevComponent},_renderNewRootComponent:function(nextElement,container,shouldReuseMarkup,context){process.env.NODE_ENV!=="production"?warning(ReactCurrentOwner.current==null,"_renderNewRootComponent(): Render methods should be a pure function "+"of props and state; triggering nested component updates from "+"render is not allowed. If necessary, trigger nested updates in "+"componentDidUpdate. Check the render method of %s.",ReactCurrentOwner.current&&ReactCurrentOwner.current.getName()||"ReactCompositeComponent"):void 0;!isValidContainer(container)?process.env.NODE_ENV!=="production"?invariant(false,"_registerComponent(...): Target container is not a DOM element."):_prodInvariant("37"):void 0;ReactBrowserEventEmitter.ensureScrollValueMonitoring();var componentInstance=instantiateReactComponent(nextElement,false);ReactUpdates.batchedUpdates(batchedMountComponentIntoNode,componentInstance,container,shouldReuseMarkup,context);var wrapperID=componentInstance._instance.rootID;instancesByReactRootID[wrapperID]=componentInstance;return componentInstance},renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){!(parentComponent!=null&&ReactInstanceMap.has(parentComponent))?process.env.NODE_ENV!=="production"?invariant(false,"parentComponent must be a valid React Component"):_prodInvariant("38"):void 0;return ReactMount._renderSubtreeIntoContainer(parentComponent,nextElement,container,callback)},_renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){ReactUpdateQueue.validateCallback(callback,"ReactDOM.render");!ReactElement.isValidElement(nextElement)?process.env.NODE_ENV!=="production"?invariant(false,"ReactDOM.render(): Invalid component element.%s",typeof nextElement==="string"?" Instead of passing a string like 'div', pass "+"React.createElement('div') or <div />.":typeof nextElement==="function"?" Instead of passing a class like Foo, pass "+"React.createElement(Foo) or <Foo />.":nextElement!=null&&nextElement.props!==undefined?" This may be caused by unintentionally loading two independent "+"copies of React.":""):_prodInvariant("39",typeof nextElement==="string"?" Instead of passing a string like 'div', pass "+"React.createElement('div') or <div />.":typeof nextElement==="function"?" Instead of passing a class like Foo, pass "+"React.createElement(Foo) or <Foo />.":nextElement!=null&&nextElement.props!==undefined?" This may be caused by unintentionally loading two independent "+"copies of React.":""):void 0;process.env.NODE_ENV!=="production"?warning(!container||!container.tagName||container.tagName.toUpperCase()!=="BODY","render(): Rendering components directly into document.body is "+"discouraged, since its children are often manipulated by third-party "+"scripts and browser extensions. This may lead to subtle "+"reconciliation issues. Try rendering into a container element created "+"for your app."):void 0;var nextWrappedElement=ReactElement(TopLevelWrapper,null,null,null,null,null,nextElement);var nextContext;if(parentComponent){var parentInst=ReactInstanceMap.get(parentComponent);nextContext=parentInst._processChildContext(parentInst._context)}else{nextContext=emptyObject}var prevComponent=getTopLevelWrapperInContainer(container);if(prevComponent){var prevWrappedElement=prevComponent._currentElement;var prevElement=prevWrappedElement.props;if(shouldUpdateReactComponent(prevElement,nextElement)){var publicInst=prevComponent._renderedComponent.getPublicInstance();var updatedCallback=callback&&function(){callback.call(publicInst)};ReactMount._updateRootComponent(prevComponent,nextWrappedElement,nextContext,container,updatedCallback);return publicInst}else{ReactMount.unmountComponentAtNode(container)}}var reactRootElement=getReactRootElementInContainer(container);var containerHasReactMarkup=reactRootElement&&!!internalGetID(reactRootElement);var containerHasNonRootReactChild=hasNonRootReactChild(container);if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(!containerHasNonRootReactChild,"render(...): Replacing React-rendered children with a new root "+"component. If you intended to update the children of this node, "+"you should instead have the existing children update their state "+"and render the new components instead of calling ReactDOM.render."):void 0;if(!containerHasReactMarkup||reactRootElement.nextSibling){var rootElementSibling=reactRootElement;while(rootElementSibling){if(internalGetID(rootElementSibling)){process.env.NODE_ENV!=="production"?warning(false,"render(): Target node has markup rendered by React, but there "+"are unrelated nodes as well. This is most commonly caused by "+"white-space inserted around server-rendered markup."):void 0;break}rootElementSibling=rootElementSibling.nextSibling}}}var shouldReuseMarkup=containerHasReactMarkup&&!prevComponent&&!containerHasNonRootReactChild;var component=ReactMount._renderNewRootComponent(nextWrappedElement,container,shouldReuseMarkup,nextContext)._renderedComponent.getPublicInstance();if(callback){callback.call(component)}return component},render:function(nextElement,container,callback){return ReactMount._renderSubtreeIntoContainer(null,nextElement,container,callback)},unmountComponentAtNode:function(container){process.env.NODE_ENV!=="production"?warning(ReactCurrentOwner.current==null,"unmountComponentAtNode(): Render methods should be a pure function "+"of props and state; triggering nested component updates from render "+"is not allowed. If necessary, trigger nested updates in "+"componentDidUpdate. Check the render method of %s.",ReactCurrentOwner.current&&ReactCurrentOwner.current.getName()||"ReactCompositeComponent"):void 0;!isValidContainer(container)?process.env.NODE_ENV!=="production"?invariant(false,"unmountComponentAtNode(...): Target container is not a DOM element."):_prodInvariant("40"):void 0;if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(!nodeIsRenderedByOtherInstance(container),"unmountComponentAtNode(): The node you're attempting to unmount "+"was rendered by another copy of React."):void 0}var prevComponent=getTopLevelWrapperInContainer(container);if(!prevComponent){var containerHasNonRootReactChild=hasNonRootReactChild(container);var isContainerReactRoot=container.nodeType===1&&container.hasAttribute(ROOT_ATTR_NAME);if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(!containerHasNonRootReactChild,"unmountComponentAtNode(): The node you're attempting to unmount "+"was rendered by React and is not a top-level container. %s",isContainerReactRoot?"You may have accidentally passed in a React root node instead "+"of its container.":"Instead, have the parent component update its state and "+"rerender in order to remove this component."):void 0}return false}delete instancesByReactRootID[prevComponent._instance.rootID];ReactUpdates.batchedUpdates(unmountComponentFromNode,prevComponent,container,false);return true},_mountImageIntoNode:function(markup,container,instance,shouldReuseMarkup,transaction){!isValidContainer(container)?process.env.NODE_ENV!=="production"?invariant(false,"mountComponentIntoNode(...): Target container is not valid."):_prodInvariant("41"):void 0;if(shouldReuseMarkup){var rootElement=getReactRootElementInContainer(container);if(ReactMarkupChecksum.canReuseMarkup(markup,rootElement)){ReactDOMComponentTree.precacheNode(instance,rootElement);return}else{var checksum=rootElement.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);rootElement.removeAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);var rootMarkup=rootElement.outerHTML;rootElement.setAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME,checksum);var normalizedMarkup=markup;if(process.env.NODE_ENV!=="production"){var normalizer;if(container.nodeType===ELEMENT_NODE_TYPE){normalizer=document.createElement("div");normalizer.innerHTML=markup;normalizedMarkup=normalizer.innerHTML}else{normalizer=document.createElement("iframe");document.body.appendChild(normalizer);normalizer.contentDocument.write(markup);normalizedMarkup=normalizer.contentDocument.documentElement.outerHTML;document.body.removeChild(normalizer)}}var diffIndex=firstDifferenceIndex(normalizedMarkup,rootMarkup);var difference=" (client) "+normalizedMarkup.substring(diffIndex-20,diffIndex+20)+"\n (server) "+rootMarkup.substring(diffIndex-20,diffIndex+20);!(container.nodeType!==DOC_NODE_TYPE)?process.env.NODE_ENV!=="production"?invariant(false,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",difference):_prodInvariant("42",difference):void 0;if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(false,"React attempted to reuse markup in a container but the "+"checksum was invalid. This generally means that you are "+"using server rendering and the markup generated on the "+"server was not what the client was expecting. React injected "+"new markup to compensate which works but you have lost many "+"of the benefits of server rendering. Instead, figure out "+"why the markup being generated is different on the client "+"or server:\n%s",difference):void 0;
}}}!(container.nodeType!==DOC_NODE_TYPE)?process.env.NODE_ENV!=="production"?invariant(false,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):_prodInvariant("43"):void 0;if(transaction.useCreateElement){while(container.lastChild){container.removeChild(container.lastChild)}DOMLazyTree.insertTreeBefore(container,markup,null)}else{setInnerHTML(container,markup);ReactDOMComponentTree.precacheNode(instance,container.firstChild)}if(process.env.NODE_ENV!=="production"){var hostNode=ReactDOMComponentTree.getInstanceFromNode(container.firstChild);if(hostNode._debugID!==0){ReactInstrumentation.debugTool.onHostOperation(hostNode._debugID,"mount",markup.toString())}}}};module.exports=ReactMount}).call(this,require("_process"))},{"./DOMLazyTree":262,"./DOMProperty":264,"./ReactBrowserEventEmitter":281,"./ReactCurrentOwner":291,"./ReactDOMComponentTree":296,"./ReactDOMContainerInfo":297,"./ReactDOMFeatureFlags":300,"./ReactElement":314,"./ReactFeatureFlags":320,"./ReactInstanceMap":325,"./ReactInstrumentation":326,"./ReactMarkupChecksum":328,"./ReactReconciler":341,"./ReactUpdateQueue":345,"./ReactUpdates":346,"./instantiateReactComponent":385,"./reactProdInvariant":390,"./setInnerHTML":392,"./shouldUpdateReactComponent":394,_process:216,"fbjs/lib/emptyObject":167,"fbjs/lib/invariant":180,"fbjs/lib/warning":192}],330:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var ReactComponentEnvironment=require("./ReactComponentEnvironment");var ReactInstanceMap=require("./ReactInstanceMap");var ReactInstrumentation=require("./ReactInstrumentation");var ReactMultiChildUpdateTypes=require("./ReactMultiChildUpdateTypes");var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactReconciler=require("./ReactReconciler");var ReactChildReconciler=require("./ReactChildReconciler");var emptyFunction=require("fbjs/lib/emptyFunction");var flattenChildren=require("./flattenChildren");var invariant=require("fbjs/lib/invariant");function makeInsertMarkup(markup,afterNode,toIndex){return{type:ReactMultiChildUpdateTypes.INSERT_MARKUP,content:markup,fromIndex:null,fromNode:null,toIndex:toIndex,afterNode:afterNode}}function makeMove(child,afterNode,toIndex){return{type:ReactMultiChildUpdateTypes.MOVE_EXISTING,content:null,fromIndex:child._mountIndex,fromNode:ReactReconciler.getHostNode(child),toIndex:toIndex,afterNode:afterNode}}function makeRemove(child,node){return{type:ReactMultiChildUpdateTypes.REMOVE_NODE,content:null,fromIndex:child._mountIndex,fromNode:node,toIndex:null,afterNode:null}}function makeSetMarkup(markup){return{type:ReactMultiChildUpdateTypes.SET_MARKUP,content:markup,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function makeTextContent(textContent){return{type:ReactMultiChildUpdateTypes.TEXT_CONTENT,content:textContent,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function enqueue(queue,update){if(update){queue=queue||[];queue.push(update)}return queue}function processQueue(inst,updateQueue){ReactComponentEnvironment.processChildrenUpdates(inst,updateQueue)}var setChildrenForInstrumentation=emptyFunction;if(process.env.NODE_ENV!=="production"){var getDebugID=function(inst){if(!inst._debugID){var internal;if(internal=ReactInstanceMap.get(inst)){inst=internal}}return inst._debugID};setChildrenForInstrumentation=function(children){var debugID=getDebugID(this);if(debugID!==0){ReactInstrumentation.debugTool.onSetChildren(debugID,children?Object.keys(children).map(function(key){return children[key]._debugID}):[])}}}var ReactMultiChild={Mixin:{_reconcilerInstantiateChildren:function(nestedChildren,transaction,context){if(process.env.NODE_ENV!=="production"){var selfDebugID=getDebugID(this);if(this._currentElement){try{ReactCurrentOwner.current=this._currentElement._owner;return ReactChildReconciler.instantiateChildren(nestedChildren,transaction,context,selfDebugID)}finally{ReactCurrentOwner.current=null}}}return ReactChildReconciler.instantiateChildren(nestedChildren,transaction,context)},_reconcilerUpdateChildren:function(prevChildren,nextNestedChildrenElements,mountImages,removedNodes,transaction,context){var nextChildren;var selfDebugID=0;if(process.env.NODE_ENV!=="production"){selfDebugID=getDebugID(this);if(this._currentElement){try{ReactCurrentOwner.current=this._currentElement._owner;nextChildren=flattenChildren(nextNestedChildrenElements,selfDebugID)}finally{ReactCurrentOwner.current=null}ReactChildReconciler.updateChildren(prevChildren,nextChildren,mountImages,removedNodes,transaction,this,this._hostContainerInfo,context,selfDebugID);return nextChildren}}nextChildren=flattenChildren(nextNestedChildrenElements,selfDebugID);ReactChildReconciler.updateChildren(prevChildren,nextChildren,mountImages,removedNodes,transaction,this,this._hostContainerInfo,context,selfDebugID);return nextChildren},mountChildren:function(nestedChildren,transaction,context){var children=this._reconcilerInstantiateChildren(nestedChildren,transaction,context);this._renderedChildren=children;var mountImages=[];var index=0;for(var name in children){if(children.hasOwnProperty(name)){var child=children[name];var selfDebugID=0;if(process.env.NODE_ENV!=="production"){selfDebugID=getDebugID(this)}var mountImage=ReactReconciler.mountComponent(child,transaction,this,this._hostContainerInfo,context,selfDebugID);child._mountIndex=index++;mountImages.push(mountImage)}}if(process.env.NODE_ENV!=="production"){setChildrenForInstrumentation.call(this,children)}return mountImages},updateTextContent:function(nextContent){var prevChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(prevChildren,false);for(var name in prevChildren){if(prevChildren.hasOwnProperty(name)){!false?process.env.NODE_ENV!=="production"?invariant(false,"updateTextContent called on non-empty component."):_prodInvariant("118"):void 0}}var updates=[makeTextContent(nextContent)];processQueue(this,updates)},updateMarkup:function(nextMarkup){var prevChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(prevChildren,false);for(var name in prevChildren){if(prevChildren.hasOwnProperty(name)){!false?process.env.NODE_ENV!=="production"?invariant(false,"updateTextContent called on non-empty component."):_prodInvariant("118"):void 0}}var updates=[makeSetMarkup(nextMarkup)];processQueue(this,updates)},updateChildren:function(nextNestedChildrenElements,transaction,context){this._updateChildren(nextNestedChildrenElements,transaction,context)},_updateChildren:function(nextNestedChildrenElements,transaction,context){var prevChildren=this._renderedChildren;var removedNodes={};var mountImages=[];var nextChildren=this._reconcilerUpdateChildren(prevChildren,nextNestedChildrenElements,mountImages,removedNodes,transaction,context);if(!nextChildren&&!prevChildren){return}var updates=null;var name;var nextIndex=0;var lastIndex=0;var nextMountIndex=0;var lastPlacedNode=null;for(name in nextChildren){if(!nextChildren.hasOwnProperty(name)){continue}var prevChild=prevChildren&&prevChildren[name];var nextChild=nextChildren[name];if(prevChild===nextChild){updates=enqueue(updates,this.moveChild(prevChild,lastPlacedNode,nextIndex,lastIndex));lastIndex=Math.max(prevChild._mountIndex,lastIndex);prevChild._mountIndex=nextIndex}else{if(prevChild){lastIndex=Math.max(prevChild._mountIndex,lastIndex)}updates=enqueue(updates,this._mountChildAtIndex(nextChild,mountImages[nextMountIndex],lastPlacedNode,nextIndex,transaction,context));nextMountIndex++}nextIndex++;lastPlacedNode=ReactReconciler.getHostNode(nextChild)}for(name in removedNodes){if(removedNodes.hasOwnProperty(name)){updates=enqueue(updates,this._unmountChild(prevChildren[name],removedNodes[name]))}}if(updates){processQueue(this,updates)}this._renderedChildren=nextChildren;if(process.env.NODE_ENV!=="production"){setChildrenForInstrumentation.call(this,nextChildren)}},unmountChildren:function(safely){var renderedChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(renderedChildren,safely);this._renderedChildren=null},moveChild:function(child,afterNode,toIndex,lastIndex){if(child._mountIndex<lastIndex){return makeMove(child,afterNode,toIndex)}},createChild:function(child,afterNode,mountImage){return makeInsertMarkup(mountImage,afterNode,child._mountIndex)},removeChild:function(child,node){return makeRemove(child,node)},_mountChildAtIndex:function(child,mountImage,afterNode,index,transaction,context){child._mountIndex=index;return this.createChild(child,afterNode,mountImage)},_unmountChild:function(child,node){var update=this.removeChild(child,node);child._mountIndex=null;return update}}};module.exports=ReactMultiChild}).call(this,require("_process"))},{"./ReactChildReconciler":282,"./ReactComponentEnvironment":288,"./ReactCurrentOwner":291,"./ReactInstanceMap":325,"./ReactInstrumentation":326,"./ReactMultiChildUpdateTypes":331,"./ReactReconciler":341,"./flattenChildren":374,"./reactProdInvariant":390,_process:216,"fbjs/lib/emptyFunction":166,"fbjs/lib/invariant":180}],331:[function(require,module,exports){"use strict";var keyMirror=require("fbjs/lib/keyMirror");var ReactMultiChildUpdateTypes=keyMirror({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});module.exports=ReactMultiChildUpdateTypes},{"fbjs/lib/keyMirror":184}],332:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var ReactElement=require("./ReactElement");var invariant=require("fbjs/lib/invariant");var ReactNodeTypes={HOST:0,COMPOSITE:1,EMPTY:2,getType:function(node){if(node===null||node===false){return ReactNodeTypes.EMPTY}else if(ReactElement.isValidElement(node)){if(typeof node.type==="function"){return ReactNodeTypes.COMPOSITE}else{return ReactNodeTypes.HOST}}!false?process.env.NODE_ENV!=="production"?invariant(false,"Unexpected node: %s",node):_prodInvariant("26",node):void 0}};module.exports=ReactNodeTypes}).call(this,require("_process"))},{"./ReactElement":314,"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180}],333:[function(require,module,exports){(function(process){"use strict";var warning=require("fbjs/lib/warning");function warnNoop(publicInstance,callerName){if(process.env.NODE_ENV!=="production"){var constructor=publicInstance.constructor;process.env.NODE_ENV!=="production"?warning(false,"%s(...): Can only update a mounted or mounting component. "+"This usually means you called %s() on an unmounted component. "+"This is a no-op. Please check the code for the %s component.",callerName,callerName,constructor&&(constructor.displayName||constructor.name)||"ReactClass"):void 0}}var ReactNoopUpdateQueue={isMounted:function(publicInstance){return false},enqueueCallback:function(publicInstance,callback){},enqueueForceUpdate:function(publicInstance){warnNoop(publicInstance,"forceUpdate")},enqueueReplaceState:function(publicInstance,completeState){warnNoop(publicInstance,"replaceState")},enqueueSetState:function(publicInstance,partialState){warnNoop(publicInstance,"setState")}};module.exports=ReactNoopUpdateQueue}).call(this,require("_process"))},{_process:216,"fbjs/lib/warning":192}],334:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var invariant=require("fbjs/lib/invariant");var ReactOwner={isValidOwner:function(object){return!!(object&&typeof object.attachRef==="function"&&typeof object.detachRef==="function")},addComponentAsRefTo:function(component,ref,owner){!ReactOwner.isValidOwner(owner)?process.env.NODE_ENV!=="production"?invariant(false,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):_prodInvariant("119"):void 0;owner.attachRef(ref,component)},removeComponentAsRefFrom:function(component,ref,owner){!ReactOwner.isValidOwner(owner)?process.env.NODE_ENV!=="production"?invariant(false,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):_prodInvariant("120"):void 0;var ownerPublicInstance=owner.getPublicInstance();if(ownerPublicInstance&&ownerPublicInstance.refs[ref]===component.getPublicInstance()){owner.detachRef(ref)}}};module.exports=ReactOwner}).call(this,require("_process"))},{"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180}],335:[function(require,module,exports){(function(process){"use strict";var ReactPropTypeLocationNames={};if(process.env.NODE_ENV!=="production"){ReactPropTypeLocationNames={prop:"prop",context:"context",childContext:"child context"}}module.exports=ReactPropTypeLocationNames}).call(this,require("_process"))},{_process:216}],336:[function(require,module,exports){"use strict";var keyMirror=require("fbjs/lib/keyMirror");var ReactPropTypeLocations=keyMirror({prop:null,context:null,childContext:null});module.exports=ReactPropTypeLocations},{"fbjs/lib/keyMirror":184}],337:[function(require,module,exports){(function(process){"use strict";var ReactElement=require("./ReactElement");var ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames");var ReactPropTypesSecret=require("./ReactPropTypesSecret");var emptyFunction=require("fbjs/lib/emptyFunction");var getIteratorFn=require("./getIteratorFn");var warning=require("fbjs/lib/warning");var ANONYMOUS="<<anonymous>>";var ReactPropTypes={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),symbol:createPrimitiveTypeChecker("symbol"),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:createElementTypeChecker(),instanceOf:createInstanceTypeChecker,node:createNodeChecker(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker};function is(x,y){if(x===y){return x!==0||1/x===1/y}else{return x!==x&&y!==y}}function PropTypeError(message){this.message=message;this.stack=""}PropTypeError.prototype=Error.prototype;function createChainableTypeChecker(validate){if(process.env.NODE_ENV!=="production"){var manualPropTypeCallCache={}}function checkType(isRequired,props,propName,componentName,location,propFullName,secret){componentName=componentName||ANONYMOUS;propFullName=propFullName||propName;if(process.env.NODE_ENV!=="production"){if(secret!==ReactPropTypesSecret&&typeof console!=="undefined"){var cacheKey=componentName+":"+propName;if(!manualPropTypeCallCache[cacheKey]){process.env.NODE_ENV!=="production"?warning(false,"You are manually calling a React.PropTypes validation "+"function for the `%s` prop on `%s`. This is deprecated "+"and will not work in the next major version. You may be "+"seeing this warning due to a third-party PropTypes library. "+"See https://fb.me/react-warning-dont-call-proptypes for details.",propFullName,componentName):void 0;manualPropTypeCallCache[cacheKey]=true}}}if(props[propName]==null){var locationName=ReactPropTypeLocationNames[location];if(isRequired){return new PropTypeError("Required "+locationName+" `"+propFullName+"` was not specified in "+("`"+componentName+"`."))}return null}else{return validate(props,propName,componentName,location,propFullName)}}var chainedCheckType=checkType.bind(null,false);chainedCheckType.isRequired=checkType.bind(null,true);return chainedCheckType}function createPrimitiveTypeChecker(expectedType){function validate(props,propName,componentName,location,propFullName,secret){var propValue=props[propName];var propType=getPropType(propValue);if(propType!==expectedType){var locationName=ReactPropTypeLocationNames[location];var preciseType=getPreciseType(propValue);return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+preciseType+"` supplied to `"+componentName+"`, expected ")+("`"+expectedType+"`."))}return null}return createChainableTypeChecker(validate)}function createAnyTypeChecker(){return createChainableTypeChecker(emptyFunction.thatReturns(null))}function createArrayOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){if(typeof typeChecker!=="function"){return new PropTypeError("Property `"+propFullName+"` of component `"+componentName+"` has invalid PropType notation inside arrayOf.")}var propValue=props[propName];if(!Array.isArray(propValue)){var locationName=ReactPropTypeLocationNames[location];var propType=getPropType(propValue);return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an array."))}for(var i=0;i<propValue.length;i++){var error=typeChecker(propValue,i,componentName,location,propFullName+"["+i+"]",ReactPropTypesSecret);if(error instanceof Error){return error}}return null}return createChainableTypeChecker(validate)}function createElementTypeChecker(){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];if(!ReactElement.isValidElement(propValue)){var locationName=ReactPropTypeLocationNames[location];var propType=getPropType(propValue);return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected a single ReactElement."))}return null}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(expectedClass){function validate(props,propName,componentName,location,propFullName){if(!(props[propName]instanceof expectedClass)){var locationName=ReactPropTypeLocationNames[location];var expectedClassName=expectedClass.name||ANONYMOUS;var actualClassName=getClassName(props[propName]);return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+actualClassName+"` supplied to `"+componentName+"`, expected ")+("instance of `"+expectedClassName+"`."))}return null}return createChainableTypeChecker(validate)}function createEnumTypeChecker(expectedValues){if(!Array.isArray(expectedValues)){process.env.NODE_ENV!=="production"?warning(false,"Invalid argument supplied to oneOf, expected an instance of array."):void 0;return emptyFunction.thatReturnsNull}function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];for(var i=0;i<expectedValues.length;i++){if(is(propValue,expectedValues[i])){return null}}var locationName=ReactPropTypeLocationNames[location];var valuesString=JSON.stringify(expectedValues);return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` of value `"+propValue+"` "+("supplied to `"+componentName+"`, expected one of "+valuesString+"."))}return createChainableTypeChecker(validate)}function createObjectOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){if(typeof typeChecker!=="function"){return new PropTypeError("Property `"+propFullName+"` of component `"+componentName+"` has invalid PropType notation inside objectOf.")}var propValue=props[propName];var propType=getPropType(propValue);if(propType!=="object"){var locationName=ReactPropTypeLocationNames[location];return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an object."))}for(var key in propValue){if(propValue.hasOwnProperty(key)){var error=typeChecker(propValue,key,componentName,location,propFullName+"."+key,ReactPropTypesSecret);if(error instanceof Error){return error}}}return null}return createChainableTypeChecker(validate)}function createUnionTypeChecker(arrayOfTypeCheckers){if(!Array.isArray(arrayOfTypeCheckers)){process.env.NODE_ENV!=="production"?warning(false,"Invalid argument supplied to oneOfType, expected an instance of array."):void 0;return emptyFunction.thatReturnsNull}function validate(props,propName,componentName,location,propFullName){for(var i=0;i<arrayOfTypeCheckers.length;i++){var checker=arrayOfTypeCheckers[i];if(checker(props,propName,componentName,location,propFullName,ReactPropTypesSecret)==null){return null}}var locationName=ReactPropTypeLocationNames[location];return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`."))}return createChainableTypeChecker(validate)}function createNodeChecker(){function validate(props,propName,componentName,location,propFullName){if(!isNode(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`, expected a ReactNode."))}return null}return createChainableTypeChecker(validate)}function createShapeTypeChecker(shapeTypes){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];var propType=getPropType(propValue);if(propType!=="object"){var locationName=ReactPropTypeLocationNames[location];return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` of type `"+propType+"` "+("supplied to `"+componentName+"`, expected `object`."))}for(var key in shapeTypes){var checker=shapeTypes[key];if(!checker){continue}var error=checker(propValue,key,componentName,location,propFullName+"."+key,ReactPropTypesSecret);if(error){return error}}return null}return createChainableTypeChecker(validate)}function isNode(propValue){switch(typeof propValue){case"number":case"string":case"undefined":return true;case"boolean":return!propValue;case"object":if(Array.isArray(propValue)){return propValue.every(isNode)}if(propValue===null||ReactElement.isValidElement(propValue)){return true}var iteratorFn=getIteratorFn(propValue);if(iteratorFn){var iterator=iteratorFn.call(propValue);var step;if(iteratorFn!==propValue.entries){while(!(step=iterator.next()).done){if(!isNode(step.value)){return false}}}else{while(!(step=iterator.next()).done){var entry=step.value;if(entry){if(!isNode(entry[1])){return false}}}}}else{return false}return true;default:return false}}function isSymbol(propType,propValue){if(propType==="symbol"){return true}if(propValue["@@toStringTag"]==="Symbol"){return true}if(typeof Symbol==="function"&&propValue instanceof Symbol){return true}return false}function getPropType(propValue){var propType=typeof propValue;if(Array.isArray(propValue)){return"array"}if(propValue instanceof RegExp){return"object"}if(isSymbol(propType,propValue)){return"symbol"}return propType}function getPreciseType(propValue){var propType=getPropType(propValue);if(propType==="object"){if(propValue instanceof Date){return"date"}else if(propValue instanceof RegExp){return"regexp"}}return propType}function getClassName(propValue){if(!propValue.constructor||!propValue.constructor.name){return ANONYMOUS}return propValue.constructor.name}module.exports=ReactPropTypes}).call(this,require("_process"))},{"./ReactElement":314,"./ReactPropTypeLocationNames":335,"./ReactPropTypesSecret":338,"./getIteratorFn":381,_process:216,"fbjs/lib/emptyFunction":166,"fbjs/lib/warning":192}],338:[function(require,module,exports){"use strict";var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=ReactPropTypesSecret},{}],339:[function(require,module,exports){"use strict";var _assign=require("object-assign");var ReactComponent=require("./ReactComponent");var ReactNoopUpdateQueue=require("./ReactNoopUpdateQueue");var emptyObject=require("fbjs/lib/emptyObject");function ReactPureComponent(props,context,updater){this.props=props;this.context=context;this.refs=emptyObject;this.updater=updater||ReactNoopUpdateQueue}function ComponentDummy(){}ComponentDummy.prototype=ReactComponent.prototype;ReactPureComponent.prototype=new ComponentDummy;ReactPureComponent.prototype.constructor=ReactPureComponent;_assign(ReactPureComponent.prototype,ReactComponent.prototype);ReactPureComponent.prototype.isPureReactComponent=true;module.exports=ReactPureComponent},{"./ReactComponent":286,"./ReactNoopUpdateQueue":333,"fbjs/lib/emptyObject":167,"object-assign":215}],340:[function(require,module,exports){(function(process){"use strict";var _assign=require("object-assign");var CallbackQueue=require("./CallbackQueue");var PooledClass=require("./PooledClass");var ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter");var ReactInputSelection=require("./ReactInputSelection");var ReactInstrumentation=require("./ReactInstrumentation");var Transaction=require("./Transaction");var ReactUpdateQueue=require("./ReactUpdateQueue");var SELECTION_RESTORATION={initialize:ReactInputSelection.getSelectionInformation,close:ReactInputSelection.restoreSelection};var EVENT_SUPPRESSION={initialize:function(){var currentlyEnabled=ReactBrowserEventEmitter.isEnabled();ReactBrowserEventEmitter.setEnabled(false);return currentlyEnabled},close:function(previouslyEnabled){ReactBrowserEventEmitter.setEnabled(previouslyEnabled)}};var ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}};var TRANSACTION_WRAPPERS=[SELECTION_RESTORATION,EVENT_SUPPRESSION,ON_DOM_READY_QUEUEING];if(process.env.NODE_ENV!=="production"){TRANSACTION_WRAPPERS.push({initialize:ReactInstrumentation.debugTool.onBeginFlush,close:ReactInstrumentation.debugTool.onEndFlush})}function ReactReconcileTransaction(useCreateElement){this.reinitializeTransaction();this.renderToStaticMarkup=false;this.reactMountReady=CallbackQueue.getPooled(null);this.useCreateElement=useCreateElement}var Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return ReactUpdateQueue},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(checkpoint){this.reactMountReady.rollback(checkpoint)},destructor:function(){CallbackQueue.release(this.reactMountReady);this.reactMountReady=null}};_assign(ReactReconcileTransaction.prototype,Transaction.Mixin,Mixin);PooledClass.addPoolingTo(ReactReconcileTransaction);module.exports=ReactReconcileTransaction}).call(this,require("_process"))},{"./CallbackQueue":259,"./PooledClass":279,"./ReactBrowserEventEmitter":281,"./ReactInputSelection":324,"./ReactInstrumentation":326,"./ReactUpdateQueue":345,"./Transaction":364,_process:216,"object-assign":215}],341:[function(require,module,exports){(function(process){"use strict";var ReactRef=require("./ReactRef");var ReactInstrumentation=require("./ReactInstrumentation");var warning=require("fbjs/lib/warning");function attachRefs(){ReactRef.attachRefs(this,this._currentElement)}var ReactReconciler={mountComponent:function(internalInstance,transaction,hostParent,hostContainerInfo,context,parentDebugID){if(process.env.NODE_ENV!=="production"){if(internalInstance._debugID!==0){ReactInstrumentation.debugTool.onBeforeMountComponent(internalInstance._debugID,internalInstance._currentElement,parentDebugID)}}var markup=internalInstance.mountComponent(transaction,hostParent,hostContainerInfo,context,parentDebugID);if(internalInstance._currentElement&&internalInstance._currentElement.ref!=null){transaction.getReactMountReady().enqueue(attachRefs,internalInstance)}if(process.env.NODE_ENV!=="production"){if(internalInstance._debugID!==0){ReactInstrumentation.debugTool.onMountComponent(internalInstance._debugID)}}return markup},getHostNode:function(internalInstance){return internalInstance.getHostNode()},unmountComponent:function(internalInstance,safely){if(process.env.NODE_ENV!=="production"){if(internalInstance._debugID!==0){ReactInstrumentation.debugTool.onBeforeUnmountComponent(internalInstance._debugID)}}ReactRef.detachRefs(internalInstance,internalInstance._currentElement);internalInstance.unmountComponent(safely);if(process.env.NODE_ENV!=="production"){if(internalInstance._debugID!==0){ReactInstrumentation.debugTool.onUnmountComponent(internalInstance._debugID)}}},receiveComponent:function(internalInstance,nextElement,transaction,context){var prevElement=internalInstance._currentElement;if(nextElement===prevElement&&context===internalInstance._context){return}if(process.env.NODE_ENV!=="production"){if(internalInstance._debugID!==0){ReactInstrumentation.debugTool.onBeforeUpdateComponent(internalInstance._debugID,nextElement)}}var refsChanged=ReactRef.shouldUpdateRefs(prevElement,nextElement);if(refsChanged){ReactRef.detachRefs(internalInstance,prevElement)}internalInstance.receiveComponent(nextElement,transaction,context);if(refsChanged&&internalInstance._currentElement&&internalInstance._currentElement.ref!=null){transaction.getReactMountReady().enqueue(attachRefs,internalInstance)}if(process.env.NODE_ENV!=="production"){if(internalInstance._debugID!==0){ReactInstrumentation.debugTool.onUpdateComponent(internalInstance._debugID)}}},performUpdateIfNecessary:function(internalInstance,transaction,updateBatchNumber){if(internalInstance._updateBatchNumber!==updateBatchNumber){process.env.NODE_ENV!=="production"?warning(internalInstance._updateBatchNumber==null||internalInstance._updateBatchNumber===updateBatchNumber+1,"performUpdateIfNecessary: Unexpected batch number (current %s, "+"pending %s)",updateBatchNumber,internalInstance._updateBatchNumber):void 0;return}if(process.env.NODE_ENV!=="production"){if(internalInstance._debugID!==0){ReactInstrumentation.debugTool.onBeforeUpdateComponent(internalInstance._debugID,internalInstance._currentElement)}}internalInstance.performUpdateIfNecessary(transaction);if(process.env.NODE_ENV!=="production"){if(internalInstance._debugID!==0){ReactInstrumentation.debugTool.onUpdateComponent(internalInstance._debugID)}}}};module.exports=ReactReconciler}).call(this,require("_process"))},{"./ReactInstrumentation":326,"./ReactRef":342,_process:216,"fbjs/lib/warning":192}],342:[function(require,module,exports){"use strict";var ReactOwner=require("./ReactOwner");var ReactRef={};function attachRef(ref,component,owner){if(typeof ref==="function"){ref(component.getPublicInstance())}else{ReactOwner.addComponentAsRefTo(component,ref,owner)}}function detachRef(ref,component,owner){if(typeof ref==="function"){ref(null)}else{ReactOwner.removeComponentAsRefFrom(component,ref,owner)}}ReactRef.attachRefs=function(instance,element){if(element===null||element===false){return}var ref=element.ref;if(ref!=null){attachRef(ref,instance,element._owner)}};ReactRef.shouldUpdateRefs=function(prevElement,nextElement){var prevEmpty=prevElement===null||prevElement===false;var nextEmpty=nextElement===null||nextElement===false;return prevEmpty||nextEmpty||nextElement.ref!==prevElement.ref||typeof nextElement.ref==="string"&&nextElement._owner!==prevElement._owner};ReactRef.detachRefs=function(instance,element){if(element===null||element===false){return}var ref=element.ref;if(ref!=null){detachRef(ref,instance,element._owner)}};module.exports=ReactRef},{"./ReactOwner":334}],343:[function(require,module,exports){(function(process){"use strict";var _assign=require("object-assign");var PooledClass=require("./PooledClass");var Transaction=require("./Transaction");var ReactInstrumentation=require("./ReactInstrumentation");var ReactServerUpdateQueue=require("./ReactServerUpdateQueue");var TRANSACTION_WRAPPERS=[];if(process.env.NODE_ENV!=="production"){TRANSACTION_WRAPPERS.push({initialize:ReactInstrumentation.debugTool.onBeginFlush,close:ReactInstrumentation.debugTool.onEndFlush})}var noopCallbackQueue={enqueue:function(){}};function ReactServerRenderingTransaction(renderToStaticMarkup){this.reinitializeTransaction();this.renderToStaticMarkup=renderToStaticMarkup;this.useCreateElement=false;
this.updateQueue=new ReactServerUpdateQueue(this)}var Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return noopCallbackQueue},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};_assign(ReactServerRenderingTransaction.prototype,Transaction.Mixin,Mixin);PooledClass.addPoolingTo(ReactServerRenderingTransaction);module.exports=ReactServerRenderingTransaction}).call(this,require("_process"))},{"./PooledClass":279,"./ReactInstrumentation":326,"./ReactServerUpdateQueue":344,"./Transaction":364,_process:216,"object-assign":215}],344:[function(require,module,exports){(function(process){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var ReactUpdateQueue=require("./ReactUpdateQueue");var Transaction=require("./Transaction");var warning=require("fbjs/lib/warning");function warnNoop(publicInstance,callerName){if(process.env.NODE_ENV!=="production"){var constructor=publicInstance.constructor;process.env.NODE_ENV!=="production"?warning(false,"%s(...): Can only update a mounting component. "+"This usually means you called %s() outside componentWillMount() on the server. "+"This is a no-op. Please check the code for the %s component.",callerName,callerName,constructor&&(constructor.displayName||constructor.name)||"ReactClass"):void 0}}var ReactServerUpdateQueue=function(){function ReactServerUpdateQueue(transaction){_classCallCheck(this,ReactServerUpdateQueue);this.transaction=transaction}ReactServerUpdateQueue.prototype.isMounted=function isMounted(publicInstance){return false};ReactServerUpdateQueue.prototype.enqueueCallback=function enqueueCallback(publicInstance,callback,callerName){if(this.transaction.isInTransaction()){ReactUpdateQueue.enqueueCallback(publicInstance,callback,callerName)}};ReactServerUpdateQueue.prototype.enqueueForceUpdate=function enqueueForceUpdate(publicInstance){if(this.transaction.isInTransaction()){ReactUpdateQueue.enqueueForceUpdate(publicInstance)}else{warnNoop(publicInstance,"forceUpdate")}};ReactServerUpdateQueue.prototype.enqueueReplaceState=function enqueueReplaceState(publicInstance,completeState){if(this.transaction.isInTransaction()){ReactUpdateQueue.enqueueReplaceState(publicInstance,completeState)}else{warnNoop(publicInstance,"replaceState")}};ReactServerUpdateQueue.prototype.enqueueSetState=function enqueueSetState(publicInstance,partialState){if(this.transaction.isInTransaction()){ReactUpdateQueue.enqueueSetState(publicInstance,partialState)}else{warnNoop(publicInstance,"setState")}};return ReactServerUpdateQueue}();module.exports=ReactServerUpdateQueue}).call(this,require("_process"))},{"./ReactUpdateQueue":345,"./Transaction":364,_process:216,"fbjs/lib/warning":192}],345:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactInstanceMap=require("./ReactInstanceMap");var ReactInstrumentation=require("./ReactInstrumentation");var ReactUpdates=require("./ReactUpdates");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");function enqueueUpdate(internalInstance){ReactUpdates.enqueueUpdate(internalInstance)}function formatUnexpectedArgument(arg){var type=typeof arg;if(type!=="object"){return type}var displayName=arg.constructor&&arg.constructor.name||type;var keys=Object.keys(arg);if(keys.length>0&&keys.length<20){return displayName+" (keys: "+keys.join(", ")+")"}return displayName}function getInternalInstanceReadyForUpdate(publicInstance,callerName){var internalInstance=ReactInstanceMap.get(publicInstance);if(!internalInstance){if(process.env.NODE_ENV!=="production"){var ctor=publicInstance.constructor;process.env.NODE_ENV!=="production"?warning(!callerName,"%s(...): Can only update a mounted or mounting component. "+"This usually means you called %s() on an unmounted component. "+"This is a no-op. Please check the code for the %s component.",callerName,callerName,ctor&&(ctor.displayName||ctor.name)||"ReactClass"):void 0}return null}if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(ReactCurrentOwner.current==null,"%s(...): Cannot update during an existing state transition (such as "+"within `render` or another component's constructor). Render methods "+"should be a pure function of props and state; constructor "+"side-effects are an anti-pattern, but can be moved to "+"`componentWillMount`.",callerName):void 0}return internalInstance}var ReactUpdateQueue={isMounted:function(publicInstance){if(process.env.NODE_ENV!=="production"){var owner=ReactCurrentOwner.current;if(owner!==null){process.env.NODE_ENV!=="production"?warning(owner._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. "+"render() should be a pure function of props and state. It should "+"never access something that requires stale data from the previous "+"render, such as refs. Move this logic to componentDidMount and "+"componentDidUpdate instead.",owner.getName()||"A component"):void 0;owner._warnedAboutRefsInRender=true}}var internalInstance=ReactInstanceMap.get(publicInstance);if(internalInstance){return!!internalInstance._renderedComponent}else{return false}},enqueueCallback:function(publicInstance,callback,callerName){ReactUpdateQueue.validateCallback(callback,callerName);var internalInstance=getInternalInstanceReadyForUpdate(publicInstance);if(!internalInstance){return null}if(internalInstance._pendingCallbacks){internalInstance._pendingCallbacks.push(callback)}else{internalInstance._pendingCallbacks=[callback]}enqueueUpdate(internalInstance)},enqueueCallbackInternal:function(internalInstance,callback){if(internalInstance._pendingCallbacks){internalInstance._pendingCallbacks.push(callback)}else{internalInstance._pendingCallbacks=[callback]}enqueueUpdate(internalInstance)},enqueueForceUpdate:function(publicInstance){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"forceUpdate");if(!internalInstance){return}internalInstance._pendingForceUpdate=true;enqueueUpdate(internalInstance)},enqueueReplaceState:function(publicInstance,completeState){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"replaceState");if(!internalInstance){return}internalInstance._pendingStateQueue=[completeState];internalInstance._pendingReplaceState=true;enqueueUpdate(internalInstance)},enqueueSetState:function(publicInstance,partialState){if(process.env.NODE_ENV!=="production"){ReactInstrumentation.debugTool.onSetState();process.env.NODE_ENV!=="production"?warning(partialState!=null,"setState(...): You passed an undefined or null state object; "+"instead, use forceUpdate()."):void 0}var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"setState");if(!internalInstance){return}var queue=internalInstance._pendingStateQueue||(internalInstance._pendingStateQueue=[]);queue.push(partialState);enqueueUpdate(internalInstance)},enqueueElementInternal:function(internalInstance,nextElement,nextContext){internalInstance._pendingElement=nextElement;internalInstance._context=nextContext;enqueueUpdate(internalInstance)},validateCallback:function(callback,callerName){!(!callback||typeof callback==="function")?process.env.NODE_ENV!=="production"?invariant(false,"%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",callerName,formatUnexpectedArgument(callback)):_prodInvariant("122",callerName,formatUnexpectedArgument(callback)):void 0}};module.exports=ReactUpdateQueue}).call(this,require("_process"))},{"./ReactCurrentOwner":291,"./ReactInstanceMap":325,"./ReactInstrumentation":326,"./ReactUpdates":346,"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180,"fbjs/lib/warning":192}],346:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant"),_assign=require("object-assign");var CallbackQueue=require("./CallbackQueue");var PooledClass=require("./PooledClass");var ReactFeatureFlags=require("./ReactFeatureFlags");var ReactReconciler=require("./ReactReconciler");var Transaction=require("./Transaction");var invariant=require("fbjs/lib/invariant");var dirtyComponents=[];var updateBatchNumber=0;var asapCallbackQueue=CallbackQueue.getPooled();var asapEnqueued=false;var batchingStrategy=null;function ensureInjected(){!(ReactUpdates.ReactReconcileTransaction&&batchingStrategy)?process.env.NODE_ENV!=="production"?invariant(false,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):_prodInvariant("123"):void 0}var NESTED_UPDATES={initialize:function(){this.dirtyComponentsLength=dirtyComponents.length},close:function(){if(this.dirtyComponentsLength!==dirtyComponents.length){dirtyComponents.splice(0,this.dirtyComponentsLength);flushBatchedUpdates()}else{dirtyComponents.length=0}}};var UPDATE_QUEUEING={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}};var TRANSACTION_WRAPPERS=[NESTED_UPDATES,UPDATE_QUEUEING];function ReactUpdatesFlushTransaction(){this.reinitializeTransaction();this.dirtyComponentsLength=null;this.callbackQueue=CallbackQueue.getPooled();this.reconcileTransaction=ReactUpdates.ReactReconcileTransaction.getPooled(true)}_assign(ReactUpdatesFlushTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},destructor:function(){this.dirtyComponentsLength=null;CallbackQueue.release(this.callbackQueue);this.callbackQueue=null;ReactUpdates.ReactReconcileTransaction.release(this.reconcileTransaction);this.reconcileTransaction=null},perform:function(method,scope,a){return Transaction.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,method,scope,a)}});PooledClass.addPoolingTo(ReactUpdatesFlushTransaction);function batchedUpdates(callback,a,b,c,d,e){ensureInjected();batchingStrategy.batchedUpdates(callback,a,b,c,d,e)}function mountOrderComparator(c1,c2){return c1._mountOrder-c2._mountOrder}function runBatchedUpdates(transaction){var len=transaction.dirtyComponentsLength;!(len===dirtyComponents.length)?process.env.NODE_ENV!=="production"?invariant(false,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",len,dirtyComponents.length):_prodInvariant("124",len,dirtyComponents.length):void 0;dirtyComponents.sort(mountOrderComparator);updateBatchNumber++;for(var i=0;i<len;i++){var component=dirtyComponents[i];var callbacks=component._pendingCallbacks;component._pendingCallbacks=null;var markerName;if(ReactFeatureFlags.logTopLevelRenders){var namedComponent=component;if(component._currentElement.props===component._renderedComponent._currentElement){namedComponent=component._renderedComponent}markerName="React update: "+namedComponent.getName();console.time(markerName)}ReactReconciler.performUpdateIfNecessary(component,transaction.reconcileTransaction,updateBatchNumber);if(markerName){console.timeEnd(markerName)}if(callbacks){for(var j=0;j<callbacks.length;j++){transaction.callbackQueue.enqueue(callbacks[j],component.getPublicInstance())}}}}var flushBatchedUpdates=function(){while(dirtyComponents.length||asapEnqueued){if(dirtyComponents.length){var transaction=ReactUpdatesFlushTransaction.getPooled();transaction.perform(runBatchedUpdates,null,transaction);ReactUpdatesFlushTransaction.release(transaction)}if(asapEnqueued){asapEnqueued=false;var queue=asapCallbackQueue;asapCallbackQueue=CallbackQueue.getPooled();queue.notifyAll();CallbackQueue.release(queue)}}};function enqueueUpdate(component){ensureInjected();if(!batchingStrategy.isBatchingUpdates){batchingStrategy.batchedUpdates(enqueueUpdate,component);return}dirtyComponents.push(component);if(component._updateBatchNumber==null){component._updateBatchNumber=updateBatchNumber+1}}function asap(callback,context){!batchingStrategy.isBatchingUpdates?process.env.NODE_ENV!=="production"?invariant(false,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):_prodInvariant("125"):void 0;asapCallbackQueue.enqueue(callback,context);asapEnqueued=true}var ReactUpdatesInjection={injectReconcileTransaction:function(ReconcileTransaction){!ReconcileTransaction?process.env.NODE_ENV!=="production"?invariant(false,"ReactUpdates: must provide a reconcile transaction class"):_prodInvariant("126"):void 0;ReactUpdates.ReactReconcileTransaction=ReconcileTransaction},injectBatchingStrategy:function(_batchingStrategy){!_batchingStrategy?process.env.NODE_ENV!=="production"?invariant(false,"ReactUpdates: must provide a batching strategy"):_prodInvariant("127"):void 0;!(typeof _batchingStrategy.batchedUpdates==="function")?process.env.NODE_ENV!=="production"?invariant(false,"ReactUpdates: must provide a batchedUpdates() function"):_prodInvariant("128"):void 0;!(typeof _batchingStrategy.isBatchingUpdates==="boolean")?process.env.NODE_ENV!=="production"?invariant(false,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):_prodInvariant("129"):void 0;batchingStrategy=_batchingStrategy}};var ReactUpdates={ReactReconcileTransaction:null,batchedUpdates:batchedUpdates,enqueueUpdate:enqueueUpdate,flushBatchedUpdates:flushBatchedUpdates,injection:ReactUpdatesInjection,asap:asap};module.exports=ReactUpdates}).call(this,require("_process"))},{"./CallbackQueue":259,"./PooledClass":279,"./ReactFeatureFlags":320,"./ReactReconciler":341,"./Transaction":364,"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180,"object-assign":215}],347:[function(require,module,exports){"use strict";module.exports="15.3.2"},{}],348:[function(require,module,exports){"use strict";var NS={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};var ATTRS={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"};var SVGDOMPropertyConfig={Properties:{},DOMAttributeNamespaces:{xlinkActuate:NS.xlink,xlinkArcrole:NS.xlink,xlinkHref:NS.xlink,xlinkRole:NS.xlink,xlinkShow:NS.xlink,xlinkTitle:NS.xlink,xlinkType:NS.xlink,xmlBase:NS.xml,xmlLang:NS.xml,xmlSpace:NS.xml},DOMAttributeNames:{}};Object.keys(ATTRS).forEach(function(key){SVGDOMPropertyConfig.Properties[key]=0;if(ATTRS[key]){SVGDOMPropertyConfig.DOMAttributeNames[key]=ATTRS[key]}});module.exports=SVGDOMPropertyConfig},{}],349:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPropagators=require("./EventPropagators");var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var ReactInputSelection=require("./ReactInputSelection");var SyntheticEvent=require("./SyntheticEvent");var getActiveElement=require("fbjs/lib/getActiveElement");var isTextInputElement=require("./isTextInputElement");var keyOf=require("fbjs/lib/keyOf");var shallowEqual=require("fbjs/lib/shallowEqual");var topLevelTypes=EventConstants.topLevelTypes;var skipSelectionChangeEvent=ExecutionEnvironment.canUseDOM&&"documentMode"in document&&document.documentMode<=11;var eventTypes={select:{phasedRegistrationNames:{bubbled:keyOf({onSelect:null}),captured:keyOf({onSelectCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topContextMenu,topLevelTypes.topFocus,topLevelTypes.topKeyDown,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown,topLevelTypes.topMouseUp,topLevelTypes.topSelectionChange]}};var activeElement=null;var activeElementInst=null;var lastSelection=null;var mouseDown=false;var hasListener=false;var ON_SELECT_KEY=keyOf({onSelect:null});function getSelection(node){if("selectionStart"in node&&ReactInputSelection.hasSelectionCapabilities(node)){return{start:node.selectionStart,end:node.selectionEnd}}else if(window.getSelection){var selection=window.getSelection();return{anchorNode:selection.anchorNode,anchorOffset:selection.anchorOffset,focusNode:selection.focusNode,focusOffset:selection.focusOffset}}else if(document.selection){var range=document.selection.createRange();return{parentElement:range.parentElement(),text:range.text,top:range.boundingTop,left:range.boundingLeft}}}function constructSelectEvent(nativeEvent,nativeEventTarget){if(mouseDown||activeElement==null||activeElement!==getActiveElement()){return null}var currentSelection=getSelection(activeElement);if(!lastSelection||!shallowEqual(lastSelection,currentSelection)){lastSelection=currentSelection;var syntheticEvent=SyntheticEvent.getPooled(eventTypes.select,activeElementInst,nativeEvent,nativeEventTarget);syntheticEvent.type="select";syntheticEvent.target=activeElement;EventPropagators.accumulateTwoPhaseDispatches(syntheticEvent);return syntheticEvent}return null}var SelectEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,targetInst,nativeEvent,nativeEventTarget){if(!hasListener){return null}var targetNode=targetInst?ReactDOMComponentTree.getNodeFromInstance(targetInst):window;switch(topLevelType){case topLevelTypes.topFocus:if(isTextInputElement(targetNode)||targetNode.contentEditable==="true"){activeElement=targetNode;activeElementInst=targetInst;lastSelection=null}break;case topLevelTypes.topBlur:activeElement=null;activeElementInst=null;lastSelection=null;break;case topLevelTypes.topMouseDown:mouseDown=true;break;case topLevelTypes.topContextMenu:case topLevelTypes.topMouseUp:mouseDown=false;return constructSelectEvent(nativeEvent,nativeEventTarget);case topLevelTypes.topSelectionChange:if(skipSelectionChangeEvent){break}case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:return constructSelectEvent(nativeEvent,nativeEventTarget)}return null},didPutListener:function(inst,registrationName,listener){if(registrationName===ON_SELECT_KEY){hasListener=true}}};module.exports=SelectEventPlugin},{"./EventConstants":270,"./EventPropagators":274,"./ReactDOMComponentTree":296,"./ReactInputSelection":324,"./SyntheticEvent":355,"./isTextInputElement":387,"fbjs/lib/ExecutionEnvironment":146,"fbjs/lib/getActiveElement":169,"fbjs/lib/keyOf":185,"fbjs/lib/shallowEqual":191}],350:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var EventConstants=require("./EventConstants");var EventListener=require("fbjs/lib/EventListener");var EventPropagators=require("./EventPropagators");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var SyntheticAnimationEvent=require("./SyntheticAnimationEvent");var SyntheticClipboardEvent=require("./SyntheticClipboardEvent");var SyntheticEvent=require("./SyntheticEvent");var SyntheticFocusEvent=require("./SyntheticFocusEvent");var SyntheticKeyboardEvent=require("./SyntheticKeyboardEvent");var SyntheticMouseEvent=require("./SyntheticMouseEvent");var SyntheticDragEvent=require("./SyntheticDragEvent");var SyntheticTouchEvent=require("./SyntheticTouchEvent");var SyntheticTransitionEvent=require("./SyntheticTransitionEvent");var SyntheticUIEvent=require("./SyntheticUIEvent");var SyntheticWheelEvent=require("./SyntheticWheelEvent");var emptyFunction=require("fbjs/lib/emptyFunction");var getEventCharCode=require("./getEventCharCode");var invariant=require("fbjs/lib/invariant");var keyOf=require("fbjs/lib/keyOf");var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={abort:{phasedRegistrationNames:{bubbled:keyOf({onAbort:true}),captured:keyOf({onAbortCapture:true})}},animationEnd:{phasedRegistrationNames:{bubbled:keyOf({onAnimationEnd:true}),captured:keyOf({onAnimationEndCapture:true})}},animationIteration:{phasedRegistrationNames:{bubbled:keyOf({onAnimationIteration:true}),captured:keyOf({onAnimationIterationCapture:true})}},animationStart:{phasedRegistrationNames:{bubbled:keyOf({onAnimationStart:true}),captured:keyOf({onAnimationStartCapture:true})}},blur:{phasedRegistrationNames:{bubbled:keyOf({onBlur:true}),captured:keyOf({onBlurCapture:true})}},canPlay:{phasedRegistrationNames:{bubbled:keyOf({onCanPlay:true}),captured:keyOf({onCanPlayCapture:true})}},canPlayThrough:{phasedRegistrationNames:{bubbled:keyOf({onCanPlayThrough:true}),captured:keyOf({onCanPlayThroughCapture:true})}},click:{phasedRegistrationNames:{bubbled:keyOf({onClick:true}),captured:keyOf({onClickCapture:true})}},contextMenu:{phasedRegistrationNames:{bubbled:keyOf({onContextMenu:true}),captured:keyOf({onContextMenuCapture:true})}},copy:{phasedRegistrationNames:{bubbled:keyOf({onCopy:true}),captured:keyOf({onCopyCapture:true})}},cut:{phasedRegistrationNames:{bubbled:keyOf({onCut:true}),captured:keyOf({onCutCapture:true})}},doubleClick:{phasedRegistrationNames:{bubbled:keyOf({onDoubleClick:true}),captured:keyOf({onDoubleClickCapture:true})}},drag:{phasedRegistrationNames:{bubbled:keyOf({onDrag:true}),captured:keyOf({onDragCapture:true})}},dragEnd:{phasedRegistrationNames:{bubbled:keyOf({onDragEnd:true}),captured:keyOf({onDragEndCapture:true})}},dragEnter:{phasedRegistrationNames:{bubbled:keyOf({onDragEnter:true}),captured:keyOf({onDragEnterCapture:true})}},dragExit:{phasedRegistrationNames:{bubbled:keyOf({onDragExit:true}),captured:keyOf({onDragExitCapture:true})}},dragLeave:{phasedRegistrationNames:{bubbled:keyOf({onDragLeave:true}),captured:keyOf({onDragLeaveCapture:true})}},dragOver:{phasedRegistrationNames:{bubbled:keyOf({onDragOver:true}),captured:keyOf({onDragOverCapture:true})}},dragStart:{phasedRegistrationNames:{bubbled:keyOf({onDragStart:true}),captured:keyOf({onDragStartCapture:true})}},drop:{phasedRegistrationNames:{bubbled:keyOf({onDrop:true}),captured:keyOf({onDropCapture:true})}},durationChange:{phasedRegistrationNames:{bubbled:keyOf({onDurationChange:true}),captured:keyOf({onDurationChangeCapture:true})}},emptied:{phasedRegistrationNames:{bubbled:keyOf({onEmptied:true}),captured:keyOf({onEmptiedCapture:true})}},encrypted:{phasedRegistrationNames:{bubbled:keyOf({onEncrypted:true}),captured:keyOf({onEncryptedCapture:true})}},ended:{phasedRegistrationNames:{bubbled:keyOf({onEnded:true}),captured:keyOf({onEndedCapture:true})}},error:{phasedRegistrationNames:{bubbled:keyOf({onError:true}),captured:keyOf({onErrorCapture:true})}},focus:{phasedRegistrationNames:{bubbled:keyOf({onFocus:true}),captured:keyOf({onFocusCapture:true})}},input:{phasedRegistrationNames:{bubbled:keyOf({onInput:true}),captured:keyOf({onInputCapture:true})}},invalid:{phasedRegistrationNames:{bubbled:keyOf({onInvalid:true}),captured:keyOf({onInvalidCapture:true})}},keyDown:{phasedRegistrationNames:{bubbled:keyOf({onKeyDown:true}),captured:keyOf({onKeyDownCapture:true})}},keyPress:{phasedRegistrationNames:{bubbled:keyOf({onKeyPress:true}),captured:keyOf({onKeyPressCapture:true})}},keyUp:{phasedRegistrationNames:{bubbled:keyOf({onKeyUp:true}),captured:keyOf({onKeyUpCapture:true})}},load:{phasedRegistrationNames:{bubbled:keyOf({onLoad:true}),captured:keyOf({onLoadCapture:true})}},loadedData:{phasedRegistrationNames:{bubbled:keyOf({onLoadedData:true}),captured:keyOf({onLoadedDataCapture:true})}},loadedMetadata:{phasedRegistrationNames:{bubbled:keyOf({onLoadedMetadata:true}),captured:keyOf({onLoadedMetadataCapture:true})}},loadStart:{phasedRegistrationNames:{bubbled:keyOf({onLoadStart:true}),captured:keyOf({onLoadStartCapture:true})}},mouseDown:{phasedRegistrationNames:{bubbled:keyOf({onMouseDown:true}),captured:keyOf({onMouseDownCapture:true})}},mouseMove:{phasedRegistrationNames:{bubbled:keyOf({onMouseMove:true}),captured:keyOf({onMouseMoveCapture:true})}},mouseOut:{phasedRegistrationNames:{bubbled:keyOf({onMouseOut:true}),captured:keyOf({onMouseOutCapture:true})}},mouseOver:{phasedRegistrationNames:{bubbled:keyOf({onMouseOver:true}),captured:keyOf({onMouseOverCapture:true})}},mouseUp:{phasedRegistrationNames:{bubbled:keyOf({onMouseUp:true}),captured:keyOf({onMouseUpCapture:true})}},paste:{phasedRegistrationNames:{bubbled:keyOf({onPaste:true}),captured:keyOf({onPasteCapture:true})}},pause:{phasedRegistrationNames:{bubbled:keyOf({onPause:true}),captured:keyOf({onPauseCapture:true})}},play:{phasedRegistrationNames:{bubbled:keyOf({onPlay:true}),captured:keyOf({onPlayCapture:true})}},playing:{phasedRegistrationNames:{bubbled:keyOf({onPlaying:true}),captured:keyOf({onPlayingCapture:true})}},progress:{phasedRegistrationNames:{bubbled:keyOf({onProgress:true}),captured:keyOf({onProgressCapture:true})}},rateChange:{phasedRegistrationNames:{bubbled:keyOf({onRateChange:true}),captured:keyOf({onRateChangeCapture:true})}},reset:{phasedRegistrationNames:{bubbled:keyOf({onReset:true}),captured:keyOf({onResetCapture:true})}},scroll:{phasedRegistrationNames:{bubbled:keyOf({onScroll:true}),captured:keyOf({onScrollCapture:true})}},seeked:{phasedRegistrationNames:{bubbled:keyOf({onSeeked:true}),captured:keyOf({onSeekedCapture:true})}},seeking:{phasedRegistrationNames:{bubbled:keyOf({onSeeking:true}),captured:keyOf({onSeekingCapture:true})}},stalled:{phasedRegistrationNames:{bubbled:keyOf({onStalled:true}),captured:keyOf({onStalledCapture:true})}},submit:{phasedRegistrationNames:{bubbled:keyOf({onSubmit:true}),captured:keyOf({onSubmitCapture:true})}},suspend:{phasedRegistrationNames:{bubbled:keyOf({onSuspend:true}),captured:keyOf({onSuspendCapture:true})}},timeUpdate:{phasedRegistrationNames:{bubbled:keyOf({onTimeUpdate:true}),captured:keyOf({onTimeUpdateCapture:true})}},touchCancel:{phasedRegistrationNames:{bubbled:keyOf({onTouchCancel:true}),captured:keyOf({onTouchCancelCapture:true})}},touchEnd:{phasedRegistrationNames:{bubbled:keyOf({onTouchEnd:true}),captured:keyOf({onTouchEndCapture:true})}},touchMove:{phasedRegistrationNames:{bubbled:keyOf({onTouchMove:true}),captured:keyOf({onTouchMoveCapture:true})}},touchStart:{phasedRegistrationNames:{bubbled:keyOf({onTouchStart:true}),captured:keyOf({onTouchStartCapture:true})}},transitionEnd:{phasedRegistrationNames:{bubbled:keyOf({onTransitionEnd:true}),captured:keyOf({onTransitionEndCapture:true})}},volumeChange:{phasedRegistrationNames:{bubbled:keyOf({onVolumeChange:true}),captured:keyOf({onVolumeChangeCapture:true})}},waiting:{phasedRegistrationNames:{bubbled:keyOf({onWaiting:true}),captured:keyOf({onWaitingCapture:true})}},wheel:{phasedRegistrationNames:{bubbled:keyOf({onWheel:true}),captured:keyOf({onWheelCapture:true})}}};var topLevelEventsToDispatchConfig={topAbort:eventTypes.abort,topAnimationEnd:eventTypes.animationEnd,topAnimationIteration:eventTypes.animationIteration,topAnimationStart:eventTypes.animationStart,topBlur:eventTypes.blur,topCanPlay:eventTypes.canPlay,topCanPlayThrough:eventTypes.canPlayThrough,topClick:eventTypes.click,topContextMenu:eventTypes.contextMenu,topCopy:eventTypes.copy,topCut:eventTypes.cut,topDoubleClick:eventTypes.doubleClick,topDrag:eventTypes.drag,topDragEnd:eventTypes.dragEnd,topDragEnter:eventTypes.dragEnter,topDragExit:eventTypes.dragExit,topDragLeave:eventTypes.dragLeave,topDragOver:eventTypes.dragOver,topDragStart:eventTypes.dragStart,topDrop:eventTypes.drop,topDurationChange:eventTypes.durationChange,topEmptied:eventTypes.emptied,topEncrypted:eventTypes.encrypted,
topEnded:eventTypes.ended,topError:eventTypes.error,topFocus:eventTypes.focus,topInput:eventTypes.input,topInvalid:eventTypes.invalid,topKeyDown:eventTypes.keyDown,topKeyPress:eventTypes.keyPress,topKeyUp:eventTypes.keyUp,topLoad:eventTypes.load,topLoadedData:eventTypes.loadedData,topLoadedMetadata:eventTypes.loadedMetadata,topLoadStart:eventTypes.loadStart,topMouseDown:eventTypes.mouseDown,topMouseMove:eventTypes.mouseMove,topMouseOut:eventTypes.mouseOut,topMouseOver:eventTypes.mouseOver,topMouseUp:eventTypes.mouseUp,topPaste:eventTypes.paste,topPause:eventTypes.pause,topPlay:eventTypes.play,topPlaying:eventTypes.playing,topProgress:eventTypes.progress,topRateChange:eventTypes.rateChange,topReset:eventTypes.reset,topScroll:eventTypes.scroll,topSeeked:eventTypes.seeked,topSeeking:eventTypes.seeking,topStalled:eventTypes.stalled,topSubmit:eventTypes.submit,topSuspend:eventTypes.suspend,topTimeUpdate:eventTypes.timeUpdate,topTouchCancel:eventTypes.touchCancel,topTouchEnd:eventTypes.touchEnd,topTouchMove:eventTypes.touchMove,topTouchStart:eventTypes.touchStart,topTransitionEnd:eventTypes.transitionEnd,topVolumeChange:eventTypes.volumeChange,topWaiting:eventTypes.waiting,topWheel:eventTypes.wheel};for(var type in topLevelEventsToDispatchConfig){topLevelEventsToDispatchConfig[type].dependencies=[type]}var ON_CLICK_KEY=keyOf({onClick:null});var onClickListeners={};function getDictionaryKey(inst){return"."+inst._rootNodeID}var SimpleEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,targetInst,nativeEvent,nativeEventTarget){var dispatchConfig=topLevelEventsToDispatchConfig[topLevelType];if(!dispatchConfig){return null}var EventConstructor;switch(topLevelType){case topLevelTypes.topAbort:case topLevelTypes.topCanPlay:case topLevelTypes.topCanPlayThrough:case topLevelTypes.topDurationChange:case topLevelTypes.topEmptied:case topLevelTypes.topEncrypted:case topLevelTypes.topEnded:case topLevelTypes.topError:case topLevelTypes.topInput:case topLevelTypes.topInvalid:case topLevelTypes.topLoad:case topLevelTypes.topLoadedData:case topLevelTypes.topLoadedMetadata:case topLevelTypes.topLoadStart:case topLevelTypes.topPause:case topLevelTypes.topPlay:case topLevelTypes.topPlaying:case topLevelTypes.topProgress:case topLevelTypes.topRateChange:case topLevelTypes.topReset:case topLevelTypes.topSeeked:case topLevelTypes.topSeeking:case topLevelTypes.topStalled:case topLevelTypes.topSubmit:case topLevelTypes.topSuspend:case topLevelTypes.topTimeUpdate:case topLevelTypes.topVolumeChange:case topLevelTypes.topWaiting:EventConstructor=SyntheticEvent;break;case topLevelTypes.topKeyPress:if(getEventCharCode(nativeEvent)===0){return null}case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:EventConstructor=SyntheticKeyboardEvent;break;case topLevelTypes.topBlur:case topLevelTypes.topFocus:EventConstructor=SyntheticFocusEvent;break;case topLevelTypes.topClick:if(nativeEvent.button===2){return null}case topLevelTypes.topContextMenu:case topLevelTypes.topDoubleClick:case topLevelTypes.topMouseDown:case topLevelTypes.topMouseMove:case topLevelTypes.topMouseOut:case topLevelTypes.topMouseOver:case topLevelTypes.topMouseUp:EventConstructor=SyntheticMouseEvent;break;case topLevelTypes.topDrag:case topLevelTypes.topDragEnd:case topLevelTypes.topDragEnter:case topLevelTypes.topDragExit:case topLevelTypes.topDragLeave:case topLevelTypes.topDragOver:case topLevelTypes.topDragStart:case topLevelTypes.topDrop:EventConstructor=SyntheticDragEvent;break;case topLevelTypes.topTouchCancel:case topLevelTypes.topTouchEnd:case topLevelTypes.topTouchMove:case topLevelTypes.topTouchStart:EventConstructor=SyntheticTouchEvent;break;case topLevelTypes.topAnimationEnd:case topLevelTypes.topAnimationIteration:case topLevelTypes.topAnimationStart:EventConstructor=SyntheticAnimationEvent;break;case topLevelTypes.topTransitionEnd:EventConstructor=SyntheticTransitionEvent;break;case topLevelTypes.topScroll:EventConstructor=SyntheticUIEvent;break;case topLevelTypes.topWheel:EventConstructor=SyntheticWheelEvent;break;case topLevelTypes.topCopy:case topLevelTypes.topCut:case topLevelTypes.topPaste:EventConstructor=SyntheticClipboardEvent;break}!EventConstructor?process.env.NODE_ENV!=="production"?invariant(false,"SimpleEventPlugin: Unhandled event type, `%s`.",topLevelType):_prodInvariant("86",topLevelType):void 0;var event=EventConstructor.getPooled(dispatchConfig,targetInst,nativeEvent,nativeEventTarget);EventPropagators.accumulateTwoPhaseDispatches(event);return event},didPutListener:function(inst,registrationName,listener){if(registrationName===ON_CLICK_KEY){var key=getDictionaryKey(inst);var node=ReactDOMComponentTree.getNodeFromInstance(inst);if(!onClickListeners[key]){onClickListeners[key]=EventListener.listen(node,"click",emptyFunction)}}},willDeleteListener:function(inst,registrationName){if(registrationName===ON_CLICK_KEY){var key=getDictionaryKey(inst);onClickListeners[key].remove();delete onClickListeners[key]}}};module.exports=SimpleEventPlugin}).call(this,require("_process"))},{"./EventConstants":270,"./EventPropagators":274,"./ReactDOMComponentTree":296,"./SyntheticAnimationEvent":351,"./SyntheticClipboardEvent":352,"./SyntheticDragEvent":354,"./SyntheticEvent":355,"./SyntheticFocusEvent":356,"./SyntheticKeyboardEvent":358,"./SyntheticMouseEvent":359,"./SyntheticTouchEvent":360,"./SyntheticTransitionEvent":361,"./SyntheticUIEvent":362,"./SyntheticWheelEvent":363,"./getEventCharCode":376,"./reactProdInvariant":390,_process:216,"fbjs/lib/EventListener":145,"fbjs/lib/emptyFunction":166,"fbjs/lib/invariant":180,"fbjs/lib/keyOf":185}],351:[function(require,module,exports){"use strict";var SyntheticEvent=require("./SyntheticEvent");var AnimationEventInterface={animationName:null,elapsedTime:null,pseudoElement:null};function SyntheticAnimationEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticEvent.augmentClass(SyntheticAnimationEvent,AnimationEventInterface);module.exports=SyntheticAnimationEvent},{"./SyntheticEvent":355}],352:[function(require,module,exports){"use strict";var SyntheticEvent=require("./SyntheticEvent");var ClipboardEventInterface={clipboardData:function(event){return"clipboardData"in event?event.clipboardData:window.clipboardData}};function SyntheticClipboardEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticEvent.augmentClass(SyntheticClipboardEvent,ClipboardEventInterface);module.exports=SyntheticClipboardEvent},{"./SyntheticEvent":355}],353:[function(require,module,exports){"use strict";var SyntheticEvent=require("./SyntheticEvent");var CompositionEventInterface={data:null};function SyntheticCompositionEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticEvent.augmentClass(SyntheticCompositionEvent,CompositionEventInterface);module.exports=SyntheticCompositionEvent},{"./SyntheticEvent":355}],354:[function(require,module,exports){"use strict";var SyntheticMouseEvent=require("./SyntheticMouseEvent");var DragEventInterface={dataTransfer:null};function SyntheticDragEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticMouseEvent.augmentClass(SyntheticDragEvent,DragEventInterface);module.exports=SyntheticDragEvent},{"./SyntheticMouseEvent":359}],355:[function(require,module,exports){(function(process){"use strict";var _assign=require("object-assign");var PooledClass=require("./PooledClass");var emptyFunction=require("fbjs/lib/emptyFunction");var warning=require("fbjs/lib/warning");var didWarnForAddedNewProperty=false;var isProxySupported=typeof Proxy==="function";var shouldBeReleasedProperties=["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"];var EventInterface={type:null,target:null,currentTarget:emptyFunction.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(event){return event.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function SyntheticEvent(dispatchConfig,targetInst,nativeEvent,nativeEventTarget){if(process.env.NODE_ENV!=="production"){delete this.nativeEvent;delete this.preventDefault;delete this.stopPropagation}this.dispatchConfig=dispatchConfig;this._targetInst=targetInst;this.nativeEvent=nativeEvent;var Interface=this.constructor.Interface;for(var propName in Interface){if(!Interface.hasOwnProperty(propName)){continue}if(process.env.NODE_ENV!=="production"){delete this[propName]}var normalize=Interface[propName];if(normalize){this[propName]=normalize(nativeEvent)}else{if(propName==="target"){this.target=nativeEventTarget}else{this[propName]=nativeEvent[propName]}}}var defaultPrevented=nativeEvent.defaultPrevented!=null?nativeEvent.defaultPrevented:nativeEvent.returnValue===false;if(defaultPrevented){this.isDefaultPrevented=emptyFunction.thatReturnsTrue}else{this.isDefaultPrevented=emptyFunction.thatReturnsFalse}this.isPropagationStopped=emptyFunction.thatReturnsFalse;return this}_assign(SyntheticEvent.prototype,{preventDefault:function(){this.defaultPrevented=true;var event=this.nativeEvent;if(!event){return}if(event.preventDefault){event.preventDefault()}else if(typeof event.returnValue!=="unknown"){event.returnValue=false}this.isDefaultPrevented=emptyFunction.thatReturnsTrue},stopPropagation:function(){var event=this.nativeEvent;if(!event){return}if(event.stopPropagation){event.stopPropagation()}else if(typeof event.cancelBubble!=="unknown"){event.cancelBubble=true}this.isPropagationStopped=emptyFunction.thatReturnsTrue},persist:function(){this.isPersistent=emptyFunction.thatReturnsTrue},isPersistent:emptyFunction.thatReturnsFalse,destructor:function(){var Interface=this.constructor.Interface;for(var propName in Interface){if(process.env.NODE_ENV!=="production"){Object.defineProperty(this,propName,getPooledWarningPropertyDefinition(propName,Interface[propName]))}else{this[propName]=null}}for(var i=0;i<shouldBeReleasedProperties.length;i++){this[shouldBeReleasedProperties[i]]=null}if(process.env.NODE_ENV!=="production"){Object.defineProperty(this,"nativeEvent",getPooledWarningPropertyDefinition("nativeEvent",null));Object.defineProperty(this,"preventDefault",getPooledWarningPropertyDefinition("preventDefault",emptyFunction));Object.defineProperty(this,"stopPropagation",getPooledWarningPropertyDefinition("stopPropagation",emptyFunction))}}});SyntheticEvent.Interface=EventInterface;if(process.env.NODE_ENV!=="production"){if(isProxySupported){SyntheticEvent=new Proxy(SyntheticEvent,{construct:function(target,args){return this.apply(target,Object.create(target.prototype),args)},apply:function(constructor,that,args){return new Proxy(constructor.apply(that,args),{set:function(target,prop,value){if(prop!=="isPersistent"&&!target.constructor.Interface.hasOwnProperty(prop)&&shouldBeReleasedProperties.indexOf(prop)===-1){process.env.NODE_ENV!=="production"?warning(didWarnForAddedNewProperty||target.isPersistent(),"This synthetic event is reused for performance reasons. If you're "+"seeing this, you're adding a new property in the synthetic event object. "+"The property is never released. See "+"https://fb.me/react-event-pooling for more information."):void 0;didWarnForAddedNewProperty=true}target[prop]=value;return true}})}})}}SyntheticEvent.augmentClass=function(Class,Interface){var Super=this;var E=function(){};E.prototype=Super.prototype;var prototype=new E;_assign(prototype,Class.prototype);Class.prototype=prototype;Class.prototype.constructor=Class;Class.Interface=_assign({},Super.Interface,Interface);Class.augmentClass=Super.augmentClass;PooledClass.addPoolingTo(Class,PooledClass.fourArgumentPooler)};PooledClass.addPoolingTo(SyntheticEvent,PooledClass.fourArgumentPooler);module.exports=SyntheticEvent;function getPooledWarningPropertyDefinition(propName,getVal){var isFunction=typeof getVal==="function";return{configurable:true,set:set,get:get};function set(val){var action=isFunction?"setting the method":"setting the property";warn(action,"This is effectively a no-op");return val}function get(){var action=isFunction?"accessing the method":"accessing the property";var result=isFunction?"This is a no-op function":"This is set to null";warn(action,result);return getVal}function warn(action,result){var warningCondition=false;process.env.NODE_ENV!=="production"?warning(warningCondition,"This synthetic event is reused for performance reasons. If you're seeing this, "+"you're %s `%s` on a released/nullified synthetic event. %s. "+"If you must keep the original synthetic event around, use event.persist(). "+"See https://fb.me/react-event-pooling for more information.",action,propName,result):void 0}}}).call(this,require("_process"))},{"./PooledClass":279,_process:216,"fbjs/lib/emptyFunction":166,"fbjs/lib/warning":192,"object-assign":215}],356:[function(require,module,exports){"use strict";var SyntheticUIEvent=require("./SyntheticUIEvent");var FocusEventInterface={relatedTarget:null};function SyntheticFocusEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticUIEvent.augmentClass(SyntheticFocusEvent,FocusEventInterface);module.exports=SyntheticFocusEvent},{"./SyntheticUIEvent":362}],357:[function(require,module,exports){"use strict";var SyntheticEvent=require("./SyntheticEvent");var InputEventInterface={data:null};function SyntheticInputEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticEvent.augmentClass(SyntheticInputEvent,InputEventInterface);module.exports=SyntheticInputEvent},{"./SyntheticEvent":355}],358:[function(require,module,exports){"use strict";var SyntheticUIEvent=require("./SyntheticUIEvent");var getEventCharCode=require("./getEventCharCode");var getEventKey=require("./getEventKey");var getEventModifierState=require("./getEventModifierState");var KeyboardEventInterface={key:getEventKey,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:getEventModifierState,charCode:function(event){if(event.type==="keypress"){return getEventCharCode(event)}return 0},keyCode:function(event){if(event.type==="keydown"||event.type==="keyup"){return event.keyCode}return 0},which:function(event){if(event.type==="keypress"){return getEventCharCode(event)}if(event.type==="keydown"||event.type==="keyup"){return event.keyCode}return 0}};function SyntheticKeyboardEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticUIEvent.augmentClass(SyntheticKeyboardEvent,KeyboardEventInterface);module.exports=SyntheticKeyboardEvent},{"./SyntheticUIEvent":362,"./getEventCharCode":376,"./getEventKey":377,"./getEventModifierState":378}],359:[function(require,module,exports){"use strict";var SyntheticUIEvent=require("./SyntheticUIEvent");var ViewportMetrics=require("./ViewportMetrics");var getEventModifierState=require("./getEventModifierState");var MouseEventInterface={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:getEventModifierState,button:function(event){var button=event.button;if("which"in event){return button}return button===2?2:button===4?1:0},buttons:null,relatedTarget:function(event){return event.relatedTarget||(event.fromElement===event.srcElement?event.toElement:event.fromElement)},pageX:function(event){return"pageX"in event?event.pageX:event.clientX+ViewportMetrics.currentScrollLeft},pageY:function(event){return"pageY"in event?event.pageY:event.clientY+ViewportMetrics.currentScrollTop}};function SyntheticMouseEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticUIEvent.augmentClass(SyntheticMouseEvent,MouseEventInterface);module.exports=SyntheticMouseEvent},{"./SyntheticUIEvent":362,"./ViewportMetrics":365,"./getEventModifierState":378}],360:[function(require,module,exports){"use strict";var SyntheticUIEvent=require("./SyntheticUIEvent");var getEventModifierState=require("./getEventModifierState");var TouchEventInterface={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:getEventModifierState};function SyntheticTouchEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticUIEvent.augmentClass(SyntheticTouchEvent,TouchEventInterface);module.exports=SyntheticTouchEvent},{"./SyntheticUIEvent":362,"./getEventModifierState":378}],361:[function(require,module,exports){"use strict";var SyntheticEvent=require("./SyntheticEvent");var TransitionEventInterface={propertyName:null,elapsedTime:null,pseudoElement:null};function SyntheticTransitionEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticEvent.augmentClass(SyntheticTransitionEvent,TransitionEventInterface);module.exports=SyntheticTransitionEvent},{"./SyntheticEvent":355}],362:[function(require,module,exports){"use strict";var SyntheticEvent=require("./SyntheticEvent");var getEventTarget=require("./getEventTarget");var UIEventInterface={view:function(event){if(event.view){return event.view}var target=getEventTarget(event);if(target.window===target){return target}var doc=target.ownerDocument;if(doc){return doc.defaultView||doc.parentWindow}else{return window}},detail:function(event){return event.detail||0}};function SyntheticUIEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticEvent.augmentClass(SyntheticUIEvent,UIEventInterface);module.exports=SyntheticUIEvent},{"./SyntheticEvent":355,"./getEventTarget":379}],363:[function(require,module,exports){"use strict";var SyntheticMouseEvent=require("./SyntheticMouseEvent");var WheelEventInterface={deltaX:function(event){return"deltaX"in event?event.deltaX:"wheelDeltaX"in event?-event.wheelDeltaX:0},deltaY:function(event){return"deltaY"in event?event.deltaY:"wheelDeltaY"in event?-event.wheelDeltaY:"wheelDelta"in event?-event.wheelDelta:0},deltaZ:null,deltaMode:null};function SyntheticWheelEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticMouseEvent.augmentClass(SyntheticWheelEvent,WheelEventInterface);module.exports=SyntheticWheelEvent},{"./SyntheticMouseEvent":359}],364:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var invariant=require("fbjs/lib/invariant");var Mixin={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers();if(this.wrapperInitData){this.wrapperInitData.length=0}else{this.wrapperInitData=[]}this._isInTransaction=false},_isInTransaction:false,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(method,scope,a,b,c,d,e,f){!!this.isInTransaction()?process.env.NODE_ENV!=="production"?invariant(false,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):_prodInvariant("27"):void 0;var errorThrown;var ret;try{this._isInTransaction=true;errorThrown=true;this.initializeAll(0);ret=method.call(scope,a,b,c,d,e,f);errorThrown=false}finally{try{if(errorThrown){try{this.closeAll(0)}catch(err){}}else{this.closeAll(0)}}finally{this._isInTransaction=false}}return ret},initializeAll:function(startIndex){var transactionWrappers=this.transactionWrappers;for(var i=startIndex;i<transactionWrappers.length;i++){var wrapper=transactionWrappers[i];try{this.wrapperInitData[i]=Transaction.OBSERVED_ERROR;this.wrapperInitData[i]=wrapper.initialize?wrapper.initialize.call(this):null}finally{if(this.wrapperInitData[i]===Transaction.OBSERVED_ERROR){try{this.initializeAll(i+1)}catch(err){}}}}},closeAll:function(startIndex){!this.isInTransaction()?process.env.NODE_ENV!=="production"?invariant(false,"Transaction.closeAll(): Cannot close transaction when none are open."):_prodInvariant("28"):void 0;var transactionWrappers=this.transactionWrappers;for(var i=startIndex;i<transactionWrappers.length;i++){var wrapper=transactionWrappers[i];var initData=this.wrapperInitData[i];var errorThrown;try{errorThrown=true;if(initData!==Transaction.OBSERVED_ERROR&&wrapper.close){wrapper.close.call(this,initData)}errorThrown=false}finally{if(errorThrown){try{this.closeAll(i+1)}catch(e){}}}}this.wrapperInitData.length=0}};var Transaction={Mixin:Mixin,OBSERVED_ERROR:{}};module.exports=Transaction}).call(this,require("_process"))},{"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180}],365:[function(require,module,exports){"use strict";var ViewportMetrics={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(scrollPosition){ViewportMetrics.currentScrollLeft=scrollPosition.x;ViewportMetrics.currentScrollTop=scrollPosition.y}};module.exports=ViewportMetrics},{}],366:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var invariant=require("fbjs/lib/invariant");function accumulateInto(current,next){!(next!=null)?process.env.NODE_ENV!=="production"?invariant(false,"accumulateInto(...): Accumulated items must not be null or undefined."):_prodInvariant("30"):void 0;if(current==null){return next}if(Array.isArray(current)){if(Array.isArray(next)){current.push.apply(current,next);return current}current.push(next);return current}if(Array.isArray(next)){return[current].concat(next)}return[current,next]}module.exports=accumulateInto}).call(this,require("_process"))},{"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180}],367:[function(require,module,exports){"use strict";var MOD=65521;function adler32(data){var a=1;var b=0;var i=0;var l=data.length;var m=l&~3;while(i<m){var n=Math.min(i+4096,m);for(;i<n;i+=4){b+=(a+=data.charCodeAt(i))+(a+=data.charCodeAt(i+1))+(a+=data.charCodeAt(i+2))+(a+=data.charCodeAt(i+3))}a%=MOD;b%=MOD}for(;i<l;i++){b+=a+=data.charCodeAt(i)}a%=MOD;b%=MOD;return a|b<<16}module.exports=adler32},{}],368:[function(require,module,exports){(function(process){"use strict";var canDefineProperty=false;if(process.env.NODE_ENV!=="production"){try{Object.defineProperty({},"x",{get:function(){}});canDefineProperty=true}catch(x){}}module.exports=canDefineProperty}).call(this,require("_process"))},{_process:216}],369:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames");var ReactPropTypesSecret=require("./ReactPropTypesSecret");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");var ReactComponentTreeHook;if(typeof process!=="undefined"&&process.env&&process.env.NODE_ENV==="test"){ReactComponentTreeHook=require("./ReactComponentTreeHook")}var loggedTypeFailures={};function checkReactTypeSpec(typeSpecs,values,location,componentName,element,debugID){for(var typeSpecName in typeSpecs){if(typeSpecs.hasOwnProperty(typeSpecName)){var error;try{!(typeof typeSpecs[typeSpecName]==="function")?process.env.NODE_ENV!=="production"?invariant(false,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",componentName||"React class",ReactPropTypeLocationNames[location],typeSpecName):_prodInvariant("84",componentName||"React class",ReactPropTypeLocationNames[location],typeSpecName):void 0;error=typeSpecs[typeSpecName](values,typeSpecName,componentName,location,null,ReactPropTypesSecret)}catch(ex){error=ex}process.env.NODE_ENV!=="production"?warning(!error||error instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker "+"function must return `null` or an `Error` but returned a %s. "+"You may have forgotten to pass an argument to the type checker "+"creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and "+"shape all require an argument).",componentName||"React class",ReactPropTypeLocationNames[location],typeSpecName,typeof error):void 0;if(error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=true;var componentStackInfo="";if(process.env.NODE_ENV!=="production"){if(!ReactComponentTreeHook){ReactComponentTreeHook=require("./ReactComponentTreeHook")}if(debugID!==null){componentStackInfo=ReactComponentTreeHook.getStackAddendumByID(debugID)}else if(element!==null){componentStackInfo=ReactComponentTreeHook.getCurrentStackAddendum(element)}}process.env.NODE_ENV!=="production"?warning(false,"Failed %s type: %s%s",location,error.message,componentStackInfo):void 0}}}}module.exports=checkReactTypeSpec}).call(this,require("_process"))},{"./ReactComponentTreeHook":289,"./ReactPropTypeLocationNames":335,"./ReactPropTypesSecret":338,"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180,"fbjs/lib/warning":192}],370:[function(require,module,exports){"use strict";var createMicrosoftUnsafeLocalFunction=function(func){if(typeof MSApp!=="undefined"&&MSApp.execUnsafeLocalFunction){return function(arg0,arg1,arg2,arg3){MSApp.execUnsafeLocalFunction(function(){return func(arg0,arg1,arg2,arg3)})}}else{return func}};module.exports=createMicrosoftUnsafeLocalFunction},{}],371:[function(require,module,exports){(function(process){"use strict";var CSSProperty=require("./CSSProperty");var warning=require("fbjs/lib/warning");var isUnitlessNumber=CSSProperty.isUnitlessNumber;var styleWarnings={};function dangerousStyleValue(name,value,component){var isEmpty=value==null||typeof value==="boolean"||value==="";if(isEmpty){return""}var isNonNumeric=isNaN(value);if(isNonNumeric||value===0||isUnitlessNumber.hasOwnProperty(name)&&isUnitlessNumber[name]){return""+value}if(typeof value==="string"){if(process.env.NODE_ENV!=="production"){if(component&&value!=="0"){var owner=component._currentElement._owner;var ownerName=owner?owner.getName():null;if(ownerName&&!styleWarnings[ownerName]){styleWarnings[ownerName]={}}var warned=false;if(ownerName){var warnings=styleWarnings[ownerName];warned=warnings[name];if(!warned){warnings[name]=true}}if(!warned){process.env.NODE_ENV!=="production"?warning(false,"a `%s` tag (owner: `%s`) was passed a numeric string value "+"for CSS property `%s` (value: `%s`) which will be treated "+"as a unitless number in a future version of React.",component._currentElement.type,ownerName||"unknown",name,value):void 0}}}value=value.trim()}return value+"px"}module.exports=dangerousStyleValue}).call(this,require("_process"))},{"./CSSProperty":257,_process:216,"fbjs/lib/warning":192}],372:[function(require,module,exports){"use strict";var matchHtmlRegExp=/["'&<>]/;function escapeHtml(string){var str=""+string;var match=matchHtmlRegExp.exec(str);if(!match){return str}var escape;var html="";var index=0;var lastIndex=0;for(index=match.index;index<str.length;index++){switch(str.charCodeAt(index)){case 34:escape="&quot;";break;case 38:escape="&amp;";break;case 39:escape="&#x27;";break;case 60:escape="&lt;";break;case 62:escape="&gt;";break;default:continue}if(lastIndex!==index){html+=str.substring(lastIndex,index)}lastIndex=index+1;html+=escape}return lastIndex!==index?html+str.substring(lastIndex,index):html}function escapeTextContentForBrowser(text){if(typeof text==="boolean"||typeof text==="number"){return""+text}return escapeHtml(text)}module.exports=escapeTextContentForBrowser},{}],373:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactDOMComponentTree=require("./ReactDOMComponentTree");var ReactInstanceMap=require("./ReactInstanceMap");var getHostComponentFromComposite=require("./getHostComponentFromComposite");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");function findDOMNode(componentOrElement){if(process.env.NODE_ENV!=="production"){var owner=ReactCurrentOwner.current;if(owner!==null){process.env.NODE_ENV!=="production"?warning(owner._warnedAboutRefsInRender,"%s is accessing findDOMNode inside its render(). "+"render() should be a pure function of props and state. It should "+"never access something that requires stale data from the previous "+"render, such as refs. Move this logic to componentDidMount and "+"componentDidUpdate instead.",owner.getName()||"A component"):void 0;owner._warnedAboutRefsInRender=true}}if(componentOrElement==null){return null}if(componentOrElement.nodeType===1){return componentOrElement}var inst=ReactInstanceMap.get(componentOrElement);if(inst){inst=getHostComponentFromComposite(inst);return inst?ReactDOMComponentTree.getNodeFromInstance(inst):null}if(typeof componentOrElement.render==="function"){!false?process.env.NODE_ENV!=="production"?invariant(false,"findDOMNode was called on an unmounted component."):_prodInvariant("44"):void 0}else{!false?process.env.NODE_ENV!=="production"?invariant(false,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(componentOrElement)):_prodInvariant("45",Object.keys(componentOrElement)):void 0}}module.exports=findDOMNode}).call(this,require("_process"))},{"./ReactCurrentOwner":291,"./ReactDOMComponentTree":296,"./ReactInstanceMap":325,"./getHostComponentFromComposite":380,"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180,"fbjs/lib/warning":192}],374:[function(require,module,exports){(function(process){"use strict";var KeyEscapeUtils=require("./KeyEscapeUtils");var traverseAllChildren=require("./traverseAllChildren");var warning=require("fbjs/lib/warning");var ReactComponentTreeHook;if(typeof process!=="undefined"&&process.env&&process.env.NODE_ENV==="test"){ReactComponentTreeHook=require("./ReactComponentTreeHook")}function flattenSingleChildIntoContext(traverseContext,child,name,selfDebugID){if(traverseContext&&typeof traverseContext==="object"){var result=traverseContext;var keyUnique=result[name]===undefined;if(process.env.NODE_ENV!=="production"){if(!ReactComponentTreeHook){ReactComponentTreeHook=require("./ReactComponentTreeHook")}if(!keyUnique){process.env.NODE_ENV!=="production"?warning(false,"flattenChildren(...): Encountered two children with the same key, "+"`%s`. Child keys must be unique; when two children share a key, only "+"the first child will be used.%s",KeyEscapeUtils.unescape(name),ReactComponentTreeHook.getStackAddendumByID(selfDebugID)):void 0}}if(keyUnique&&child!=null){result[name]=child}}}function flattenChildren(children,selfDebugID){if(children==null){return children}var result={};if(process.env.NODE_ENV!=="production"){traverseAllChildren(children,function(traverseContext,child,name){return flattenSingleChildIntoContext(traverseContext,child,name,selfDebugID)},result)}else{traverseAllChildren(children,flattenSingleChildIntoContext,result)}return result}module.exports=flattenChildren}).call(this,require("_process"))},{"./KeyEscapeUtils":277,"./ReactComponentTreeHook":289,"./traverseAllChildren":395,_process:216,"fbjs/lib/warning":192}],375:[function(require,module,exports){"use strict";function forEachAccumulated(arr,cb,scope){if(Array.isArray(arr)){arr.forEach(cb,scope)}else if(arr){cb.call(scope,arr)}}module.exports=forEachAccumulated;
},{}],376:[function(require,module,exports){"use strict";function getEventCharCode(nativeEvent){var charCode;var keyCode=nativeEvent.keyCode;if("charCode"in nativeEvent){charCode=nativeEvent.charCode;if(charCode===0&&keyCode===13){charCode=13}}else{charCode=keyCode}if(charCode>=32||charCode===13){return charCode}return 0}module.exports=getEventCharCode},{}],377:[function(require,module,exports){"use strict";var getEventCharCode=require("./getEventCharCode");var normalizeKey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"};var translateToKey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function getEventKey(nativeEvent){if(nativeEvent.key){var key=normalizeKey[nativeEvent.key]||nativeEvent.key;if(key!=="Unidentified"){return key}}if(nativeEvent.type==="keypress"){var charCode=getEventCharCode(nativeEvent);return charCode===13?"Enter":String.fromCharCode(charCode)}if(nativeEvent.type==="keydown"||nativeEvent.type==="keyup"){return translateToKey[nativeEvent.keyCode]||"Unidentified"}return""}module.exports=getEventKey},{"./getEventCharCode":376}],378:[function(require,module,exports){"use strict";var modifierKeyToProp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function modifierStateGetter(keyArg){var syntheticEvent=this;var nativeEvent=syntheticEvent.nativeEvent;if(nativeEvent.getModifierState){return nativeEvent.getModifierState(keyArg)}var keyProp=modifierKeyToProp[keyArg];return keyProp?!!nativeEvent[keyProp]:false}function getEventModifierState(nativeEvent){return modifierStateGetter}module.exports=getEventModifierState},{}],379:[function(require,module,exports){"use strict";function getEventTarget(nativeEvent){var target=nativeEvent.target||nativeEvent.srcElement||window;if(target.correspondingUseElement){target=target.correspondingUseElement}return target.nodeType===3?target.parentNode:target}module.exports=getEventTarget},{}],380:[function(require,module,exports){"use strict";var ReactNodeTypes=require("./ReactNodeTypes");function getHostComponentFromComposite(inst){var type;while((type=inst._renderedNodeType)===ReactNodeTypes.COMPOSITE){inst=inst._renderedComponent}if(type===ReactNodeTypes.HOST){return inst._renderedComponent}else if(type===ReactNodeTypes.EMPTY){return null}}module.exports=getHostComponentFromComposite},{"./ReactNodeTypes":332}],381:[function(require,module,exports){"use strict";var ITERATOR_SYMBOL=typeof Symbol==="function"&&Symbol.iterator;var FAUX_ITERATOR_SYMBOL="@@iterator";function getIteratorFn(maybeIterable){var iteratorFn=maybeIterable&&(ITERATOR_SYMBOL&&maybeIterable[ITERATOR_SYMBOL]||maybeIterable[FAUX_ITERATOR_SYMBOL]);if(typeof iteratorFn==="function"){return iteratorFn}}module.exports=getIteratorFn},{}],382:[function(require,module,exports){"use strict";function getLeafNode(node){while(node&&node.firstChild){node=node.firstChild}return node}function getSiblingNode(node){while(node){if(node.nextSibling){return node.nextSibling}node=node.parentNode}}function getNodeForCharacterOffset(root,offset){var node=getLeafNode(root);var nodeStart=0;var nodeEnd=0;while(node){if(node.nodeType===3){nodeEnd=nodeStart+node.textContent.length;if(nodeStart<=offset&&nodeEnd>=offset){return{node:node,offset:offset-nodeStart}}nodeStart=nodeEnd}node=getLeafNode(getSiblingNode(node))}}module.exports=getNodeForCharacterOffset},{}],383:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var contentKey=null;function getTextContentAccessor(){if(!contentKey&&ExecutionEnvironment.canUseDOM){contentKey="textContent"in document.documentElement?"textContent":"innerText"}return contentKey}module.exports=getTextContentAccessor},{"fbjs/lib/ExecutionEnvironment":146}],384:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");function makePrefixMap(styleProp,eventName){var prefixes={};prefixes[styleProp.toLowerCase()]=eventName.toLowerCase();prefixes["Webkit"+styleProp]="webkit"+eventName;prefixes["Moz"+styleProp]="moz"+eventName;prefixes["ms"+styleProp]="MS"+eventName;prefixes["O"+styleProp]="o"+eventName.toLowerCase();return prefixes}var vendorPrefixes={animationend:makePrefixMap("Animation","AnimationEnd"),animationiteration:makePrefixMap("Animation","AnimationIteration"),animationstart:makePrefixMap("Animation","AnimationStart"),transitionend:makePrefixMap("Transition","TransitionEnd")};var prefixedEventNames={};var style={};if(ExecutionEnvironment.canUseDOM){style=document.createElement("div").style;if(!("AnimationEvent"in window)){delete vendorPrefixes.animationend.animation;delete vendorPrefixes.animationiteration.animation;delete vendorPrefixes.animationstart.animation}if(!("TransitionEvent"in window)){delete vendorPrefixes.transitionend.transition}}function getVendorPrefixedEventName(eventName){if(prefixedEventNames[eventName]){return prefixedEventNames[eventName]}else if(!vendorPrefixes[eventName]){return eventName}var prefixMap=vendorPrefixes[eventName];for(var styleProp in prefixMap){if(prefixMap.hasOwnProperty(styleProp)&&styleProp in style){return prefixedEventNames[eventName]=prefixMap[styleProp]}}return""}module.exports=getVendorPrefixedEventName},{"fbjs/lib/ExecutionEnvironment":146}],385:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant"),_assign=require("object-assign");var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactEmptyComponent=require("./ReactEmptyComponent");var ReactHostComponent=require("./ReactHostComponent");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");var ReactCompositeComponentWrapper=function(element){this.construct(element)};_assign(ReactCompositeComponentWrapper.prototype,ReactCompositeComponent.Mixin,{_instantiateReactComponent:instantiateReactComponent});function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name){return" Check the render method of `"+name+"`."}}return""}function isInternalComponentType(type){return typeof type==="function"&&typeof type.prototype!=="undefined"&&typeof type.prototype.mountComponent==="function"&&typeof type.prototype.receiveComponent==="function"}var nextDebugID=1;function instantiateReactComponent(node,shouldHaveDebugID){var instance;if(node===null||node===false){instance=ReactEmptyComponent.create(instantiateReactComponent)}else if(typeof node==="object"){var element=node;!(element&&(typeof element.type==="function"||typeof element.type==="string"))?process.env.NODE_ENV!=="production"?invariant(false,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",element.type==null?element.type:typeof element.type,getDeclarationErrorAddendum(element._owner)):_prodInvariant("130",element.type==null?element.type:typeof element.type,getDeclarationErrorAddendum(element._owner)):void 0;if(typeof element.type==="string"){instance=ReactHostComponent.createInternalComponent(element)}else if(isInternalComponentType(element.type)){instance=new element.type(element);if(!instance.getHostNode){instance.getHostNode=instance.getNativeNode}}else{instance=new ReactCompositeComponentWrapper(element)}}else if(typeof node==="string"||typeof node==="number"){instance=ReactHostComponent.createInstanceForText(node)}else{!false?process.env.NODE_ENV!=="production"?invariant(false,"Encountered invalid React node of type %s",typeof node):_prodInvariant("131",typeof node):void 0}if(process.env.NODE_ENV!=="production"){process.env.NODE_ENV!=="production"?warning(typeof instance.mountComponent==="function"&&typeof instance.receiveComponent==="function"&&typeof instance.getHostNode==="function"&&typeof instance.unmountComponent==="function","Only React Components can be mounted."):void 0}instance._mountIndex=0;instance._mountImage=null;if(process.env.NODE_ENV!=="production"){instance._debugID=shouldHaveDebugID?nextDebugID++:0}if(process.env.NODE_ENV!=="production"){if(Object.preventExtensions){Object.preventExtensions(instance)}}return instance}module.exports=instantiateReactComponent}).call(this,require("_process"))},{"./ReactCompositeComponent":290,"./ReactEmptyComponent":316,"./ReactHostComponent":321,"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180,"fbjs/lib/warning":192,"object-assign":215}],386:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var useHasFeature;if(ExecutionEnvironment.canUseDOM){useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==true}function isEventSupported(eventNameSuffix,capture){if(!ExecutionEnvironment.canUseDOM||capture&&!("addEventListener"in document)){return false}var eventName="on"+eventNameSuffix;var isSupported=eventName in document;if(!isSupported){var element=document.createElement("div");element.setAttribute(eventName,"return;");isSupported=typeof element[eventName]==="function"}if(!isSupported&&useHasFeature&&eventNameSuffix==="wheel"){isSupported=document.implementation.hasFeature("Events.wheel","3.0")}return isSupported}module.exports=isEventSupported},{"fbjs/lib/ExecutionEnvironment":146}],387:[function(require,module,exports){"use strict";var supportedInputTypes={color:true,date:true,datetime:true,"datetime-local":true,email:true,month:true,number:true,password:true,range:true,search:true,tel:true,text:true,time:true,url:true,week:true};function isTextInputElement(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();if(nodeName==="input"){return!!supportedInputTypes[elem.type]}if(nodeName==="textarea"){return true}return false}module.exports=isTextInputElement},{}],388:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var ReactElement=require("./ReactElement");var invariant=require("fbjs/lib/invariant");function onlyChild(children){!ReactElement.isValidElement(children)?process.env.NODE_ENV!=="production"?invariant(false,"React.Children.only expected to receive a single React element child."):_prodInvariant("143"):void 0;return children}module.exports=onlyChild}).call(this,require("_process"))},{"./ReactElement":314,"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180}],389:[function(require,module,exports){"use strict";var escapeTextContentForBrowser=require("./escapeTextContentForBrowser");function quoteAttributeValueForBrowser(value){return'"'+escapeTextContentForBrowser(value)+'"'}module.exports=quoteAttributeValueForBrowser},{"./escapeTextContentForBrowser":372}],390:[function(require,module,exports){"use strict";function reactProdInvariant(code){var argCount=arguments.length-1;var message="Minified React error #"+code+"; visit "+"http://facebook.github.io/react/docs/error-decoder.html?invariant="+code;for(var argIdx=0;argIdx<argCount;argIdx++){message+="&args[]="+encodeURIComponent(arguments[argIdx+1])}message+=" for the full message or use the non-minified dev environment"+" for full errors and additional helpful warnings.";var error=new Error(message);error.name="Invariant Violation";error.framesToPop=1;throw error}module.exports=reactProdInvariant},{}],391:[function(require,module,exports){"use strict";var ReactMount=require("./ReactMount");module.exports=ReactMount.renderSubtreeIntoContainer},{"./ReactMount":329}],392:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var DOMNamespaces=require("./DOMNamespaces");var WHITESPACE_TEST=/^[ \r\n\t\f]/;var NONVISIBLE_TEST=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/;var createMicrosoftUnsafeLocalFunction=require("./createMicrosoftUnsafeLocalFunction");var reusableSVGContainer;var setInnerHTML=createMicrosoftUnsafeLocalFunction(function(node,html){if(node.namespaceURI===DOMNamespaces.svg&&!("innerHTML"in node)){reusableSVGContainer=reusableSVGContainer||document.createElement("div");reusableSVGContainer.innerHTML="<svg>"+html+"</svg>";var svgNode=reusableSVGContainer.firstChild;while(svgNode.firstChild){node.appendChild(svgNode.firstChild)}}else{node.innerHTML=html}});if(ExecutionEnvironment.canUseDOM){var testElement=document.createElement("div");testElement.innerHTML=" ";if(testElement.innerHTML===""){setInnerHTML=function(node,html){if(node.parentNode){node.parentNode.replaceChild(node,node)}if(WHITESPACE_TEST.test(html)||html[0]==="<"&&NONVISIBLE_TEST.test(html)){node.innerHTML=String.fromCharCode(65279)+html;var textNode=node.firstChild;if(textNode.data.length===1){node.removeChild(textNode)}else{textNode.deleteData(0,1)}}else{node.innerHTML=html}}}testElement=null}module.exports=setInnerHTML},{"./DOMNamespaces":263,"./createMicrosoftUnsafeLocalFunction":370,"fbjs/lib/ExecutionEnvironment":146}],393:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var escapeTextContentForBrowser=require("./escapeTextContentForBrowser");var setInnerHTML=require("./setInnerHTML");var setTextContent=function(node,text){if(text){var firstChild=node.firstChild;if(firstChild&&firstChild===node.lastChild&&firstChild.nodeType===3){firstChild.nodeValue=text;return}}node.textContent=text};if(ExecutionEnvironment.canUseDOM){if(!("textContent"in document.documentElement)){setTextContent=function(node,text){setInnerHTML(node,escapeTextContentForBrowser(text))}}}module.exports=setTextContent},{"./escapeTextContentForBrowser":372,"./setInnerHTML":392,"fbjs/lib/ExecutionEnvironment":146}],394:[function(require,module,exports){"use strict";function shouldUpdateReactComponent(prevElement,nextElement){var prevEmpty=prevElement===null||prevElement===false;var nextEmpty=nextElement===null||nextElement===false;if(prevEmpty||nextEmpty){return prevEmpty===nextEmpty}var prevType=typeof prevElement;var nextType=typeof nextElement;if(prevType==="string"||prevType==="number"){return nextType==="string"||nextType==="number"}else{return nextType==="object"&&prevElement.type===nextElement.type&&prevElement.key===nextElement.key}}module.exports=shouldUpdateReactComponent},{}],395:[function(require,module,exports){(function(process){"use strict";var _prodInvariant=require("./reactProdInvariant");var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactElement=require("./ReactElement");var getIteratorFn=require("./getIteratorFn");var invariant=require("fbjs/lib/invariant");var KeyEscapeUtils=require("./KeyEscapeUtils");var warning=require("fbjs/lib/warning");var SEPARATOR=".";var SUBSEPARATOR=":";var didWarnAboutMaps=false;function getComponentKey(component,index){if(component&&typeof component==="object"&&component.key!=null){return KeyEscapeUtils.escape(component.key)}return index.toString(36)}function traverseAllChildrenImpl(children,nameSoFar,callback,traverseContext){var type=typeof children;if(type==="undefined"||type==="boolean"){children=null}if(children===null||type==="string"||type==="number"||ReactElement.isValidElement(children)){callback(traverseContext,children,nameSoFar===""?SEPARATOR+getComponentKey(children,0):nameSoFar);return 1}var child;var nextName;var subtreeCount=0;var nextNamePrefix=nameSoFar===""?SEPARATOR:nameSoFar+SUBSEPARATOR;if(Array.isArray(children)){for(var i=0;i<children.length;i++){child=children[i];nextName=nextNamePrefix+getComponentKey(child,i);subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext)}}else{var iteratorFn=getIteratorFn(children);if(iteratorFn){var iterator=iteratorFn.call(children);var step;if(iteratorFn!==children.entries){var ii=0;while(!(step=iterator.next()).done){child=step.value;nextName=nextNamePrefix+getComponentKey(child,ii++);subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext)}}else{if(process.env.NODE_ENV!=="production"){var mapsAsChildrenAddendum="";if(ReactCurrentOwner.current){var mapsAsChildrenOwnerName=ReactCurrentOwner.current.getName();if(mapsAsChildrenOwnerName){mapsAsChildrenAddendum=" Check the render method of `"+mapsAsChildrenOwnerName+"`."}}process.env.NODE_ENV!=="production"?warning(didWarnAboutMaps,"Using Maps as children is not yet fully supported. It is an "+"experimental feature that might be removed. Convert it to a "+"sequence / iterable of keyed ReactElements instead.%s",mapsAsChildrenAddendum):void 0;didWarnAboutMaps=true}while(!(step=iterator.next()).done){var entry=step.value;if(entry){child=entry[1];nextName=nextNamePrefix+KeyEscapeUtils.escape(entry[0])+SUBSEPARATOR+getComponentKey(child,0);subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext)}}}}else if(type==="object"){var addendum="";if(process.env.NODE_ENV!=="production"){addendum=" If you meant to render a collection of children, use an array "+"instead or wrap the object using createFragment(object) from the "+"React add-ons.";if(children._isReactElement){addendum=" It looks like you're using an element created by a different "+"version of React. Make sure to use only one copy of React."}if(ReactCurrentOwner.current){var name=ReactCurrentOwner.current.getName();if(name){addendum+=" Check the render method of `"+name+"`."}}}var childrenString=String(children);!false?process.env.NODE_ENV!=="production"?invariant(false,"Objects are not valid as a React child (found: %s).%s",childrenString==="[object Object]"?"object with keys {"+Object.keys(children).join(", ")+"}":childrenString,addendum):_prodInvariant("31",childrenString==="[object Object]"?"object with keys {"+Object.keys(children).join(", ")+"}":childrenString,addendum):void 0}}return subtreeCount}function traverseAllChildren(children,callback,traverseContext){if(children==null){return 0}return traverseAllChildrenImpl(children,"",callback,traverseContext)}module.exports=traverseAllChildren}).call(this,require("_process"))},{"./KeyEscapeUtils":277,"./ReactCurrentOwner":291,"./ReactElement":314,"./getIteratorFn":381,"./reactProdInvariant":390,_process:216,"fbjs/lib/invariant":180,"fbjs/lib/warning":192}],396:[function(require,module,exports){(function(process){"use strict";var _assign=require("object-assign");var emptyFunction=require("fbjs/lib/emptyFunction");var warning=require("fbjs/lib/warning");var validateDOMNesting=emptyFunction;if(process.env.NODE_ENV!=="production"){var specialTags=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"];var inScopeTags=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"];var buttonScopeTags=inScopeTags.concat(["button"]);var impliedEndTags=["dd","dt","li","option","optgroup","p","rp","rt"];var emptyAncestorInfo={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};var updatedAncestorInfo=function(oldInfo,tag,instance){var ancestorInfo=_assign({},oldInfo||emptyAncestorInfo);var info={tag:tag,instance:instance};if(inScopeTags.indexOf(tag)!==-1){ancestorInfo.aTagInScope=null;ancestorInfo.buttonTagInScope=null;ancestorInfo.nobrTagInScope=null}if(buttonScopeTags.indexOf(tag)!==-1){ancestorInfo.pTagInButtonScope=null}if(specialTags.indexOf(tag)!==-1&&tag!=="address"&&tag!=="div"&&tag!=="p"){ancestorInfo.listItemTagAutoclosing=null;ancestorInfo.dlItemTagAutoclosing=null}ancestorInfo.current=info;if(tag==="form"){ancestorInfo.formTag=info}if(tag==="a"){ancestorInfo.aTagInScope=info}if(tag==="button"){ancestorInfo.buttonTagInScope=info}if(tag==="nobr"){ancestorInfo.nobrTagInScope=info}if(tag==="p"){ancestorInfo.pTagInButtonScope=info}if(tag==="li"){ancestorInfo.listItemTagAutoclosing=info}if(tag==="dd"||tag==="dt"){ancestorInfo.dlItemTagAutoclosing=info}return ancestorInfo};var isTagValidWithParent=function(tag,parentTag){switch(parentTag){case"select":return tag==="option"||tag==="optgroup"||tag==="#text";case"optgroup":return tag==="option"||tag==="#text";case"option":return tag==="#text";case"tr":return tag==="th"||tag==="td"||tag==="style"||tag==="script"||tag==="template";case"tbody":case"thead":case"tfoot":return tag==="tr"||tag==="style"||tag==="script"||tag==="template";case"colgroup":return tag==="col"||tag==="template";case"table":return tag==="caption"||tag==="colgroup"||tag==="tbody"||tag==="tfoot"||tag==="thead"||tag==="style"||tag==="script"||tag==="template";case"head":return tag==="base"||tag==="basefont"||tag==="bgsound"||tag==="link"||tag==="meta"||tag==="title"||tag==="noscript"||tag==="noframes"||tag==="style"||tag==="script"||tag==="template";case"html":return tag==="head"||tag==="body";case"#document":return tag==="html"}switch(tag){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return parentTag!=="h1"&&parentTag!=="h2"&&parentTag!=="h3"&&parentTag!=="h4"&&parentTag!=="h5"&&parentTag!=="h6";case"rp":case"rt":return impliedEndTags.indexOf(parentTag)===-1;case"body":case"caption":case"col":case"colgroup":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return parentTag==null}return true};var findInvalidAncestorForTag=function(tag,ancestorInfo){switch(tag){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return ancestorInfo.pTagInButtonScope;case"form":return ancestorInfo.formTag||ancestorInfo.pTagInButtonScope;case"li":return ancestorInfo.listItemTagAutoclosing;case"dd":case"dt":return ancestorInfo.dlItemTagAutoclosing;case"button":return ancestorInfo.buttonTagInScope;case"a":return ancestorInfo.aTagInScope;case"nobr":return ancestorInfo.nobrTagInScope}return null};var findOwnerStack=function(instance){if(!instance){return[]}var stack=[];do{stack.push(instance)}while(instance=instance._currentElement._owner);stack.reverse();return stack};var didWarn={};validateDOMNesting=function(childTag,childText,childInstance,ancestorInfo){ancestorInfo=ancestorInfo||emptyAncestorInfo;var parentInfo=ancestorInfo.current;var parentTag=parentInfo&&parentInfo.tag;if(childText!=null){process.env.NODE_ENV!=="production"?warning(childTag==null,"validateDOMNesting: when childText is passed, childTag should be null"):void 0;childTag="#text"}var invalidParent=isTagValidWithParent(childTag,parentTag)?null:parentInfo;var invalidAncestor=invalidParent?null:findInvalidAncestorForTag(childTag,ancestorInfo);var problematic=invalidParent||invalidAncestor;if(problematic){var ancestorTag=problematic.tag;var ancestorInstance=problematic.instance;var childOwner=childInstance&&childInstance._currentElement._owner;var ancestorOwner=ancestorInstance&&ancestorInstance._currentElement._owner;var childOwners=findOwnerStack(childOwner);var ancestorOwners=findOwnerStack(ancestorOwner);var minStackLen=Math.min(childOwners.length,ancestorOwners.length);var i;var deepestCommon=-1;for(i=0;i<minStackLen;i++){if(childOwners[i]===ancestorOwners[i]){deepestCommon=i}else{break}}var UNKNOWN="(unknown)";var childOwnerNames=childOwners.slice(deepestCommon+1).map(function(inst){return inst.getName()||UNKNOWN});var ancestorOwnerNames=ancestorOwners.slice(deepestCommon+1).map(function(inst){return inst.getName()||UNKNOWN});var ownerInfo=[].concat(deepestCommon!==-1?childOwners[deepestCommon].getName()||UNKNOWN:[],ancestorOwnerNames,ancestorTag,invalidAncestor?["..."]:[],childOwnerNames,childTag).join(" > ");var warnKey=!!invalidParent+"|"+childTag+"|"+ancestorTag+"|"+ownerInfo;if(didWarn[warnKey]){return}didWarn[warnKey]=true;var tagDisplayName=childTag;var whitespaceInfo="";if(childTag==="#text"){if(/\S/.test(childText)){tagDisplayName="Text nodes"}else{tagDisplayName="Whitespace text nodes";whitespaceInfo=" Make sure you don't have any extra whitespace between tags on "+"each line of your source code."}}else{tagDisplayName="<"+childTag+">"}if(invalidParent){var info="";if(ancestorTag==="table"&&childTag==="tr"){info+=" Add a <tbody> to your code to match the DOM tree generated by "+"the browser."}process.env.NODE_ENV!=="production"?warning(false,"validateDOMNesting(...): %s cannot appear as a child of <%s>.%s "+"See %s.%s",tagDisplayName,ancestorTag,whitespaceInfo,ownerInfo,info):void 0}else{process.env.NODE_ENV!=="production"?warning(false,"validateDOMNesting(...): %s cannot appear as a descendant of "+"<%s>. See %s.",tagDisplayName,ancestorTag,ownerInfo):void 0}}};validateDOMNesting.updatedAncestorInfo=updatedAncestorInfo;validateDOMNesting.isTagValidInContext=function(tag,ancestorInfo){ancestorInfo=ancestorInfo||emptyAncestorInfo;var parentInfo=ancestorInfo.current;var parentTag=parentInfo&&parentInfo.tag;return isTagValidWithParent(tag,parentTag)&&!findInvalidAncestorForTag(tag,ancestorInfo)}}module.exports=validateDOMNesting}).call(this,require("_process"))},{_process:216,"fbjs/lib/emptyFunction":166,"fbjs/lib/warning":192,"object-assign":215}],397:[function(require,module,exports){"use strict";module.exports=require("./lib/React")},{"./lib/React":280}],398:[function(require,module,exports){"use strict";exports.__esModule=true;function createThunkMiddleware(extraArgument){return function(_ref){var dispatch=_ref.dispatch;var getState=_ref.getState;return function(next){return function(action){if(typeof action==="function"){return action(dispatch,getState,extraArgument)}return next(action)}}}}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;exports["default"]=thunk},{}],399:[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports["default"]=applyMiddleware;var _compose=require("./compose");var _compose2=_interopRequireDefault(_compose);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function applyMiddleware(){for(var _len=arguments.length,middlewares=Array(_len),_key=0;_key<_len;_key++){middlewares[_key]=arguments[_key]}return function(createStore){return function(reducer,preloadedState,enhancer){var store=createStore(reducer,preloadedState,enhancer);var _dispatch=store.dispatch;var chain=[];var middlewareAPI={getState:store.getState,dispatch:function dispatch(action){return _dispatch(action)}};chain=middlewares.map(function(middleware){return middleware(middlewareAPI)});_dispatch=_compose2["default"].apply(undefined,chain)(store.dispatch);return _extends({},store,{dispatch:_dispatch})}}}},{"./compose":402}],400:[function(require,module,exports){"use strict";exports.__esModule=true;exports["default"]=bindActionCreators;function bindActionCreator(actionCreator,dispatch){return function(){return dispatch(actionCreator.apply(undefined,arguments))}}function bindActionCreators(actionCreators,dispatch){if(typeof actionCreators==="function"){return bindActionCreator(actionCreators,dispatch)}if(typeof actionCreators!=="object"||actionCreators===null){throw new Error("bindActionCreators expected an object or a function, instead received "+(actionCreators===null?"null":typeof actionCreators)+". "+'Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?')}var keys=Object.keys(actionCreators);var boundActionCreators={};for(var i=0;i<keys.length;i++){var key=keys[i];var actionCreator=actionCreators[key];if(typeof actionCreator==="function"){boundActionCreators[key]=bindActionCreator(actionCreator,dispatch)}}return boundActionCreators}},{}],401:[function(require,module,exports){(function(process){"use strict";exports.__esModule=true;exports["default"]=combineReducers;var _createStore=require("./createStore");var _isPlainObject=require("lodash/isPlainObject");var _isPlainObject2=_interopRequireDefault(_isPlainObject);var _warning=require("./utils/warning");var _warning2=_interopRequireDefault(_warning);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getUndefinedStateErrorMessage(key,action){var actionType=action&&action.type;var actionName=actionType&&'"'+actionType.toString()+'"'||"an action";return"Given action "+actionName+', reducer "'+key+'" returned undefined. '+"To ignore an action, you must explicitly return the previous state."}function getUnexpectedStateShapeWarningMessage(inputState,reducers,action,unexpectedKeyCache){var reducerKeys=Object.keys(reducers);var argumentName=action&&action.type===_createStore.ActionTypes.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(reducerKeys.length===0){return"Store does not have a valid reducer. Make sure the argument passed "+"to combineReducers is an object whose values are reducers."}if(!(0,_isPlainObject2["default"])(inputState)){return"The "+argumentName+' has unexpected type of "'+{}.toString.call(inputState).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+reducerKeys.join('", "')+'"')}var unexpectedKeys=Object.keys(inputState).filter(function(key){return!reducers.hasOwnProperty(key)&&!unexpectedKeyCache[key]});unexpectedKeys.forEach(function(key){unexpectedKeyCache[key]=true});if(unexpectedKeys.length>0){return"Unexpected "+(unexpectedKeys.length>1?"keys":"key")+" "+('"'+unexpectedKeys.join('", "')+'" found in '+argumentName+". ")+"Expected to find one of the known reducer keys instead: "+('"'+reducerKeys.join('", "')+'". Unexpected keys will be ignored.')}}function assertReducerSanity(reducers){Object.keys(reducers).forEach(function(key){var reducer=reducers[key];var initialState=reducer(undefined,{type:_createStore.ActionTypes.INIT});if(typeof initialState==="undefined"){throw new Error('Reducer "'+key+'" returned undefined during initialization. '+"If the state passed to the reducer is undefined, you must "+"explicitly return the initial state. The initial state may "+"not be undefined.")}var type="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(typeof reducer(undefined,{type:type})==="undefined"){throw new Error('Reducer "'+key+'" returned undefined when probed with a random type. '+("Don't try to handle "+_createStore.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the "+"current state for any unknown actions, unless it is undefined, "+"in which case you must return the initial state, regardless of the "+"action type. The initial state may not be undefined.")}})}function combineReducers(reducers){var reducerKeys=Object.keys(reducers);var finalReducers={};for(var i=0;i<reducerKeys.length;i++){var key=reducerKeys[i];
if(process.env.NODE_ENV!=="production"){if(typeof reducers[key]==="undefined"){(0,_warning2["default"])('No reducer provided for key "'+key+'"')}}if(typeof reducers[key]==="function"){finalReducers[key]=reducers[key]}}var finalReducerKeys=Object.keys(finalReducers);if(process.env.NODE_ENV!=="production"){var unexpectedKeyCache={}}var sanityError;try{assertReducerSanity(finalReducers)}catch(e){sanityError=e}return function combination(){var state=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var action=arguments[1];if(sanityError){throw sanityError}if(process.env.NODE_ENV!=="production"){var warningMessage=getUnexpectedStateShapeWarningMessage(state,finalReducers,action,unexpectedKeyCache);if(warningMessage){(0,_warning2["default"])(warningMessage)}}var hasChanged=false;var nextState={};for(var i=0;i<finalReducerKeys.length;i++){var key=finalReducerKeys[i];var reducer=finalReducers[key];var previousStateForKey=state[key];var nextStateForKey=reducer(previousStateForKey,action);if(typeof nextStateForKey==="undefined"){var errorMessage=getUndefinedStateErrorMessage(key,action);throw new Error(errorMessage)}nextState[key]=nextStateForKey;hasChanged=hasChanged||nextStateForKey!==previousStateForKey}return hasChanged?nextState:state}}}).call(this,require("_process"))},{"./createStore":403,"./utils/warning":405,_process:216,"lodash/isPlainObject":212}],402:[function(require,module,exports){"use strict";exports.__esModule=true;exports["default"]=compose;function compose(){for(var _len=arguments.length,funcs=Array(_len),_key=0;_key<_len;_key++){funcs[_key]=arguments[_key]}if(funcs.length===0){return function(arg){return arg}}if(funcs.length===1){return funcs[0]}var last=funcs[funcs.length-1];var rest=funcs.slice(0,-1);return function(){return rest.reduceRight(function(composed,f){return f(composed)},last.apply(undefined,arguments))}}},{}],403:[function(require,module,exports){"use strict";exports.__esModule=true;exports.ActionTypes=undefined;exports["default"]=createStore;var _isPlainObject=require("lodash/isPlainObject");var _isPlainObject2=_interopRequireDefault(_isPlainObject);var _symbolObservable=require("symbol-observable");var _symbolObservable2=_interopRequireDefault(_symbolObservable);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ActionTypes=exports.ActionTypes={INIT:"@@redux/INIT"};function createStore(reducer,preloadedState,enhancer){var _ref2;if(typeof preloadedState==="function"&&typeof enhancer==="undefined"){enhancer=preloadedState;preloadedState=undefined}if(typeof enhancer!=="undefined"){if(typeof enhancer!=="function"){throw new Error("Expected the enhancer to be a function.")}return enhancer(createStore)(reducer,preloadedState)}if(typeof reducer!=="function"){throw new Error("Expected the reducer to be a function.")}var currentReducer=reducer;var currentState=preloadedState;var currentListeners=[];var nextListeners=currentListeners;var isDispatching=false;function ensureCanMutateNextListeners(){if(nextListeners===currentListeners){nextListeners=currentListeners.slice()}}function getState(){return currentState}function subscribe(listener){if(typeof listener!=="function"){throw new Error("Expected listener to be a function.")}var isSubscribed=true;ensureCanMutateNextListeners();nextListeners.push(listener);return function unsubscribe(){if(!isSubscribed){return}isSubscribed=false;ensureCanMutateNextListeners();var index=nextListeners.indexOf(listener);nextListeners.splice(index,1)}}function dispatch(action){if(!(0,_isPlainObject2["default"])(action)){throw new Error("Actions must be plain objects. "+"Use custom middleware for async actions.")}if(typeof action.type==="undefined"){throw new Error('Actions may not have an undefined "type" property. '+"Have you misspelled a constant?")}if(isDispatching){throw new Error("Reducers may not dispatch actions.")}try{isDispatching=true;currentState=currentReducer(currentState,action)}finally{isDispatching=false}var listeners=currentListeners=nextListeners;for(var i=0;i<listeners.length;i++){listeners[i]()}return action}function replaceReducer(nextReducer){if(typeof nextReducer!=="function"){throw new Error("Expected the nextReducer to be a function.")}currentReducer=nextReducer;dispatch({type:ActionTypes.INIT})}function observable(){var _ref;var outerSubscribe=subscribe;return _ref={subscribe:function subscribe(observer){if(typeof observer!=="object"){throw new TypeError("Expected the observer to be an object.")}function observeState(){if(observer.next){observer.next(getState())}}observeState();var unsubscribe=outerSubscribe(observeState);return{unsubscribe:unsubscribe}}},_ref[_symbolObservable2["default"]]=function(){return this},_ref}dispatch({type:ActionTypes.INIT});return _ref2={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:replaceReducer},_ref2[_symbolObservable2["default"]]=observable,_ref2}},{"lodash/isPlainObject":212,"symbol-observable":408}],404:[function(require,module,exports){(function(process){"use strict";exports.__esModule=true;exports.compose=exports.applyMiddleware=exports.bindActionCreators=exports.combineReducers=exports.createStore=undefined;var _createStore=require("./createStore");var _createStore2=_interopRequireDefault(_createStore);var _combineReducers=require("./combineReducers");var _combineReducers2=_interopRequireDefault(_combineReducers);var _bindActionCreators=require("./bindActionCreators");var _bindActionCreators2=_interopRequireDefault(_bindActionCreators);var _applyMiddleware=require("./applyMiddleware");var _applyMiddleware2=_interopRequireDefault(_applyMiddleware);var _compose=require("./compose");var _compose2=_interopRequireDefault(_compose);var _warning=require("./utils/warning");var _warning2=_interopRequireDefault(_warning);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isCrushed(){}if(process.env.NODE_ENV!=="production"&&typeof isCrushed.name==="string"&&isCrushed.name!=="isCrushed"){(0,_warning2["default"])("You are currently using minified code outside of NODE_ENV === 'production'. "+"This means that you are running a slower development build of Redux. "+"You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify "+"or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) "+"to ensure you have the correct code for your production build.")}exports.createStore=_createStore2["default"];exports.combineReducers=_combineReducers2["default"];exports.bindActionCreators=_bindActionCreators2["default"];exports.applyMiddleware=_applyMiddleware2["default"];exports.compose=_compose2["default"]}).call(this,require("_process"))},{"./applyMiddleware":399,"./bindActionCreators":400,"./combineReducers":401,"./compose":402,"./createStore":403,"./utils/warning":405,_process:216}],405:[function(require,module,exports){"use strict";exports.__esModule=true;exports["default"]=warning;function warning(message){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(message)}try{throw new Error(message)}catch(e){}}},{}],406:[function(require,module,exports){"use strict";var isAbsolute=function isAbsolute(pathname){return pathname.charAt(0)==="/"};var spliceOne=function spliceOne(list,index){for(var i=index,k=i+1,n=list.length;k<n;i+=1,k+=1){list[i]=list[k]}list.pop()};var resolvePathname=function resolvePathname(to){var from=arguments.length<=1||arguments[1]===undefined?"":arguments[1];var toParts=to&&to.split("/")||[];var fromParts=from&&from.split("/")||[];var isToAbs=to&&isAbsolute(to);var isFromAbs=from&&isAbsolute(from);var mustEndAbs=isToAbs||isFromAbs;if(to&&isAbsolute(to)){fromParts=toParts}else if(toParts.length){fromParts.pop();fromParts=fromParts.concat(toParts)}if(!fromParts.length)return"/";var hasTrailingSlash=void 0;if(fromParts.length){var last=fromParts[fromParts.length-1];hasTrailingSlash=last==="."||last===".."||last===""}else{hasTrailingSlash=false}var up=0;for(var i=fromParts.length;i>=0;i--){var part=fromParts[i];if(part==="."){spliceOne(fromParts,i)}else if(part===".."){spliceOne(fromParts,i);up++}else if(up){spliceOne(fromParts,i);up--}}if(!mustEndAbs)for(;up--;up){fromParts.unshift("..")}if(mustEndAbs&&fromParts[0]!==""&&(!fromParts[0]||!isAbsolute(fromParts[0])))fromParts.unshift("");var result=fromParts.join("/");if(hasTrailingSlash&&result.substr(-1)!=="/")result+="/";return result};module.exports=resolvePathname},{}],407:[function(require,module,exports){if(!String.prototype.repeat){(function(){"use strict";var defineProperty=function(){try{var object={};var $defineProperty=Object.defineProperty;var result=$defineProperty(object,object,object)&&$defineProperty}catch(error){}return result}();var repeat=function(count){if(this==null){throw TypeError()}var string=String(this);var n=count?Number(count):0;if(n!=n){n=0}if(n<0||n==Infinity){throw RangeError()}var result="";while(n){if(n%2==1){result+=string}if(n>1){string+=string}n>>=1}return result};if(defineProperty){defineProperty(String.prototype,"repeat",{value:repeat,configurable:true,writable:true})}else{String.prototype.repeat=repeat}})()}},{}],408:[function(require,module,exports){module.exports=require("./lib/index")},{"./lib/index":409}],409:[function(require,module,exports){(function(global){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _ponyfill=require("./ponyfill");var _ponyfill2=_interopRequireDefault(_ponyfill);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var root;if(typeof self!=="undefined"){root=self}else if(typeof window!=="undefined"){root=window}else if(typeof global!=="undefined"){root=global}else if(typeof module!=="undefined"){root=module}else{root=Function("return this")()}var result=(0,_ponyfill2["default"])(root);exports["default"]=result}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./ponyfill":410}],410:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=symbolObservablePonyfill;function symbolObservablePonyfill(root){var result;var _Symbol=root.Symbol;if(typeof _Symbol==="function"){if(_Symbol.observable){result=_Symbol.observable}else{result=_Symbol("observable");_Symbol.observable=result}}else{result="@@observable"}return result}},{}],411:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var EMPTY_ATTR_LIST=[];var NODE_TYPE_ELEMENT=exports.NODE_TYPE_ELEMENT=1;var NODE_TYPE_TEXT=exports.NODE_TYPE_TEXT=3;var NODE_TYPE_FRAGMENT=exports.NODE_TYPE_FRAGMENT=11;var SELF_CLOSING=exports.SELF_CLOSING={area:true,base:true,br:true,col:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true};var Node=exports.Node=function Node(){_classCallCheck(this,Node)};var TextNode=exports.TextNode=function(_Node){_inherits(TextNode,_Node);function TextNode(value){_classCallCheck(this,TextNode);var _this=_possibleConstructorReturn(this,(TextNode.__proto__||Object.getPrototypeOf(TextNode)).apply(this,arguments));_this.nodeType=NODE_TYPE_TEXT;_this.nodeName="#text";_this.nodeValue=value;return _this}_createClass(TextNode,[{key:"toString",value:function toString(){return escape(this.nodeValue)}}]);return TextNode}(Node);var ElementNode=exports.ElementNode=function(_Node2){_inherits(ElementNode,_Node2);function ElementNode(name,attributes,childNodes){_classCallCheck(this,ElementNode);var _this2=_possibleConstructorReturn(this,(ElementNode.__proto__||Object.getPrototypeOf(ElementNode)).apply(this,arguments));if(attributes==null){attributes=EMPTY_ATTR_LIST}var isSelfClosing=SELF_CLOSING[name]===true;_this2.nodeType=NODE_TYPE_ELEMENT;_this2.nodeName=name;_this2.attributes=attributes;_this2.attrMap=new Map(attributes.map(function(attr){return[attr.name,attr]}));_this2.childNodes=[];_this2.isSelfClosing=isSelfClosing;if(!isSelfClosing&&childNodes){childNodes.forEach(_this2.appendChild,_this2)}return _this2}_createClass(ElementNode,[{key:"appendChild",value:function appendChild(node){if(node.nodeType===NODE_TYPE_FRAGMENT){if(node.childNodes!=null){var _childNodes;var childNodes=node.childNodes;(_childNodes=this.childNodes).push.apply(_childNodes,_toConsumableArray(childNodes))}}else{this.childNodes.push(node)}}},{key:"getAttribute",value:function getAttribute(name){var attr=this.attrMap.get(name);if(attr){return attr.value}}},{key:"toString",value:function toString(isXHTML){var attributes=[];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=this.attributes[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _step$value=_step.value;var _name=_step$value.name;var _value=_step$value.value;attributes.push(_name+(_value?'="'+escapeAttr(_value)+'"':""))}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}var attrString=attributes.length?" "+attributes.join(" "):"";if(this.isSelfClosing){return"<"+this.nodeName+attrString+(isXHTML?"/>":">")}var childNodes=this.childNodes.map(function(node){return node.toString(isXHTML)}).join("");return"<"+this.nodeName+attrString+">"+childNodes+"</"+this.nodeName+">"}}]);return ElementNode}(Node);var FragmentNode=exports.FragmentNode=function(_Node3){_inherits(FragmentNode,_Node3);function FragmentNode(childNodes){_classCallCheck(this,FragmentNode);var _this3=_possibleConstructorReturn(this,(FragmentNode.__proto__||Object.getPrototypeOf(FragmentNode)).apply(this,arguments));_this3.nodeType=NODE_TYPE_FRAGMENT;_this3.childNodes=[];if(childNodes){childNodes.forEach(_this3.appendChild,_this3)}return _this3}_createClass(FragmentNode,[{key:"appendChild",value:function appendChild(node){if(node.nodeType===NODE_TYPE_FRAGMENT){if(node.childNodes!=null){var _childNodes2;var childNodes=node.childNodes;(_childNodes2=this.childNodes).push.apply(_childNodes2,_toConsumableArray(childNodes))}}else{this.childNodes.push(node)}}},{key:"toString",value:function toString(isXHTML){return this.childNodes.map(function(node){return node.toString(isXHTML)}).join("")}}]);return FragmentNode}(Node);function escape(html){return html.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function escapeAttr(html){return html.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}},{}],412:[function(require,module,exports){(function(process){var React=require("react");var t=require("tcomb-validation");function getMessage(errors,what,displayName,type){return["Invalid "+what+" supplied to "+displayName+", should be a "+t.getTypeName(type)+".\n","Detected errors ("+errors.length+"):\n"].concat(errors.map(function(e,i){return" "+(i+1)+". "+e.message})).join("\n")+"\n\n"}function getPropTypes(type,options){if(t.Object.is(type)){type=t.struct(type)}var isSubtype=type.meta.kind==="subtype";if(process.env.NODE_ENV!=="production"){t.assert(t.isType(type),"[tcomb-react] Invalid argument type supplied to propTypes()")}var propTypes={};var innerType=isSubtype?type.meta.type:type;if(innerType.meta.kind==="struct"||innerType.meta.kind==="interface"){var props=innerType.meta.props;Object.keys(props).forEach(function(k){var propType=props[k];var checkPropType;if(process.env.NODE_ENV!=="production"){checkPropType=function(values,prop,displayName){var value=values[prop];var validationResult=t.validate(value,propType);if(!validationResult.isValid()){var message=getMessage(validationResult.errors,"prop "+t.stringify(prop),displayName,propType);checkPropType.displayName=message;t.fail(message)}}}else{checkPropType=function(){}}checkPropType.tcomb=propType;propTypes[k]=checkPropType});if(process.env.NODE_ENV!=="production"){options=options||{};if(options.strict!==false){propTypes.__strict__=function(values,prop,displayName){var extra=[];for(var k in values){if(k!=="__strict__"&&k!=="__subtype__"&&values.hasOwnProperty(k)&&!props.hasOwnProperty(k)){extra.push(k)}}if(extra.length>0){t.fail("Invalid additional prop(s):\n\n"+t.stringify(extra)+"\n\nsupplied to "+displayName+".")}}}}}else{if(process.env.NODE_ENV!=="production"){propTypes.__generictype__=function(values,prop,displayName){var validationResult=t.validate(values,innerType);if(!validationResult.isValid()){t.fail(getMessage(validationResult.errors,"props",displayName,innerType))}}}}if(isSubtype){if(process.env.NODE_ENV!=="production"){propTypes.__subtype__=function(values,prop,displayName){if(!type.meta.predicate(values)){t.fail("Invalid props:\n\n"+t.stringify(values)+"\n\nsupplied to "+displayName+", should be a "+t.getTypeName(type)+" subtype.")}}}else{propTypes.__subtype__=function(){}}propTypes.__subtype__.predicate=type.meta.predicate}return propTypes}function es7PropsDecorator(type,options){return function(Component){Component.propTypes=getPropTypes(type,options)}}var ReactElement=t.irreducible("ReactElement",React.isValidElement);var ReactNode=t.irreducible("ReactNode",function(x){return t.Str.is(x)||t.Num.is(x)||ReactElement.is(x)||t.list(ReactNode).is(x)});var ReactChild=t.irreducible("ReactChild",function(x){return ReactNode.is(x)||t.Bool.is(x)||t.Nil.is(x)});var ReactChildren=t.irreducible("ReactChildren",function(x){return ReactChild.is(x)||t.list(ReactChildren).is(x)});t.ReactElement=ReactElement;t.ReactNode=ReactNode;t.ReactChild=ReactChild;t.ReactChildren=ReactChildren;module.exports={t:t,propTypes:getPropTypes,props:es7PropsDecorator,ReactElement:ReactElement,ReactNode:ReactNode,ReactChild:ReactChild,ReactChildren:ReactChildren,ReactElementT:ReactElement,ReactNodeT:ReactNode,ReactChildT:ReactChild,ReactChildrenT:ReactChildren}}).call(this,require("_process"))},{_process:216,react:397,"tcomb-validation":413}],413:[function(require,module,exports){"use strict";var t=require("tcomb");var stringify=t.stringify;var noobj={};var ValidationError=t.struct({message:t.String,actual:t.Any,expected:t.Any,path:t.list(t.union([t.String,t.Number]))},"ValidationError");function getDefaultValidationErrorMessage(actual,expected,path){var expectedName=t.getTypeName(expected);var to=path.length?"/"+path.join("/")+": "+expectedName:expectedName;return"Invalid value "+stringify(actual)+" supplied to "+to}function getValidationErrorMessage(actual,expected,path,context){if(t.Function.is(expected.getValidationErrorMessage)){return expected.getValidationErrorMessage(actual,path,context)}else{return getDefaultValidationErrorMessage(actual,expected,path)}}ValidationError.of=function(actual,expected,path,context){return new ValidationError({message:getValidationErrorMessage(actual,expected,path,context),actual:actual,expected:expected,path:path})};var ValidationResult=t.struct({errors:t.list(ValidationError),value:t.Any},"ValidationResult");ValidationResult.prototype.isValid=function(){return!this.errors.length};ValidationResult.prototype.firstError=function(){return this.isValid()?null:this.errors[0]};ValidationResult.prototype.toString=function(){if(this.isValid()){return"[ValidationResult, true, "+stringify(this.value)+"]"}else{return"[ValidationResult, false, ("+this.errors.map(function(err){return err.message}).join(", ")+")]"}};function validate(x,type,options){options=options||{};var path=t.Array.is(options)?options:options.path||[];return new ValidationResult(recurse(x,type,path,options))}function recurse(x,type,path,options){if(t.isType(type)){return validators[type.meta.kind](x,type,path,options)}else{return validators.es6classes(x,type,path,options)}}var validators=validate.validators={};validators.es6classes=function validateES6Classes(x,type,path,options){return{value:x,errors:x instanceof type?[]:[ValidationError.of(x,type,path,options.context)]}};validators.irreducible=validators.enums=function validateIrreducible(x,type,path,options){return{value:x,errors:type.is(x)?[]:[ValidationError.of(x,type,path,options.context)]}};validators.list=function validateList(x,type,path,options){if(!t.Array.is(x)){return{value:x,errors:[ValidationError.of(x,type,path,options.context)]}}var ret={value:[],errors:[]};for(var i=0,len=x.length;i<len;i++){var item=recurse(x[i],type.meta.type,path.concat(i),options);ret.value[i]=item.value;ret.errors=ret.errors.concat(item.errors)}return ret};validators.subtype=function validateSubtype(x,type,path,options){var ret=recurse(x,type.meta.type,path,options);if(ret.errors.length){return ret}if(!type.meta.predicate(ret.value)){ret.errors=[ValidationError.of(x,type,path,options.context)]}return ret};validators.maybe=function validateMaybe(x,type,path,options){return t.Nil.is(x)?{value:x,errors:[]}:recurse(x,type.meta.type,path,options)};validators.struct=function validateStruct(x,type,path,options){if(!t.Object.is(x)){return{value:x,errors:[ValidationError.of(x,type,path,options.context)]}}if(type.is(x)){return{value:x,errors:[]}}var ret={value:{},errors:[]};var props=type.meta.props;var defaultProps=type.meta.defaultProps||noobj;for(var name in props){if(props.hasOwnProperty(name)){var actual=x[name];if(actual===undefined){actual=defaultProps[name]}var prop=recurse(actual,props[name],path.concat(name),options);ret.value[name]=prop.value;ret.errors=ret.errors.concat(prop.errors)}}var strict=options.hasOwnProperty("strict")?options.strict:type.meta.strict;if(strict){for(var field in x){if(x.hasOwnProperty(field)&&!props.hasOwnProperty(field)){ret.errors.push(ValidationError.of(x[field],t.Nil,path.concat(field),options.context))}}}if(!ret.errors.length){ret.value=new type(ret.value)}return ret};validators.tuple=function validateTuple(x,type,path,options){var types=type.meta.types;var len=types.length;if(!t.Array.is(x)||x.length>len){return{value:x,errors:[ValidationError.of(x,type,path,options.context)]}}var ret={value:[],errors:[]};for(var i=0;i<len;i++){var item=recurse(x[i],types[i],path.concat(i),options);ret.value[i]=item.value;ret.errors=ret.errors.concat(item.errors)}return ret};validators.dict=function validateDict(x,type,path,options){if(!t.Object.is(x)){return{value:x,errors:[ValidationError.of(x,type,path,options.context)]}}var ret={value:{},errors:[]};for(var k in x){if(x.hasOwnProperty(k)){var subpath=path.concat(k);var key=recurse(k,type.meta.domain,subpath,options);var item=recurse(x[k],type.meta.codomain,subpath,options);ret.value[k]=item.value;ret.errors=ret.errors.concat(key.errors,item.errors)}}return ret};validators.union=function validateUnion(x,type,path,options){var ctor=type.dispatch(x);return t.Function.is(ctor)?recurse(x,ctor,path.concat(type.meta.types.indexOf(ctor)),options):{value:x,errors:[ValidationError.of(x,type,path,options.context)]}};validators.intersection=function validateIntersection(x,type,path,options){var types=type.meta.types;var len=types.length;var ret={value:x,errors:[]};var nrOfStructs=0;for(var i=0;i<len;i++){if(types[i].meta.kind==="struct"){nrOfStructs++}var item=recurse(x,types[i],path,options);ret.errors=ret.errors.concat(item.errors)}if(nrOfStructs>1){ret.errors.push(ValidationError.of(x,type,path,options.context))}return ret};validators["interface"]=function validateInterface(x,type,path,options){if(!t.Object.is(x)){return{value:x,errors:[ValidationError.of(x,type,path,options.context)]}}var ret={value:{},errors:[]};var props=type.meta.props;for(var name in props){var prop=recurse(x[name],props[name],path.concat(name),options);ret.value[name]=prop.value;ret.errors=ret.errors.concat(prop.errors)}var strict=options.hasOwnProperty("strict")?options.strict:type.meta.strict;if(strict){for(var field in x){if(!props.hasOwnProperty(field)&&!t.Nil.is(x[field])){ret.errors.push(ValidationError.of(x[field],t.Nil,path.concat(field),options.context))}}}return ret};t.mixin(t,{ValidationError:ValidationError,ValidationResult:ValidationResult,validate:validate});module.exports=t},{tcomb:414}],414:[function(require,module,exports){var t=require("./lib/assert");t.Any=require("./lib/Any");t.Array=require("./lib/Array");t.Boolean=require("./lib/Boolean");t.Date=require("./lib/Date");t.Error=require("./lib/Error");t.Function=require("./lib/Function");t.Nil=require("./lib/Nil");t.Number=require("./lib/Number");t.Integer=require("./lib/Integer");t.IntegerT=t.Integer;t.Object=require("./lib/Object");t.RegExp=require("./lib/RegExp");t.String=require("./lib/String");t.Type=require("./lib/Type");t.TypeT=t.Type;t.Arr=t.Array;t.Bool=t.Boolean;t.Dat=t.Date;t.Err=t.Error;t.Func=t.Function;t.Num=t.Number;t.Obj=t.Object;t.Re=t.RegExp;t.Str=t.String;t.dict=require("./lib/dict");t.declare=require("./lib/declare");t.enums=require("./lib/enums");t.irreducible=require("./lib/irreducible");t.list=require("./lib/list");t.maybe=require("./lib/maybe");t.refinement=require("./lib/refinement");t.struct=require("./lib/struct");t.tuple=require("./lib/tuple");t.union=require("./lib/union");t.func=require("./lib/func");t.intersection=require("./lib/intersection");t.subtype=t.refinement;t.inter=require("./lib/interface");t["interface"]=t.inter;t.assert=t;t.update=require("./lib/update");t.mixin=require("./lib/mixin");t.isType=require("./lib/isType");t.is=require("./lib/is");t.getTypeName=require("./lib/getTypeName");t.match=require("./lib/match");module.exports=t},{"./lib/Any":415,"./lib/Array":416,"./lib/Boolean":417,"./lib/Date":418,"./lib/Error":419,"./lib/Function":420,"./lib/Integer":421,"./lib/Nil":422,"./lib/Number":423,"./lib/Object":424,"./lib/RegExp":425,"./lib/String":426,"./lib/Type":427,"./lib/assert":428,"./lib/declare":431,"./lib/dict":433,"./lib/enums":434,"./lib/func":438,"./lib/getTypeName":441,"./lib/interface":442,"./lib/intersection":443,"./lib/irreducible":444,"./lib/is":445,"./lib/isType":457,"./lib/list":460,"./lib/match":461,"./lib/maybe":462,"./lib/mixin":463,"./lib/refinement":464,"./lib/struct":466,"./lib/tuple":467,"./lib/union":468,"./lib/update":469}],415:[function(require,module,exports){var irreducible=require("./irreducible");module.exports=irreducible("Any",function(){return true})},{"./irreducible":444}],416:[function(require,module,exports){var irreducible=require("./irreducible");var isArray=require("./isArray");module.exports=irreducible("Array",isArray)},{"./irreducible":444,"./isArray":446}],417:[function(require,module,exports){var irreducible=require("./irreducible");var isBoolean=require("./isBoolean");module.exports=irreducible("Boolean",isBoolean)},{"./irreducible":444,"./isBoolean":447}],418:[function(require,module,exports){var irreducible=require("./irreducible");module.exports=irreducible("Date",function(x){return x instanceof Date})},{"./irreducible":444}],419:[function(require,module,exports){var irreducible=require("./irreducible");module.exports=irreducible("Error",function(x){return x instanceof Error})},{"./irreducible":444}],420:[function(require,module,exports){var irreducible=require("./irreducible");var isFunction=require("./isFunction");module.exports=irreducible("Function",isFunction)},{"./irreducible":444,"./isFunction":448}],421:[function(require,module,exports){var refinement=require("./refinement");var Number=require("./Number");module.exports=refinement(Number,function(x){return x%1===0},"Integer")},{"./Number":423,"./refinement":464}],422:[function(require,module,exports){var irreducible=require("./irreducible");var isNil=require("./isNil");module.exports=irreducible("Nil",isNil)},{"./irreducible":444,"./isNil":452}],423:[function(require,module,exports){var irreducible=require("./irreducible");var isNumber=require("./isNumber");module.exports=irreducible("Number",isNumber)},{"./irreducible":444,"./isNumber":453}],424:[function(require,module,exports){var irreducible=require("./irreducible");var isObject=require("./isObject");module.exports=irreducible("Object",isObject)},{"./irreducible":444,"./isObject":454}],425:[function(require,module,exports){var irreducible=require("./irreducible");module.exports=irreducible("RegExp",function(x){return x instanceof RegExp})},{"./irreducible":444}],426:[function(require,module,exports){var irreducible=require("./irreducible");var isString=require("./isString");module.exports=irreducible("String",isString)},{"./irreducible":444,"./isString":455}],427:[function(require,module,exports){var irreducible=require("./irreducible");var isType=require("./isType");module.exports=irreducible("Type",isType)},{"./irreducible":444,"./isType":457}],428:[function(require,module,exports){var isFunction=require("./isFunction");var isNil=require("./isNil");var fail=require("./fail");var stringify=require("./stringify");function assert(guard,message){if(guard!==true){if(isFunction(message)){message=message()}else if(isNil(message)){message='Assert failed (turn on "Pause on exceptions" in your Source panel)'}assert.fail(message)}}assert.fail=fail;assert.stringify=stringify;module.exports=assert},{"./fail":436,"./isFunction":448,"./isNil":452,"./stringify":465}],429:[function(require,module,exports){function assign(x,y){for(var k in y){x[k]=y[k]}return x}module.exports=assign},{}],430:[function(require,module,exports){(function(process){var isType=require("./isType");var getFunctionName=require("./getFunctionName");var assert=require("./assert");var stringify=require("./stringify");module.exports=function create(type,value,path){if(isType(type)){return!type.meta.identity&&typeof value==="object"&&value!==null?new type(value,path):type(value,path)}if(process.env.NODE_ENV!=="production"){path=path||[getFunctionName(type)];assert(value instanceof type,function(){return"Invalid value "+stringify(value)+" supplied to "+path.join("/")})}return value}}).call(this,require("_process"))},{"./assert":428,"./getFunctionName":440,"./isType":457,"./stringify":465,_process:216}],431:[function(require,module,exports){(function(process){var assert=require("./assert");var isTypeName=require("./isTypeName");var isType=require("./isType");var isNil=require("./isNil");var mixin=require("./mixin");var getTypeName=require("./getTypeName");var isUnion=require("./isUnion");var nextDeclareUniqueId=1;module.exports=function declare(name){if(process.env.NODE_ENV!=="production"){assert(isTypeName(name),function(){return"Invalid argument name "+name+" supplied to declare([name]) (expected a string)"})}var type;function Declare(value,path){if(process.env.NODE_ENV!=="production"){assert(!isNil(type),function(){return"Type declared but not defined, don't forget to call .define on every declared type";
});if(isUnion(type)){assert(type.dispatch===Declare.dispatch,function(){return"Please define the custom "+name+".dispatch function before calling "+name+".define()"})}}return type(value,path)}Declare.define=function(spec){if(process.env.NODE_ENV!=="production"){assert(isType(spec),function(){return"Invalid argument type "+assert.stringify(spec)+" supplied to define(type) (expected a type)"});assert(isNil(type),function(){return"Declare.define(type) can only be invoked once"});assert(isNil(spec.meta.name)&&Object.keys(spec.prototype).length===0,function(){return"Invalid argument type "+assert.stringify(spec)+" supplied to define(type) (expected a fresh, unnamed type)"})}if(isUnion(spec)&&Declare.hasOwnProperty("dispatch")){spec.dispatch=Declare.dispatch}type=spec;mixin(Declare,type,true);if(name){type.displayName=Declare.displayName=name;Declare.meta.name=name}Declare.meta.identity=type.meta.identity;Declare.prototype=type.prototype;return Declare};Declare.displayName=name||getTypeName(Declare)+"$"+nextDeclareUniqueId++;Declare.meta={identity:false};Declare.prototype=null;return Declare}}).call(this,require("_process"))},{"./assert":428,"./getTypeName":441,"./isNil":452,"./isType":457,"./isTypeName":458,"./isUnion":459,"./mixin":463,_process:216}],432:[function(require,module,exports){var isType=require("./isType");function isRefinement(type){return isType(type)&&type.meta.kind==="subtype"}function getPredicates(type){return isRefinement(type)?[type.meta.predicate].concat(getPredicates(type.meta.type)):[]}function getUnrefinedType(type){return isRefinement(type)?getUnrefinedType(type.meta.type):type}function decompose(type){return{predicates:getPredicates(type),unrefinedType:getUnrefinedType(type)}}module.exports=decompose},{"./isType":457}],433:[function(require,module,exports){(function(process){var assert=require("./assert");var isTypeName=require("./isTypeName");var isFunction=require("./isFunction");var getTypeName=require("./getTypeName");var isIdentity=require("./isIdentity");var isObject=require("./isObject");var create=require("./create");var is=require("./is");function getDefaultName(domain,codomain){return"{[key: "+getTypeName(domain)+"]: "+getTypeName(codomain)+"}"}function dict(domain,codomain,name){if(process.env.NODE_ENV!=="production"){assert(isFunction(domain),function(){return"Invalid argument domain "+assert.stringify(domain)+" supplied to dict(domain, codomain, [name]) combinator (expected a type)"});assert(isFunction(codomain),function(){return"Invalid argument codomain "+assert.stringify(codomain)+" supplied to dict(domain, codomain, [name]) combinator (expected a type)"});assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to dict(domain, codomain, [name]) combinator (expected a string)"})}var displayName=name||getDefaultName(domain,codomain);var domainNameCache=getTypeName(domain);var codomainNameCache=getTypeName(codomain);var identity=isIdentity(domain)&&isIdentity(codomain);function Dict(value,path){if(process.env.NODE_ENV==="production"){if(identity){return value}}if(process.env.NODE_ENV!=="production"){path=path||[displayName];assert(isObject(value),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")})}var idempotent=true;var ret={};for(var k in value){if(value.hasOwnProperty(k)){k=create(domain,k,process.env.NODE_ENV!=="production"?path.concat(domainNameCache):null);var actual=value[k];var instance=create(codomain,actual,process.env.NODE_ENV!=="production"?path.concat(k+": "+codomainNameCache):null);idempotent=idempotent&&actual===instance;ret[k]=instance}}if(idempotent){ret=value}if(process.env.NODE_ENV!=="production"){Object.freeze(ret)}return ret}Dict.meta={kind:"dict",domain:domain,codomain:codomain,name:name,identity:identity};Dict.displayName=displayName;Dict.is=function(x){if(!isObject(x)){return false}for(var k in x){if(x.hasOwnProperty(k)){if(!is(k,domain)||!is(x[k],codomain)){return false}}}return true};Dict.update=function(instance,patch){return Dict(assert.update(instance,patch))};return Dict}dict.getDefaultName=getDefaultName;module.exports=dict}).call(this,require("_process"))},{"./assert":428,"./create":430,"./getTypeName":441,"./is":445,"./isFunction":448,"./isIdentity":449,"./isObject":454,"./isTypeName":458,_process:216}],434:[function(require,module,exports){(function(process){var assert=require("./assert");var isTypeName=require("./isTypeName");var forbidNewOperator=require("./forbidNewOperator");var isString=require("./isString");var isObject=require("./isObject");function getDefaultName(map){return Object.keys(map).map(function(k){return assert.stringify(k)}).join(" | ")}function enums(map,name){if(process.env.NODE_ENV!=="production"){assert(isObject(map),function(){return"Invalid argument map "+assert.stringify(map)+" supplied to enums(map, [name]) combinator (expected a dictionary of String -> String | Number)"});assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to enums(map, [name]) combinator (expected a string)"})}var displayName=name||getDefaultName(map);function Enums(value,path){if(process.env.NODE_ENV!=="production"){forbidNewOperator(this,Enums);path=path||[displayName];assert(Enums.is(value),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")+" (expected one of "+assert.stringify(Object.keys(map))+")"})}return value}Enums.meta={kind:"enums",map:map,name:name,identity:true};Enums.displayName=displayName;Enums.is=function(x){return map.hasOwnProperty(x)};return Enums}enums.of=function(keys,name){keys=isString(keys)?keys.split(" "):keys;var value={};keys.forEach(function(k){value[k]=k});return enums(value,name)};enums.getDefaultName=getDefaultName;module.exports=enums}).call(this,require("_process"))},{"./assert":428,"./forbidNewOperator":437,"./isObject":454,"./isString":455,"./isTypeName":458,_process:216}],435:[function(require,module,exports){(function(process){var assert=require("./assert");var isFunction=require("./isFunction");var isArray=require("./isArray");var mixin=require("./mixin");var isStruct=require("./isStruct");var isInterface=require("./isInterface");var isObject=require("./isObject");var refinement=require("./refinement");var decompose=require("./decompose");function compose(predicates,unrefinedType){return predicates.reduce(function(type,predicate){return refinement(type,predicate)},unrefinedType)}function getProps(type){return isObject(type)?type:type.meta.props}function getDefaultProps(type){return isObject(type)?null:type.meta.defaultProps}function pushAll(arr,elements){Array.prototype.push.apply(arr,elements)}function extend(combinator,mixins,options){if(process.env.NODE_ENV!=="production"){assert(isFunction(combinator),function(){return"Invalid argument combinator supplied to extend(combinator, mixins, options), expected a function"});assert(isArray(mixins),function(){return"Invalid argument mixins supplied to extend(combinator, mixins, options), expected an array"})}var props={};var prototype={};var predicates=[];var defaultProps={};mixins.forEach(function(x,i){var decomposition=decompose(x);var unrefinedType=decomposition.unrefinedType;if(process.env.NODE_ENV!=="production"){assert(isObject(unrefinedType)||isStruct(unrefinedType)||isInterface(unrefinedType),function(){return"Invalid argument mixins["+i+"] supplied to extend(combinator, mixins, options), expected an object, struct, interface or a refinement (of struct or interface)"})}pushAll(predicates,decomposition.predicates);mixin(props,getProps(unrefinedType));mixin(prototype,unrefinedType.prototype);mixin(defaultProps,getDefaultProps(unrefinedType),true)});options=combinator.getOptions(options);options.defaultProps=mixin(defaultProps,options.defaultProps,true);var result=compose(predicates,combinator(props,options));mixin(result.prototype,prototype);return result}module.exports=extend}).call(this,require("_process"))},{"./assert":428,"./decompose":432,"./isArray":446,"./isFunction":448,"./isInterface":450,"./isObject":454,"./isStruct":456,"./mixin":463,"./refinement":464,_process:216}],436:[function(require,module,exports){module.exports=function fail(message){throw new TypeError("[tcomb] "+message)}},{}],437:[function(require,module,exports){var assert=require("./assert");var getTypeName=require("./getTypeName");module.exports=function forbidNewOperator(x,type){assert(!(x instanceof type),function(){return"Cannot use the new operator to instantiate the type "+getTypeName(type)})}},{"./assert":428,"./getTypeName":441}],438:[function(require,module,exports){(function(process){var assert=require("./assert");var isTypeName=require("./isTypeName");var FunctionType=require("./Function");var isArray=require("./isArray");var list=require("./list");var isObject=require("./isObject");var create=require("./create");var isNil=require("./isNil");var isBoolean=require("./isBoolean");var tuple=require("./tuple");var getFunctionName=require("./getFunctionName");var getTypeName=require("./getTypeName");var isType=require("./isType");function getDefaultName(domain,codomain){return"("+domain.map(getTypeName).join(", ")+") => "+getTypeName(codomain)}function isInstrumented(f){return FunctionType.is(f)&&isObject(f.instrumentation)}function getOptionalArgumentsIndex(types){var end=types.length;var areAllMaybes=false;for(var i=end-1;i>=0;i--){var type=types[i];if(!isType(type)||type.meta.kind!=="maybe"){return i+1}else{areAllMaybes=true}}return areAllMaybes?0:end}function func(domain,codomain,name){domain=isArray(domain)?domain:[domain];if(process.env.NODE_ENV!=="production"){assert(list(FunctionType).is(domain),function(){return"Invalid argument domain "+assert.stringify(domain)+" supplied to func(domain, codomain, [name]) combinator (expected an array of types)"});assert(FunctionType.is(codomain),function(){return"Invalid argument codomain "+assert.stringify(codomain)+" supplied to func(domain, codomain, [name]) combinator (expected a type)"});assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to func(domain, codomain, [name]) combinator (expected a string)"})}var displayName=name||getDefaultName(domain,codomain);var domainLength=domain.length;var optionalArgumentsIndex=getOptionalArgumentsIndex(domain);function FuncType(value,path){if(!isInstrumented(value)){return FuncType.of(value)}if(process.env.NODE_ENV!=="production"){path=path||[displayName];assert(FuncType.is(value),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")})}return value}FuncType.meta={kind:"func",domain:domain,codomain:codomain,name:name,identity:true};FuncType.displayName=displayName;FuncType.is=function(x){return isInstrumented(x)&&x.instrumentation.domain.length===domainLength&&x.instrumentation.domain.every(function(type,i){return type===domain[i]})&&x.instrumentation.codomain===codomain};FuncType.of=function(f,curried){if(process.env.NODE_ENV!=="production"){assert(FunctionType.is(f),function(){return"Invalid argument f supplied to func.of "+displayName+" (expected a function)"});assert(isNil(curried)||isBoolean(curried),function(){return"Invalid argument curried "+assert.stringify(curried)+" supplied to func.of "+displayName+" (expected a boolean)"})}if(FuncType.is(f)){return f}function fn(){var args=Array.prototype.slice.call(arguments);var argsLength=args.length;if(process.env.NODE_ENV!=="production"){var tupleLength=curried?argsLength:Math.max(argsLength,optionalArgumentsIndex);tuple(domain.slice(0,tupleLength),"arguments of function "+displayName)(args)}if(curried&&argsLength<domainLength){if(process.env.NODE_ENV!=="production"){assert(argsLength>0,"Invalid arguments.length = 0 for curried function "+displayName)}var g=Function.prototype.bind.apply(f,[this].concat(args));var newDomain=func(domain.slice(argsLength),codomain);return newDomain.of(g,true)}else{return create(codomain,f.apply(this,args))}}fn.instrumentation={domain:domain,codomain:codomain,f:f};fn.displayName=getFunctionName(f);return fn};return FuncType}func.getDefaultName=getDefaultName;func.getOptionalArgumentsIndex=getOptionalArgumentsIndex;module.exports=func}).call(this,require("_process"))},{"./Function":420,"./assert":428,"./create":430,"./getFunctionName":440,"./getTypeName":441,"./isArray":446,"./isBoolean":447,"./isNil":452,"./isObject":454,"./isType":457,"./isTypeName":458,"./list":460,"./tuple":467,_process:216}],439:[function(require,module,exports){var getTypeName=require("./getTypeName");function getDefaultInterfaceName(props){return"{"+Object.keys(props).map(function(prop){return prop+": "+getTypeName(props[prop])}).join(", ")+"}"}module.exports=getDefaultInterfaceName},{"./getTypeName":441}],440:[function(require,module,exports){module.exports=function getFunctionName(f){return f.displayName||f.name||"<function"+f.length+">"}},{}],441:[function(require,module,exports){var isType=require("./isType");var getFunctionName=require("./getFunctionName");module.exports=function getTypeName(ctor){if(isType(ctor)){return ctor.displayName}return getFunctionName(ctor)}},{"./getFunctionName":440,"./isType":457}],442:[function(require,module,exports){(function(process){var assert=require("./assert");var isTypeName=require("./isTypeName");var String=require("./String");var Function=require("./Function");var isBoolean=require("./isBoolean");var isObject=require("./isObject");var isNil=require("./isNil");var create=require("./create");var getTypeName=require("./getTypeName");var dict=require("./dict");var getDefaultInterfaceName=require("./getDefaultInterfaceName");var isIdentity=require("./isIdentity");var is=require("./is");var extend=require("./extend");var assign=require("./assign");function extendInterface(mixins,name){return extend(inter,mixins,name)}function getOptions(options){if(!isObject(options)){options=isNil(options)?{}:{name:options}}if(!options.hasOwnProperty("strict")){options.strict=inter.strict}return options}function inter(props,options){options=getOptions(options);var name=options.name;var strict=options.strict;if(process.env.NODE_ENV!=="production"){assert(dict(String,Function).is(props),function(){return"Invalid argument props "+assert.stringify(props)+" supplied to interface(props, [options]) combinator (expected a dictionary String -> Type)"});assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to interface(props, [options]) combinator (expected a string)"});assert(isBoolean(strict),function(){return"Invalid argument strict "+assert.stringify(strict)+" supplied to struct(props, [options]) combinator (expected a boolean)"})}var displayName=name||getDefaultInterfaceName(props);var identity=Object.keys(props).map(function(prop){return props[prop]}).every(isIdentity);function Interface(value,path){if(process.env.NODE_ENV==="production"){if(identity){return value}}if(process.env.NODE_ENV!=="production"){path=path||[displayName];assert(!isNil(value),function(){return"Invalid value "+value+" supplied to "+path.join("/")});if(strict){for(var k in value){assert(props.hasOwnProperty(k),function(){return'Invalid additional prop "'+k+'" supplied to '+path.join("/")})}}}var idempotent=true;var ret=identity?{}:assign({},value);for(var prop in props){var expected=props[prop];var actual=value[prop];var instance=create(expected,actual,process.env.NODE_ENV!=="production"?path.concat(prop+": "+getTypeName(expected)):null);idempotent=idempotent&&actual===instance;ret[prop]=instance}if(idempotent){ret=value}if(process.env.NODE_ENV!=="production"){Object.freeze(ret)}return ret}Interface.meta={kind:"interface",props:props,name:name,identity:identity,strict:strict};Interface.displayName=displayName;Interface.is=function(x){if(isNil(x)){return false}if(strict){for(var k in x){if(!props.hasOwnProperty(k)){return false}}}for(var prop in props){if(!is(x[prop],props[prop])){return false}}return true};Interface.update=function(instance,patch){return Interface(assert.update(instance,patch))};Interface.extend=function(xs,name){return extendInterface([Interface].concat(xs),name)};return Interface}inter.strict=false;inter.getOptions=getOptions;inter.getDefaultName=getDefaultInterfaceName;inter.extend=extendInterface;module.exports=inter}).call(this,require("_process"))},{"./Function":420,"./String":426,"./assert":428,"./assign":429,"./create":430,"./dict":433,"./extend":435,"./getDefaultInterfaceName":439,"./getTypeName":441,"./is":445,"./isBoolean":447,"./isIdentity":449,"./isNil":452,"./isObject":454,"./isTypeName":458,_process:216}],443:[function(require,module,exports){(function(process){var assert=require("./assert");var isTypeName=require("./isTypeName");var isFunction=require("./isFunction");var isArray=require("./isArray");var forbidNewOperator=require("./isIdentity");var is=require("./is");var getTypeName=require("./getTypeName");var isIdentity=require("./isIdentity");function getDefaultName(types){return types.map(getTypeName).join(" & ")}function intersection(types,name){if(process.env.NODE_ENV!=="production"){assert(isArray(types)&&types.every(isFunction)&&types.length>=2,function(){return"Invalid argument types "+assert.stringify(types)+" supplied to intersection(types, [name]) combinator (expected an array of at least 2 types)"});assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to intersection(types, [name]) combinator (expected a string)"})}var displayName=name||getDefaultName(types);var identity=types.every(isIdentity);function Intersection(value,path){if(process.env.NODE_ENV!=="production"){if(identity){forbidNewOperator(this,Intersection)}path=path||[displayName];assert(Intersection.is(value),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")})}return value}Intersection.meta={kind:"intersection",types:types,name:name,identity:identity};Intersection.displayName=displayName;Intersection.is=function(x){return types.every(function(type){return is(x,type)})};Intersection.update=function(instance,patch){return Intersection(assert.update(instance,patch))};return Intersection}intersection.getDefaultName=getDefaultName;module.exports=intersection}).call(this,require("_process"))},{"./assert":428,"./getTypeName":441,"./is":445,"./isArray":446,"./isFunction":448,"./isIdentity":449,"./isTypeName":458,_process:216}],444:[function(require,module,exports){(function(process){var assert=require("./assert");var isString=require("./isString");var isFunction=require("./isFunction");var forbidNewOperator=require("./forbidNewOperator");module.exports=function irreducible(name,predicate){if(process.env.NODE_ENV!=="production"){assert(isString(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to irreducible(name, predicate) (expected a string)"});assert(isFunction(predicate),"Invalid argument predicate "+assert.stringify(predicate)+" supplied to irreducible(name, predicate) (expected a function)")}function Irreducible(value,path){if(process.env.NODE_ENV!=="production"){forbidNewOperator(this,Irreducible);path=path||[name];assert(predicate(value),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")})}return value}Irreducible.meta={kind:"irreducible",name:name,predicate:predicate,identity:true};Irreducible.displayName=name;Irreducible.is=predicate;return Irreducible}}).call(this,require("_process"))},{"./assert":428,"./forbidNewOperator":437,"./isFunction":448,"./isString":455,_process:216}],445:[function(require,module,exports){var isType=require("./isType");module.exports=function is(x,type){if(isType(type)){return type.is(x)}return x instanceof type}},{"./isType":457}],446:[function(require,module,exports){module.exports=function isArray(x){return Array.isArray?Array.isArray(x):x instanceof Array}},{}],447:[function(require,module,exports){module.exports=function isBoolean(x){return x===true||x===false}},{}],448:[function(require,module,exports){module.exports=function isFunction(x){return typeof x==="function"}},{}],449:[function(require,module,exports){(function(process){var assert=require("./assert");var Boolean=require("./Boolean");var isType=require("./isType");var getTypeName=require("./getTypeName");module.exports=function isIdentity(type){if(isType(type)){if(process.env.NODE_ENV!=="production"){assert(Boolean.is(type.meta.identity),function(){return"Invalid meta identity "+assert.stringify(type.meta.identity)+" supplied to type "+getTypeName(type)})}return type.meta.identity}return true}}).call(this,require("_process"))},{"./Boolean":417,"./assert":428,"./getTypeName":441,"./isType":457,_process:216}],450:[function(require,module,exports){var isType=require("./isType");module.exports=function isInterface(x){return isType(x)&&x.meta.kind==="interface"}},{"./isType":457}],451:[function(require,module,exports){var isType=require("./isType");module.exports=function isMaybe(x){return isType(x)&&x.meta.kind==="maybe"}},{"./isType":457}],452:[function(require,module,exports){module.exports=function isNil(x){return x===null||x===void 0}},{}],453:[function(require,module,exports){module.exports=function isNumber(x){return typeof x==="number"&&isFinite(x)&&!isNaN(x)}},{}],454:[function(require,module,exports){var isNil=require("./isNil");var isArray=require("./isArray");module.exports=function isObject(x){return!isNil(x)&&typeof x==="object"&&!isArray(x)}},{"./isArray":446,"./isNil":452}],455:[function(require,module,exports){module.exports=function isString(x){return typeof x==="string"}},{}],456:[function(require,module,exports){var isType=require("./isType");module.exports=function isStruct(x){return isType(x)&&x.meta.kind==="struct"}},{"./isType":457}],457:[function(require,module,exports){var isFunction=require("./isFunction");var isObject=require("./isObject");module.exports=function isType(x){return isFunction(x)&&isObject(x.meta)}},{"./isFunction":448,"./isObject":454}],458:[function(require,module,exports){var isNil=require("./isNil");var isString=require("./isString");module.exports=function isTypeName(name){return isNil(name)||isString(name)}},{"./isNil":452,"./isString":455}],459:[function(require,module,exports){var isType=require("./isType");module.exports=function isUnion(x){return isType(x)&&x.meta.kind==="union"}},{"./isType":457}],460:[function(require,module,exports){(function(process){var assert=require("./assert");var isTypeName=require("./isTypeName");var isFunction=require("./isFunction");var getTypeName=require("./getTypeName");var isIdentity=require("./isIdentity");var create=require("./create");var is=require("./is");var isArray=require("./isArray");function getDefaultName(type){return"Array<"+getTypeName(type)+">"}function list(type,name){if(process.env.NODE_ENV!=="production"){assert(isFunction(type),function(){return"Invalid argument type "+assert.stringify(type)+" supplied to list(type, [name]) combinator (expected a type)"});assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to list(type, [name]) combinator (expected a string)"})}var displayName=name||getDefaultName(type);var typeNameCache=getTypeName(type);var identity=isIdentity(type);function List(value,path){if(process.env.NODE_ENV==="production"){if(identity){return value}}if(process.env.NODE_ENV!=="production"){path=path||[displayName];assert(isArray(value),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")+" (expected an array of "+typeNameCache+")"})}var idempotent=true;var ret=[];for(var i=0,len=value.length;i<len;i++){var actual=value[i];var instance=create(type,actual,process.env.NODE_ENV!=="production"?path.concat(i+": "+typeNameCache):null);idempotent=idempotent&&actual===instance;ret.push(instance)}if(idempotent){ret=value}if(process.env.NODE_ENV!=="production"){Object.freeze(ret)}return ret}List.meta={kind:"list",type:type,name:name,identity:identity};List.displayName=displayName;List.is=function(x){return isArray(x)&&x.every(function(e){return is(e,type)})};List.update=function(instance,patch){return List(assert.update(instance,patch))};return List}list.getDefaultName=getDefaultName;module.exports=list}).call(this,require("_process"))},{"./assert":428,"./create":430,"./getTypeName":441,"./is":445,"./isArray":446,"./isFunction":448,"./isIdentity":449,"./isTypeName":458,_process:216}],461:[function(require,module,exports){(function(process){var assert=require("./assert");var isFunction=require("./isFunction");var isType=require("./isType");var Any=require("./Any");module.exports=function match(x){var type,guard,f,count;for(var i=1,len=arguments.length;i<len;){type=arguments[i];guard=arguments[i+1];f=arguments[i+2];if(isFunction(f)&&!isType(f)){i=i+3}else{f=guard;guard=Any.is;i=i+2}if(process.env.NODE_ENV!=="production"){count=(count||0)+1;assert(isType(type),function(){return"Invalid type in clause #"+count});assert(isFunction(guard),function(){return"Invalid guard in clause #"+count});assert(isFunction(f),function(){return"Invalid block in clause #"+count})}if(type.is(x)&&guard(x)){return f(x)}}assert.fail("Match error")}}).call(this,require("_process"))},{"./Any":415,"./assert":428,"./isFunction":448,"./isType":457,_process:216}],462:[function(require,module,exports){(function(process){var assert=require("./assert");var isTypeName=require("./isTypeName");var isFunction=require("./isFunction");var isMaybe=require("./isMaybe");var isIdentity=require("./isIdentity");var Any=require("./Any");var create=require("./create");var Nil=require("./Nil");var forbidNewOperator=require("./forbidNewOperator");var is=require("./is");var getTypeName=require("./getTypeName");function getDefaultName(type){return"?"+getTypeName(type)}function maybe(type,name){if(isMaybe(type)||type===Any||type===Nil){return type}if(process.env.NODE_ENV!=="production"){assert(isFunction(type),function(){return"Invalid argument type "+assert.stringify(type)+" supplied to maybe(type, [name]) combinator (expected a type)"});assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to maybe(type, [name]) combinator (expected a string)"})}var displayName=name||getDefaultName(type);var identity=isIdentity(type);function Maybe(value,path){if(process.env.NODE_ENV!=="production"){if(identity){forbidNewOperator(this,Maybe)}}return Nil.is(value)?value:create(type,value,path)}Maybe.meta={kind:"maybe",type:type,name:name,identity:identity};Maybe.displayName=displayName;Maybe.is=function(x){return Nil.is(x)||is(x,type)};return Maybe}maybe.getDefaultName=getDefaultName;module.exports=maybe}).call(this,require("_process"))},{"./Any":415,"./Nil":422,"./assert":428,"./create":430,"./forbidNewOperator":437,"./getTypeName":441,"./is":445,"./isFunction":448,"./isIdentity":449,"./isMaybe":451,"./isTypeName":458,_process:216}],463:[function(require,module,exports){(function(process){var isNil=require("./isNil");var assert=require("./assert");module.exports=function mixin(target,source,overwrite){if(isNil(source)){return target}for(var k in source){if(source.hasOwnProperty(k)){if(overwrite!==true){if(process.env.NODE_ENV!=="production"){assert(!target.hasOwnProperty(k)||target[k]===source[k],function(){return'Invalid call to mixin(target, source, [overwrite]): cannot overwrite property "'+k+'" of target object'})}}target[k]=source[k]}}return target}}).call(this,require("_process"))},{"./assert":428,"./isNil":452,_process:216}],464:[function(require,module,exports){(function(process){var assert=require("./assert");var isTypeName=require("./isTypeName");var isFunction=require("./isFunction");var forbidNewOperator=require("./forbidNewOperator");var isIdentity=require("./isIdentity");var create=require("./create");var is=require("./is");var getTypeName=require("./getTypeName");var getFunctionName=require("./getFunctionName");function getDefaultName(type,predicate){return"{"+getTypeName(type)+" | "+getFunctionName(predicate)+"}"}function refinement(type,predicate,name){if(process.env.NODE_ENV!=="production"){assert(isFunction(type),function(){return"Invalid argument type "+assert.stringify(type)+" supplied to refinement(type, predicate, [name]) combinator (expected a type)"});assert(isFunction(predicate),function(){return"Invalid argument predicate supplied to refinement(type, predicate, [name]) combinator (expected a function)"});assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to refinement(type, predicate, [name]) combinator (expected a string)"})}var displayName=name||getDefaultName(type,predicate);var identity=isIdentity(type);function Refinement(value,path){if(process.env.NODE_ENV!=="production"){if(identity){forbidNewOperator(this,Refinement)}path=path||[displayName]}var x=create(type,value,path);if(process.env.NODE_ENV!=="production"){assert(predicate(x),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")})}return x}Refinement.meta={kind:"subtype",type:type,predicate:predicate,name:name,identity:identity};Refinement.displayName=displayName;Refinement.is=function(x){return is(x,type)&&predicate(x)};Refinement.update=function(instance,patch){return Refinement(assert.update(instance,patch))};return Refinement}refinement.getDefaultName=getDefaultName;module.exports=refinement}).call(this,require("_process"))},{"./assert":428,"./create":430,"./forbidNewOperator":437,"./getFunctionName":440,"./getTypeName":441,"./is":445,"./isFunction":448,"./isIdentity":449,"./isTypeName":458,_process:216}],465:[function(require,module,exports){var getFunctionName=require("./getFunctionName");function replacer(key,value){if(typeof value==="function"){return getFunctionName(value)}return value}module.exports=function stringify(x){try{return JSON.stringify(x,replacer,2)}catch(e){return String(x)}}},{"./getFunctionName":440}],466:[function(require,module,exports){(function(process){var assert=require("./assert");var isTypeName=require("./isTypeName");var String=require("./String");var Function=require("./Function");var isBoolean=require("./isBoolean");var isObject=require("./isObject");var isNil=require("./isNil");var create=require("./create");var getTypeName=require("./getTypeName");var dict=require("./dict");var getDefaultInterfaceName=require("./getDefaultInterfaceName");var extend=require("./extend");function getDefaultName(props){return"Struct"+getDefaultInterfaceName(props)}function extendStruct(mixins,name){return extend(struct,mixins,name)}function getOptions(options){if(!isObject(options)){options=isNil(options)?{}:{name:options}}if(!options.hasOwnProperty("strict")){options.strict=struct.strict}if(!options.hasOwnProperty("defaultProps")){options.defaultProps={}}return options}function struct(props,options){options=getOptions(options);var name=options.name;var strict=options.strict;var defaultProps=options.defaultProps;if(process.env.NODE_ENV!=="production"){assert(dict(String,Function).is(props),function(){return"Invalid argument props "+assert.stringify(props)+" supplied to struct(props, [options]) combinator (expected a dictionary String -> Type)"});assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to struct(props, [options]) combinator (expected a string)"});assert(isBoolean(strict),function(){return"Invalid argument strict "+assert.stringify(strict)+" supplied to struct(props, [options]) combinator (expected a boolean)"});assert(isObject(defaultProps),function(){return"Invalid argument defaultProps "+assert.stringify(defaultProps)+" supplied to struct(props, [options]) combinator (expected an object)"})}var displayName=name||getDefaultName(props);function Struct(value,path){if(Struct.is(value)){return value}if(process.env.NODE_ENV!=="production"){path=path||[displayName];assert(isObject(value),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")+" (expected an object)";
});if(strict){for(k in value){if(value.hasOwnProperty(k)){assert(props.hasOwnProperty(k),function(){return'Invalid additional prop "'+k+'" supplied to '+path.join("/")})}}}}if(!(this instanceof Struct)){return new Struct(value,path)}for(var k in props){if(props.hasOwnProperty(k)){var expected=props[k];var actual=value[k];if(actual===undefined){actual=defaultProps[k]}this[k]=create(expected,actual,process.env.NODE_ENV!=="production"?path.concat(k+": "+getTypeName(expected)):null)}}if(process.env.NODE_ENV!=="production"){Object.freeze(this)}}Struct.meta={kind:"struct",props:props,name:name,identity:false,strict:strict,defaultProps:defaultProps};Struct.displayName=displayName;Struct.is=function(x){return x instanceof Struct};Struct.update=function(instance,patch){return new Struct(assert.update(instance,patch))};Struct.extend=function(xs,name){return extendStruct([Struct].concat(xs),name)};return Struct}struct.strict=false;struct.getOptions=getOptions;struct.getDefaultName=getDefaultName;struct.extend=extendStruct;module.exports=struct}).call(this,require("_process"))},{"./Function":420,"./String":426,"./assert":428,"./create":430,"./dict":433,"./extend":435,"./getDefaultInterfaceName":439,"./getTypeName":441,"./isBoolean":447,"./isNil":452,"./isObject":454,"./isTypeName":458,_process:216}],467:[function(require,module,exports){(function(process){var assert=require("./assert");var isTypeName=require("./isTypeName");var isFunction=require("./isFunction");var getTypeName=require("./getTypeName");var isIdentity=require("./isIdentity");var isArray=require("./isArray");var create=require("./create");var is=require("./is");function getDefaultName(types){return"["+types.map(getTypeName).join(", ")+"]"}function tuple(types,name){if(process.env.NODE_ENV!=="production"){assert(isArray(types)&&types.every(isFunction),function(){return"Invalid argument types "+assert.stringify(types)+" supplied to tuple(types, [name]) combinator (expected an array of types)"});assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to tuple(types, [name]) combinator (expected a string)"})}var displayName=name||getDefaultName(types);var identity=types.every(isIdentity);function Tuple(value,path){if(process.env.NODE_ENV==="production"){if(identity){return value}}if(process.env.NODE_ENV!=="production"){path=path||[displayName];assert(isArray(value)&&value.length===types.length,function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")+" (expected an array of length "+types.length+")"})}var idempotent=true;var ret=[];for(var i=0,len=types.length;i<len;i++){var expected=types[i];var actual=value[i];var instance=create(expected,actual,process.env.NODE_ENV!=="production"?path.concat(i+": "+getTypeName(expected)):null);idempotent=idempotent&&actual===instance;ret.push(instance)}if(idempotent){ret=value}if(process.env.NODE_ENV!=="production"){Object.freeze(ret)}return ret}Tuple.meta={kind:"tuple",types:types,name:name,identity:identity};Tuple.displayName=displayName;Tuple.is=function(x){return isArray(x)&&x.length===types.length&&types.every(function(type,i){return is(x[i],type)})};Tuple.update=function(instance,patch){return Tuple(assert.update(instance,patch))};return Tuple}tuple.getDefaultName=getDefaultName;module.exports=tuple}).call(this,require("_process"))},{"./assert":428,"./create":430,"./getTypeName":441,"./is":445,"./isArray":446,"./isFunction":448,"./isIdentity":449,"./isTypeName":458,_process:216}],468:[function(require,module,exports){(function(process){var assert=require("./assert");var isTypeName=require("./isTypeName");var isFunction=require("./isFunction");var getTypeName=require("./getTypeName");var isIdentity=require("./isIdentity");var isArray=require("./isArray");var create=require("./create");var is=require("./is");var forbidNewOperator=require("./forbidNewOperator");var isUnion=require("./isUnion");var isNil=require("./isNil");function getDefaultName(types){return types.map(getTypeName).join(" | ")}function union(types,name){if(process.env.NODE_ENV!=="production"){assert(isArray(types)&&types.every(isFunction)&&types.length>=2,function(){return"Invalid argument types "+assert.stringify(types)+" supplied to union(types, [name]) combinator (expected an array of at least 2 types)"});assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to union(types, [name]) combinator (expected a string)"})}var displayName=name||getDefaultName(types);var identity=types.every(isIdentity);function Union(value,path){if(process.env.NODE_ENV==="production"){if(identity){return value}}var type=Union.dispatch(value);if(!type&&Union.is(value)){return value}if(process.env.NODE_ENV!=="production"){if(identity){forbidNewOperator(this,Union)}path=path||[displayName];assert(isFunction(type),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")+" (no constructor returned by dispatch)"});path[path.length-1]+="("+getTypeName(type)+")"}return create(type,value,path)}Union.meta={kind:"union",types:types,name:name,identity:identity};Union.displayName=displayName;Union.is=function(x){return types.some(function(type){return is(x,type)})};Union.dispatch=function(x){for(var i=0,len=types.length;i<len;i++){var type=types[i];if(isUnion(type)){var t=type.dispatch(x);if(!isNil(t)){return t}}else if(is(x,type)){return type}}};Union.update=function(instance,patch){return Union(assert.update(instance,patch))};return Union}union.getDefaultName=getDefaultName;module.exports=union}).call(this,require("_process"))},{"./assert":428,"./create":430,"./forbidNewOperator":437,"./getTypeName":441,"./is":445,"./isArray":446,"./isFunction":448,"./isIdentity":449,"./isNil":452,"./isTypeName":458,"./isUnion":459,_process:216}],469:[function(require,module,exports){(function(process){var assert=require("./assert");var isObject=require("./isObject");var isFunction=require("./isFunction");var isArray=require("./isArray");var isNumber=require("./isNumber");var assign=require("./assign");function getShallowCopy(x){if(isObject(x)){if(x instanceof Date||x instanceof RegExp){return x}return assign({},x)}if(isArray(x)){return x.concat()}return x}function isCommand(k){return update.commands.hasOwnProperty(k)}function getCommand(k){return update.commands[k]}function update(instance,patch){if(process.env.NODE_ENV!=="production"){assert(isObject(patch),function(){return"Invalid argument patch "+assert.stringify(patch)+" supplied to function update(instance, patch): expected an object containing commands"})}var value=instance;var isChanged=false;var newValue;for(var k in patch){if(patch.hasOwnProperty(k)){if(isCommand(k)){newValue=getCommand(k)(patch[k],value);if(newValue!==instance){isChanged=true;value=newValue}else{value=instance}}else{if(value===instance){value=getShallowCopy(instance)}newValue=update(value[k],patch[k]);isChanged=isChanged||newValue!==value[k];value[k]=newValue}}}return isChanged?value:instance}function $apply(f,value){if(process.env.NODE_ENV!=="production"){assert(isFunction(f),"Invalid argument f supplied to immutability helper { $apply: f } (expected a function)")}return f(value)}function $push(elements,arr){if(process.env.NODE_ENV!=="production"){assert(isArray(elements),"Invalid argument elements supplied to immutability helper { $push: elements } (expected an array)");assert(isArray(arr),"Invalid value supplied to immutability helper $push (expected an array)")}if(elements.length>0){return arr.concat(elements)}return arr}function $remove(keys,obj){if(process.env.NODE_ENV!=="production"){assert(isArray(keys),"Invalid argument keys supplied to immutability helper { $remove: keys } (expected an array)");assert(isObject(obj),"Invalid value supplied to immutability helper $remove (expected an object)")}if(keys.length>0){obj=getShallowCopy(obj);for(var i=0,len=keys.length;i<len;i++){delete obj[keys[i]]}}return obj}function $set(value){return value}function $splice(splices,arr){if(process.env.NODE_ENV!=="production"){assert(isArray(splices)&&splices.every(isArray),"Invalid argument splices supplied to immutability helper { $splice: splices } (expected an array of arrays)");assert(isArray(arr),"Invalid value supplied to immutability helper $splice (expected an array)")}if(splices.length>0){arr=getShallowCopy(arr);return splices.reduce(function(acc,splice){acc.splice.apply(acc,splice);return acc},arr)}return arr}function $swap(config,arr){if(process.env.NODE_ENV!=="production"){assert(isObject(config),"Invalid argument config supplied to immutability helper { $swap: config } (expected an object)");assert(isNumber(config.from),"Invalid argument config.from supplied to immutability helper { $swap: config } (expected a number)");assert(isNumber(config.to),"Invalid argument config.to supplied to immutability helper { $swap: config } (expected a number)");assert(isArray(arr),"Invalid value supplied to immutability helper $swap (expected an array)")}if(config.from!==config.to){arr=getShallowCopy(arr);var element=arr[config.to];arr[config.to]=arr[config.from];arr[config.from]=element}return arr}function $unshift(elements,arr){if(process.env.NODE_ENV!=="production"){assert(isArray(elements),"Invalid argument elements supplied to immutability helper {$unshift: elements} (expected an array)");assert(isArray(arr),"Invalid value supplied to immutability helper $unshift (expected an array)")}if(elements.length>0){return elements.concat(arr)}return arr}function $merge(whatToMerge,value){var isChanged=false;var result=getShallowCopy(value);for(var k in whatToMerge){if(whatToMerge.hasOwnProperty(k)){result[k]=whatToMerge[k];isChanged=isChanged||result[k]!==value[k]}}return isChanged?result:value}update.commands={$apply:$apply,$push:$push,$remove:$remove,$set:$set,$splice:$splice,$swap:$swap,$unshift:$unshift,$merge:$merge};module.exports=update}).call(this,require("_process"))},{"./assert":428,"./assign":429,"./isArray":446,"./isFunction":448,"./isNumber":453,"./isObject":454,_process:216}],470:[function(require,module,exports){(function(window,undefined){"use strict";var LIBVERSION="0.7.10",EMPTY="",UNKNOWN="?",FUNC_TYPE="function",UNDEF_TYPE="undefined",OBJ_TYPE="object",STR_TYPE="string",MAJOR="major",MODEL="model",NAME="name",TYPE="type",VENDOR="vendor",VERSION="version",ARCHITECTURE="architecture",CONSOLE="console",MOBILE="mobile",TABLET="tablet",SMARTTV="smarttv",WEARABLE="wearable",EMBEDDED="embedded";var util={extend:function(regexes,extensions){for(var i in extensions){if("browser cpu device engine os".indexOf(i)!==-1&&extensions[i].length%2===0){regexes[i]=extensions[i].concat(regexes[i])}}return regexes},has:function(str1,str2){if(typeof str1==="string"){return str2.toLowerCase().indexOf(str1.toLowerCase())!==-1}else{return false}},lowerize:function(str){return str.toLowerCase()},major:function(version){return typeof version===STR_TYPE?version.split(".")[0]:undefined}};var mapper={rgx:function(){var result,i=0,j,k,p,q,matches,match,args=arguments;while(i<args.length&&!matches){var regex=args[i],props=args[i+1];if(typeof result===UNDEF_TYPE){result={};for(p in props){if(props.hasOwnProperty(p)){q=props[p];if(typeof q===OBJ_TYPE){result[q[0]]=undefined}else{result[q]=undefined}}}}j=k=0;while(j<regex.length&&!matches){matches=regex[j++].exec(this.getUA());if(!!matches){for(p=0;p<props.length;p++){match=matches[++k];q=props[p];if(typeof q===OBJ_TYPE&&q.length>0){if(q.length==2){if(typeof q[1]==FUNC_TYPE){result[q[0]]=q[1].call(this,match)}else{result[q[0]]=q[1]}}else if(q.length==3){if(typeof q[1]===FUNC_TYPE&&!(q[1].exec&&q[1].test)){result[q[0]]=match?q[1].call(this,match,q[2]):undefined}else{result[q[0]]=match?match.replace(q[1],q[2]):undefined}}else if(q.length==4){result[q[0]]=match?q[3].call(this,match.replace(q[1],q[2])):undefined}}else{result[q]=match?match:undefined}}}}i+=2}return result},str:function(str,map){for(var i in map){if(typeof map[i]===OBJ_TYPE&&map[i].length>0){for(var j=0;j<map[i].length;j++){if(util.has(map[i][j],str)){return i===UNKNOWN?undefined:i}}}else if(util.has(map[i],str)){return i===UNKNOWN?undefined:i}}return str}};var maps={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}};var regexes={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[NAME,VERSION],[/\s(opr)\/([\w\.]+)/i],[[NAME,"Opera"],VERSION],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[NAME,VERSION],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[NAME,"IE"],VERSION],[/(edge)\/((\d+)?[\w\.]+)/i],[NAME,VERSION],[/(yabrowser)\/([\w\.]+)/i],[[NAME,"Yandex"],VERSION],[/(comodo_dragon)\/([\w\.]+)/i],[[NAME,/_/g," "],VERSION],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[NAME,VERSION],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[[NAME,"UCBrowser"],VERSION],[/(dolfin)\/([\w\.]+)/i],[[NAME,"Dolphin"],VERSION],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[NAME,"Chrome"],VERSION],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[VERSION,[NAME,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[VERSION,[NAME,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[VERSION,[NAME,"Facebook"]],[/fxios\/([\w\.-]+)/i],[VERSION,[NAME,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[VERSION,[NAME,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[VERSION,NAME],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[NAME,[VERSION,mapper.str,maps.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[NAME,VERSION],[/(navigator|netscape)\/([\w\.-]+)/i],[[NAME,"Netscape"],VERSION],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[NAME,VERSION]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[ARCHITECTURE,"amd64"]],[/(ia32(?=;))/i],[[ARCHITECTURE,util.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[ARCHITECTURE,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[ARCHITECTURE,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[ARCHITECTURE,/ower/,"",util.lowerize]],[/(sun4\w)[;\)]/i],[[ARCHITECTURE,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[ARCHITECTURE,util.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[MODEL,VENDOR,[TYPE,TABLET]],[/applecoremedia\/[\w\.]+ \((ipad)/],[MODEL,[VENDOR,"Apple"],[TYPE,TABLET]],[/(apple\s{0,1}tv)/i],[[MODEL,"Apple TV"],[VENDOR,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[VENDOR,MODEL,[TYPE,TABLET]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[MODEL,[VENDOR,"Amazon"],[TYPE,TABLET]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[MODEL,mapper.str,maps.device.amazon.model],[VENDOR,"Amazon"],[TYPE,MOBILE]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[MODEL,VENDOR,[TYPE,MOBILE]],[/\((ip[honed|\s\w*]+);/i],[MODEL,[VENDOR,"Apple"],[TYPE,MOBILE]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/\(bb10;\s(\w+)/i],[MODEL,[VENDOR,"BlackBerry"],[TYPE,MOBILE]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[MODEL,[VENDOR,"Asus"],[TYPE,TABLET]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[VENDOR,"Sony"],[MODEL,"Xperia Tablet"],[TYPE,TABLET]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[VENDOR,"Sony"],[MODEL,"Xperia Phone"],[TYPE,MOBILE]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[VENDOR,MODEL,[TYPE,CONSOLE]],[/android.+;\s(shield)\sbuild/i],[MODEL,[VENDOR,"Nvidia"],[TYPE,CONSOLE]],[/(playstation\s[34portablevi]+)/i],[MODEL,[VENDOR,"Sony"],[TYPE,CONSOLE]],[/(sprint\s(\w+))/i],[[VENDOR,mapper.str,maps.device.sprint.vendor],[MODEL,mapper.str,maps.device.sprint.model],[TYPE,MOBILE]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[VENDOR,MODEL,[TYPE,TABLET]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[VENDOR,[MODEL,/_/g," "],[TYPE,MOBILE]],[/(nexus\s9)/i],[MODEL,[VENDOR,"HTC"],[TYPE,TABLET]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[MODEL,[VENDOR,"Microsoft"],[TYPE,CONSOLE]],[/(kin\.[onetw]{3})/i],[[MODEL,/\./g," "],[VENDOR,"Microsoft"],[TYPE,MOBILE]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s[6])/i],[MODEL,[VENDOR,"Motorola"],[TYPE,MOBILE]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[MODEL,[VENDOR,"Motorola"],[TYPE,TABLET]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[VENDOR,"Samsung"],MODEL,[TYPE,TABLET]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[VENDOR,"Samsung"],MODEL,[TYPE,MOBILE]],[/(samsung);smarttv/i],[VENDOR,MODEL,[TYPE,SMARTTV]],[/\(dtv[\);].+(aquos)/i],[MODEL,[VENDOR,"Sharp"],[TYPE,SMARTTV]],[/sie-(\w+)*/i],[MODEL,[VENDOR,"Siemens"],[TYPE,MOBILE]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[VENDOR,"Nokia"],MODEL,[TYPE,MOBILE]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[MODEL,[VENDOR,"Acer"],[TYPE,TABLET]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[VENDOR,"LG"],MODEL,[TYPE,TABLET]],[/(lg) netcast\.tv/i],[VENDOR,MODEL,[TYPE,SMARTTV]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[MODEL,[VENDOR,"LG"],[TYPE,MOBILE]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[MODEL,[VENDOR,"Lenovo"],[TYPE,TABLET]],[/linux;.+((jolla));/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/((pebble))app\/[\d\.]+\s/i],[VENDOR,MODEL,[TYPE,WEARABLE]],[/android.+;\s(glass)\s\d/i],[MODEL,[VENDOR,"Google"],[TYPE,WEARABLE]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[MODEL,/_/g," "],[VENDOR,"Xiaomi"],[TYPE,MOBILE]],[/\s(tablet)[;\/\s]/i,/\s(mobile)[;\/\s]/i],[[TYPE,util.lowerize],VENDOR,MODEL]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[VERSION,[NAME,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[NAME,VERSION],[/rv\:([\w\.]+).*(gecko)/i],[VERSION,NAME]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[NAME,VERSION],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[NAME,[VERSION,mapper.str,maps.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[NAME,"Windows"],[VERSION,mapper.str,maps.os.windows.version]],[/\((bb)(10);/i],[[NAME,"BlackBerry"],VERSION],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[NAME,VERSION],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[NAME,"Symbian"],VERSION],[/\((series40);/i],[NAME],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[NAME,"Firefox OS"],VERSION],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[NAME,VERSION],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[NAME,"Chromium OS"],VERSION],[/(sunos)\s?([\w\.]+\d)*/i],[[NAME,"Solaris"],VERSION],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[NAME,VERSION],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[NAME,"iOS"],[VERSION,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[NAME,"Mac OS"],[VERSION,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[NAME,VERSION]]};var UAParser=function(uastring,extensions){if(!(this instanceof UAParser)){return new UAParser(uastring,extensions).getResult()}var ua=uastring||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:EMPTY);var rgxmap=extensions?util.extend(regexes,extensions):regexes;this.getBrowser=function(){var browser=mapper.rgx.apply(this,rgxmap.browser);browser.major=util.major(browser.version);return browser};this.getCPU=function(){return mapper.rgx.apply(this,rgxmap.cpu)};this.getDevice=function(){return mapper.rgx.apply(this,rgxmap.device)};this.getEngine=function(){return mapper.rgx.apply(this,rgxmap.engine)};this.getOS=function(){return mapper.rgx.apply(this,rgxmap.os)};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return ua};this.setUA=function(uastring){ua=uastring;return this};this.setUA(ua);return this};UAParser.VERSION=LIBVERSION;UAParser.BROWSER={NAME:NAME,MAJOR:MAJOR,VERSION:VERSION};UAParser.CPU={ARCHITECTURE:ARCHITECTURE};UAParser.DEVICE={MODEL:MODEL,VENDOR:VENDOR,TYPE:TYPE,CONSOLE:CONSOLE,MOBILE:MOBILE,SMARTTV:SMARTTV,TABLET:TABLET,WEARABLE:WEARABLE,EMBEDDED:EMBEDDED};UAParser.ENGINE={NAME:NAME,VERSION:VERSION};UAParser.OS={NAME:NAME,VERSION:VERSION};if(typeof exports!==UNDEF_TYPE){if(typeof module!==UNDEF_TYPE&&module.exports){exports=module.exports=UAParser}exports.UAParser=UAParser}else{if(typeof define===FUNC_TYPE&&define.amd){define(function(){return UAParser})}else{window.UAParser=UAParser}}var $=window.jQuery||window.Zepto;if(typeof $!==UNDEF_TYPE){var parser=new UAParser;$.ua=parser.getResult();$.ua.get=function(){return parser.getUA()};$.ua.set=function(uastring){parser.setUA(uastring);var result=parser.getResult();for(var prop in result){$.ua[prop]=result[prop]}}}})(typeof window==="object"?window:this)},{}],471:[function(require,module,exports){(function(process){"use strict";var warning=function(){};if(process.env.NODE_ENV!=="production"){warning=function(condition,format,args){var len=arguments.length;args=new Array(len>2?len-2:0);for(var key=2;key<len;key++){args[key-2]=arguments[key]}if(format===undefined){throw new Error("`warning(condition, format, ...args)` requires a warning "+"message argument")}if(format.length<10||/^[s\W]*$/.test(format)){throw new Error("The warning format should be able to uniquely identify this "+"warning. Please, use a more descriptive format than: "+format)}if(!condition){var argIndex=0;var message="Warning: "+format.replace(/%s/g,function(){return args[argIndex++]});if(typeof console!=="undefined"){console.error(message)}try{throw new Error(message)}catch(x){}}}}module.exports=warning}).call(this,require("_process"))},{_process:216}],472:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=require("react");var _react2=_interopRequireDefault(_react);var _draftJs=require("draft-js");var _draftJsExportHtml=require("draft-js-export-html");var _draftJsImportHtml=require("draft-js-import-html");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DraftEditor=function(_React$Component){_inherits(DraftEditor,_React$Component);function DraftEditor(props){_classCallCheck(this,DraftEditor);var _this=_possibleConstructorReturn(this,(DraftEditor.__proto__||Object.getPrototypeOf(DraftEditor)).call(this,props));var content={};if(props.type=="html"){content=(0,_draftJsImportHtml.stateFromHTML)(props.content)}_this.state={editorState:_draftJs.EditorState.createWithContent(content)};_this.onChange=function(editorState){_this.setState({editorState:editorState});if(props.type=="html"){props.onChange((0,_draftJsExportHtml.stateToHTML)(editorState.getCurrentContent()))}};_this.focus=function(){return _this.refs.editor.focus()};_this.handleKeyCommand=function(command){return _this._handleKeyCommand(command)};_this.onTab=function(e){return _this._onTab(e)};_this.toggleBlockType=function(type){return _this._toggleBlockType(type)};_this.toggleInlineStyle=function(style){return _this._toggleInlineStyle(style)};return _this}_createClass(DraftEditor,[{key:"_handleKeyCommand",value:function _handleKeyCommand(command){var editorState=this.state.editorState;var newState=_draftJs.RichUtils.handleKeyCommand(editorState,command);if(newState){this.onChange(newState);return true}return false}},{key:"_onTab",value:function _onTab(e){var maxDepth=4;this.onChange(_draftJs.RichUtils.onTab(e,this.state.editorState,maxDepth))}},{key:"_toggleBlockType",value:function _toggleBlockType(blockType){this.onChange(_draftJs.RichUtils.toggleBlockType(this.state.editorState,blockType))}},{key:"_toggleInlineStyle",value:function _toggleInlineStyle(inlineStyle){this.onChange(_draftJs.RichUtils.toggleInlineStyle(this.state.editorState,inlineStyle))}},{key:"render",value:function render(){var editorState=this.state.editorState;var className="RichEditor-editor";var contentState=editorState.getCurrentContent();if(!contentState.hasText()){if(contentState.getBlockMap().first().getType()!=="unstyled"){className+=" RichEditor-hidePlaceholder"}}return _react2.default.createElement("div",{className:"RichEditor-root"},_react2.default.createElement(BlockStyleControls,{editorState:editorState,onToggle:this.toggleBlockType}),_react2.default.createElement(InlineStyleControls,{editorState:editorState,onToggle:this.toggleInlineStyle}),_react2.default.createElement("div",{className:className,onClick:this.focus},_react2.default.createElement(_draftJs.Editor,{blockStyleFn:getBlockStyle,customStyleMap:styleMap,editorState:editorState,handleKeyCommand:this.handleKeyCommand,onChange:this.onChange,onTab:this.onTab,placeholder:"Tell a story...",ref:"editor",spellCheck:true})))}}]);return DraftEditor}(_react2.default.Component);exports.default=DraftEditor;var styleMap={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};function getBlockStyle(block){switch(block.getType()){case"blockquote":return"RichEditor-blockquote";default:return null}}var StyleButton=function(_React$Component2){_inherits(StyleButton,_React$Component2);function StyleButton(){_classCallCheck(this,StyleButton);var _this2=_possibleConstructorReturn(this,(StyleButton.__proto__||Object.getPrototypeOf(StyleButton)).call(this));_this2.onToggle=function(e){e.preventDefault();_this2.props.onToggle(_this2.props.style)};return _this2}_createClass(StyleButton,[{key:"render",value:function render(){var className="RichEditor-styleButton";if(this.props.active){className+=" RichEditor-activeButton"}return _react2.default.createElement("span",{className:className,onMouseDown:this.onToggle},this.props.label)}}]);return StyleButton}(_react2.default.Component);var BLOCK_TYPES=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"Blockquote",style:"blockquote"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"},{label:"Code Block",style:"code-block"}];var BlockStyleControls=function BlockStyleControls(props){var editorState=props.editorState;var selection=editorState.getSelection();var blockType=editorState.getCurrentContent().getBlockForKey(selection.getStartKey()).getType();return _react2.default.createElement("div",{className:"RichEditor-controls"},BLOCK_TYPES.map(function(type){return _react2.default.createElement(StyleButton,{key:type.label,active:type.style===blockType,label:type.label,onToggle:props.onToggle,style:type.style})}))};var INLINE_STYLES=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Monospace",style:"CODE"}];var InlineStyleControls=function InlineStyleControls(props){var currentStyle=props.editorState.getCurrentInlineStyle();return _react2.default.createElement("div",{className:"RichEditor-controls"},INLINE_STYLES.map(function(type){return _react2.default.createElement(StyleButton,{key:type.label,active:currentStyle.has(type.style),label:type.label,onToggle:props.onToggle,style:type.style})}))}},{"draft-js":45,"draft-js-export-html":21,"draft-js-import-html":26,react:397}],473:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactRedux=require("react-redux");var _reactTreeview=require("react-treeview");var _reactTreeview2=_interopRequireDefault(_reactTreeview);var _classnames=require("classnames");var _classnames2=_interopRequireDefault(_classnames);var _files=require("../state/files");var _nav=require("../state/nav");var _intro=require("./intro");var _intro2=_interopRequireDefault(_intro);var _draftEditor=require("./draft-editor");var _draftEditor2=_interopRequireDefault(_draftEditor);var _mdEditor=require("./md-editor");var _mdEditor2=_interopRequireDefault(_mdEditor);var _jsonEditor=require("./json-editor");
var _jsonEditor2=_interopRequireDefault(_jsonEditor);var _simpleEditor=require("./simple-editor");var _simpleEditor2=_interopRequireDefault(_simpleEditor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}exports.default=(0,_reactRedux.connect)(function(state){return state})(function(_React$Component){_inherits(Editor,_React$Component);function Editor(){_classCallCheck(this,Editor);return _possibleConstructorReturn(this,(Editor.__proto__||Object.getPrototypeOf(Editor)).apply(this,arguments))}_createClass(Editor,[{key:"onChange",value:function onChange(data){this.props.dispatch((0,_files.updateCurrentFile)(data));this.props.dispatch((0,_nav.setSidebarActiveStatus)(false))}},{key:"render",value:function render(){var _this2=this;var file=this.props.file.get("path").split("/").pop();var extension=file.split(".").length>1?file.split(".").pop():false;var dotfile=/^\./.test(file);var chooseEditor=function chooseEditor(){switch(true){case/.(jpe?g|png|psd|tift?|gif|svg)$/.test(file):return _react2.default.createElement("div",{className:"st-image-preview"},_react2.default.createElement("img",{src:_files.ROOT+_this2.props.file.get("path")}));case/.(md)$/.test(file):return _react2.default.createElement(_mdEditor2.default,{key:_this2.props.file.get("path"),content:_this2.props.file.get("data"),onChange:function onChange(data){return _this2.onChange(data)}});case/.(html)$/.test(file):return _react2.default.createElement(_draftEditor2.default,{key:_this2.props.file.get("path"),content:_this2.props.file.get("data"),type:extension,onChange:function onChange(data){return _this2.onChange(data)}});case/cues.json$/.test(file):return _react2.default.createElement("div",null," Rune's Cue Editor ");case/.json$/.test(file):return _react2.default.createElement(_jsonEditor2.default,{key:_this2.props.file.get("path"),content:_this2.props.file.get("data"),onChange:function onChange(data){return _this2.onChange(data)}});case file.length>0:var mono=!extension||dotfile||["sh","js","css","scss","conf"].indexOf(extension)>-1;return _react2.default.createElement(_simpleEditor2.default,{key:_this2.props.file.get("path"),monospaced:mono,content:_this2.props.file.get("data"),onChange:function onChange(data){return _this2.onChange(data)}})}return _react2.default.createElement(_intro2.default,null)};var editorClass=(0,_classnames2.default)("st-editor",{"st-editor-expanded":!this.props.Nav.get("sidebarActiveStatus")});return _react2.default.createElement("div",{className:editorClass},_react2.default.createElement("h1",null,file||"Welcome"),_react2.default.createElement("div",{className:"st-editor-area"},chooseEditor()))}}]);return Editor}(_react2.default.Component))},{"../state/files":482,"../state/nav":484,"./draft-editor":472,"./intro":475,"./json-editor":476,"./md-editor":477,"./simple-editor":478,classnames:2,react:397,"react-redux":249,"react-treeview":254}],474:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.File=exports.Folder=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactRedux=require("react-redux");var _reactTreeview=require("react-treeview");var _reactTreeview2=_interopRequireDefault(_reactTreeview);var _classnames=require("classnames");var _classnames2=_interopRequireDefault(_classnames);var _nav=require("../state/nav");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}exports.default=(0,_reactRedux.connect)(function(state){return state})(function(_React$Component){_inherits(FileIndex,_React$Component);function FileIndex(){_classCallCheck(this,FileIndex);return _possibleConstructorReturn(this,(FileIndex.__proto__||Object.getPrototypeOf(FileIndex)).apply(this,arguments))}_createClass(FileIndex,[{key:"onClick",value:function onClick(){this.props.dispatch((0,_nav.setSidebarActiveStatus)(!this.props.Nav.get("sidebarActiveStatus")))}},{key:"render",value:function render(){var _this2=this;var sidebarClasses=(0,_classnames2.default)("st-file-index",{"st-file-index-collapsed":!this.props.Nav.get("sidebarActiveStatus")});if(!this.props.Files.getIn(["tree","children"])){return _react2.default.createElement("div",{className:sidebarClasses},"Loading...")}var children=this.props.Files.getIn(["tree","children"]).map(function(p){return p.get("type")=="directory"?_react2.default.createElement(Folder,_extends({key:p.get("path")},p.toJS())):_react2.default.createElement(File,_extends({key:p.get("path")},p.toJS()))});return _react2.default.createElement("div",{className:sidebarClasses},_react2.default.createElement("h2",{className:"st-project-name",onClick:function onClick(){return _this2.onClick()}},_react2.default.createElement("i",{className:"material-icons"},"folder_open"),"  ",this.props.Files.getIn(["tree","name"])),_react2.default.createElement("div",{className:"st-project-tree"},children))}}]);return FileIndex}(_react2.default.Component));var Folder=exports.Folder=function(_React$Component2){_inherits(Folder,_React$Component2);function Folder(){_classCallCheck(this,Folder);return _possibleConstructorReturn(this,(Folder.__proto__||Object.getPrototypeOf(Folder)).apply(this,arguments))}_createClass(Folder,[{key:"render",value:function render(){var children=this.props.children.map(function(child,i){return child.type=="directory"?_react2.default.createElement(Folder,_extends({key:child.path},child)):_react2.default.createElement(File,_extends({key:child.path},child))});var classes=(0,_classnames2.default)("st-folder");return _react2.default.createElement(_reactTreeview2.default,{nodeLabel:this.props.name,className:classes,defaultCollapsed:true},children)}}]);return Folder}(_react2.default.Component);var File=exports.File=(0,_reactRedux.connect)(function(state){return state})(function(_React$Component3){_inherits(File,_React$Component3);function File(){_classCallCheck(this,File);return _possibleConstructorReturn(this,(File.__proto__||Object.getPrototypeOf(File)).apply(this,arguments))}_createClass(File,[{key:"selectFile",value:function selectFile(path){this.props.dispatch((0,_nav.navigateTo)(path))}},{key:"render",value:function render(){var _this5=this;var isLoadingThisFile=this.props.Nav.getIn(["processing",this.props.path,"loading"]);var classes=(0,_classnames2.default)("st-file",{"st-file-selected":this.props.path==this.props.Files.getIn(["current","path"]),"st-file-loading":isLoadingThisFile});return _react2.default.createElement("div",{className:classes,onClick:function onClick(){return _this5.selectFile(_this5.props.path)}},this.props.name,_react2.default.createElement("span",{className:"icon-wrapper"},isLoadingThisFile?_react2.default.createElement("i",{className:"material-icons icon-spinning"},"autorenew"):null))}}]);return File}(_react2.default.Component))},{"../state/nav":484,classnames:2,react:397,"react-redux":249,"react-treeview":254}],475:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=require("react");var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Intro=function(_React$Component){_inherits(Intro,_React$Component);function Intro(){_classCallCheck(this,Intro);return _possibleConstructorReturn(this,(Intro.__proto__||Object.getPrototypeOf(Intro)).apply(this,arguments))}_createClass(Intro,[{key:"render",value:function render(){return _react2.default.createElement("div",{className:"st-intro"},_react2.default.createElement("p",null,"Welcome to Satturn. Here you can edit all the files on the project."),_react2.default.createElement("p",null,"Click on a file from the menu your left to open the editor."),_react2.default.createElement("p",null,"Changes are not currently being saved to the system, but they will. And it will be automatic."))}}]);return Intro}(_react2.default.Component);exports.default=Intro},{react:397}],476:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactJson=require("react-json");var _reactJson2=_interopRequireDefault(_reactJson);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var JsonEditor=function(_React$Component){_inherits(JsonEditor,_React$Component);function JsonEditor(){_classCallCheck(this,JsonEditor);return _possibleConstructorReturn(this,(JsonEditor.__proto__||Object.getPrototypeOf(JsonEditor)).apply(this,arguments))}_createClass(JsonEditor,[{key:"onChange",value:function onChange(value){this.props.onChange(JSON.stringify(value))}},{key:"componentWillUnmount",value:function componentWillUnmount(){console.log(this.children)}},{key:"render",value:function render(){var _this2=this;return _react2.default.createElement(_reactJson2.default,{value:JSON.parse(this.props.content),onChange:function onChange(v){return _this2.onChange(v)}})}}]);return JsonEditor}(_react2.default.Component);exports.default=JsonEditor},{react:397,"react-json":221}],477:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactMdEditor=require("react-md-editor");var _reactMdEditor2=_interopRequireDefault(_reactMdEditor);var _commonmark=require("commonmark");var _commonmark2=_interopRequireDefault(_commonmark);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var reader=new _commonmark2.default.Parser;var writer=new _commonmark2.default.HtmlRenderer;var MdEditor=function(_React$Component){_inherits(MdEditor,_React$Component);function MdEditor(props){_classCallCheck(this,MdEditor);var _this=_possibleConstructorReturn(this,(MdEditor.__proto__||Object.getPrototypeOf(MdEditor)).call(this,props));_this.state={content:props.content,output:_this.markdownToHtml(props.content)};_this.CodeMirrorOptions={theme:"satturn",viewportMargin:Infinity};return _this}_createClass(MdEditor,[{key:"onChange",value:function onChange(value){this.setState({content:value});this.props.onChange(value);this.setState({output:this.markdownToHtml(value)})}},{key:"markdownToHtml",value:function markdownToHtml(md){var parsed=reader.parse(md);return writer.render(parsed)}},{key:"render",value:function render(){var _this2=this;return _react2.default.createElement("div",null,_react2.default.createElement(_reactMdEditor2.default,{value:this.state.content,onChange:function onChange(v){return _this2.onChange(v)},options:this.CodeMirrorOptions}),_react2.default.createElement("div",{className:"MDOutput",dangerouslySetInnerHTML:{__html:this.state.output}}))}}]);return MdEditor}(_react2.default.Component);exports.default=MdEditor},{commonmark:11,react:397,"react-md-editor":238}],478:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactAutosizeTextarea=require("react-autosize-textarea");var _reactAutosizeTextarea2=_interopRequireDefault(_reactAutosizeTextarea);var _classnames=require("classnames");var _classnames2=_interopRequireDefault(_classnames);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SimpleEditor=function(_React$Component){_inherits(SimpleEditor,_React$Component);function SimpleEditor(){_classCallCheck(this,SimpleEditor);return _possibleConstructorReturn(this,(SimpleEditor.__proto__||Object.getPrototypeOf(SimpleEditor)).apply(this,arguments))}_createClass(SimpleEditor,[{key:"render",value:function render(){var _this2=this;var classes=(0,_classnames2.default)("st-simple-editor",{"st-simple-editor-monospaced":this.props.monospaced});return _react2.default.createElement(_reactAutosizeTextarea2.default,{key:this.key+"-editor",className:classes,value:this.props.content,onChange:function onChange(e){return _this2.props.onChange(e.target.value)}})}}]);return SimpleEditor}(_react2.default.Component);exports.default=SimpleEditor},{classnames:2,react:397,"react-autosize-textarea":217}],479:[function(require,module,exports){"use strict"},{}],480:[function(require,module,exports){"use strict";var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactDom=require("react-dom");var _reactDom2=_interopRequireDefault(_reactDom);var _redux=require("redux");var _reduxThunk=require("redux-thunk");var _reduxThunk2=_interopRequireDefault(_reduxThunk);var _reactRedux=require("react-redux");var _state=require("./state");var _state2=_interopRequireDefault(_state);var _layout=require("./layout");var _layout2=_interopRequireDefault(_layout);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var createStoreWithMiddleware=(0,_redux.applyMiddleware)(_reduxThunk2.default)(_redux.createStore);var store=createStoreWithMiddleware(_state2.default);_reactDom2.default.render(_react2.default.createElement(_reactRedux.Provider,{store:store},_react2.default.createElement(_layout2.default,null)),document.getElementById("container"))},{"./layout":481,"./state":483,react:397,"react-dom":220,"react-redux":249,redux:404,"redux-thunk":398}],481:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactRedux=require("react-redux");var _fileIndex=require("./components/file-index");var _fileIndex2=_interopRequireDefault(_fileIndex);var _editor=require("./components/editor");var _editor2=_interopRequireDefault(_editor);var _intro=require("./components/intro");var _intro2=_interopRequireDefault(_intro);var _files=require("./state/files");var _nav=require("./state/nav");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var main=_react2.default.createClass({displayName:"main",componentDidMount:function componentDidMount(){this.props.dispatch((0,_files.getTree)());this.props.dispatch((0,_nav.watchHistoryChanges)())},render:function render(){var isSaving=this.props.Nav.getIn(["processing",this.props.Files.getIn(["current","path"]),"saving"]);var savingStatus=isSaving?"Saving...":"";return _react2.default.createElement("div",null,_react2.default.createElement("header",null,_react2.default.createElement("h1",null,"Satturn"),_react2.default.createElement("div",{className:"st-status"},savingStatus)),_react2.default.createElement("main",null,_react2.default.createElement(_fileIndex2.default,this.props),this.props.Files.getIn(["current","path"]).length>0?_react2.default.createElement(_editor2.default,_extends({file:this.props.Files.get("current")},this.props)):_react2.default.createElement(_intro2.default,null)),_react2.default.createElement("footer",{style:{display:"none"}},"(c) 2016 Satturn File Editor"))}});exports.default=(0,_reactRedux.connect)(function(state){return state})(main)},{"./components/editor":473,"./components/file-index":474,"./components/intro":475,"./state/files":482,"./state/nav":484,react:397,"react-redux":249}],482:[function(require,module,exports){(function(process){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.throttledSaveFileToServer=exports.ROOT=exports.API_HOST=exports.INITIAL_STATE=undefined;exports.default=function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INITIAL_STATE;var action=arguments[1];switch(action.type){case"setTree":return state.set("tree",action.tree);case"setCurrentFile":return state.set("current",(0,_immutable.fromJS)({data:action.data,path:action.path,valid:action.valid}));case"saveCurrentInState":return state.setIn(["current","data"],action.data)}return state};exports.setTree=setTree;exports.setCurrentFile=setCurrentFile;exports.setCurrentFileInvalid=setCurrentFileInvalid;exports.updateCurrentFile=updateCurrentFile;exports.getTree=getTree;exports.fetchFileFromServer=fetchFileFromServer;exports.createThrottledAction=createThrottledAction;exports.saveFileToServer=saveFileToServer;var _immutable=require("immutable");var _lodash=require("lodash.throttle");var _lodash2=_interopRequireDefault(_lodash);var _history=require("../history");var _history2=_interopRequireDefault(_history);var _nav=require("./nav");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var INITIAL_STATE=exports.INITIAL_STATE=(0,_immutable.fromJS)({tree:{},current:{path:"",data:"",valid:false},processing:{}});var API_HOST=exports.API_HOST=process.env.API_HOST||window.location.origin+(window.location.pathname+"/test-data/").replace(/\/{2,}/g,"/");var ROOT=exports.ROOT=process.env.ROOT||window.location.origin+(window.location.pathname+"/test-data/files/").replace(/\/{2,}/g,"/");function setTree(tree){return function(dispatch,getState){return dispatch({type:"setTree",tree:tree})}}function setCurrentFile(path,data){return function(dispatch,getState){return dispatch({type:"setCurrentFile",path:path,data:data,valid:true})}}function setCurrentFileInvalid(path,err){return function(dispatch,getState){return dispatch({type:"setCurrentFile",path:path,data:err,valid:false})}}function updateCurrentFile(data){return function(dispatch,getState){var currentPath=getState().Files.getIn("current","path");dispatch(saveFileToServer(currentPath,data));return dispatch({type:"saveCurrentInState",data:data})}}function getTree(){return function(dispatch,getState){dispatch((0,_nav.setLoadingStatus)(true,"/","Fetching File Index..."));fetch(API_HOST+"index",{method:"GET"}).then(function(response){if(!response.ok){throw response}return response.json()}).then(function(json){dispatch(setTree((0,_immutable.fromJS)(json)));dispatch((0,_nav.setLoadingStatus)(false,"",""))}).catch(function(err){console.log(err);err.text().then(function(msg){console.error(msg)})})}}function fetchFileFromServer(pathname){return function(dispatch,getState){dispatch((0,_nav.setLoadingStatus)(true,pathname,"Fetching File..."));fetch(API_HOST+"files/"+pathname,{method:"GET"}).then(function(response){if(!response.ok){throw response}return response.text()}).then(function(text){dispatch((0,_nav.setLoadingStatus)(false,pathname,""));dispatch(setCurrentFile(pathname,text))}).catch(function(err){console.log(err);if(err.status==404){return dispatch(setCurrentFileInvalid(pathname,err.statusText))}err.text().then(function(msg){console.error(msg)})})}}function createThrottledAction(actionCreator,delay){return(0,_lodash2.default)(function(dispatch,getState){return function(){return dispatch(actionCreator.apply(undefined,arguments))}},delay)}var timer=0;function saveFileToServer(pathname){return function(dispatch,getState){var path=getState().Files.getIn(["current","path"]);clearTimeout(timer);dispatch((0,_nav.setSavingStatus)(true,path,"Fake Saving File..."));timer=setTimeout(function(){dispatch((0,_nav.setSavingStatus)(false,path,""))},500)}}var throttledSaveFileToServer=exports.throttledSaveFileToServer=createThrottledAction(saveFileToServer,3e3)}).call(this,require("_process"))},{"../history":479,"./nav":484,_process:216,immutable:206,"lodash.throttle":208}],483:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _redux=require("redux");var _nav=require("./nav");var _nav2=_interopRequireDefault(_nav);var _files=require("./files");var _files2=_interopRequireDefault(_files);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=(0,_redux.combineReducers)({Nav:_nav2.default,Files:_files2.default})},{"./files":482,"./nav":484,redux:404}],484:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.INITIAL_STATE=exports.History=undefined;exports.default=function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INITIAL_STATE;var action=arguments[1];switch(action.type){case"setCurrentPath":return state.set("currentPath",action.currentPath);case"setSidebarActiveStatus":return state.set("sidebarActiveStatus",action.status);case"setLoadingStatus":return state.setIn(["processing",action.path],(0,_immutable.fromJS)({loading:action.status,message:action.message}));case"setSavingStatus":return state.setIn(["processing",action.path],(0,_immutable.fromJS)({saving:action.status,message:action.message}))}return state};exports.navigateTo=navigateTo;exports.setSidebarActiveStatus=setSidebarActiveStatus;exports.watchHistoryChanges=watchHistoryChanges;exports.setLoadingStatus=setLoadingStatus;exports.setSavingStatus=setSavingStatus;var _immutable=require("immutable");var _createHashHistory=require("history/createHashHistory");var _createHashHistory2=_interopRequireDefault(_createHashHistory);var _files=require("./files");var _=require("../");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var History=exports.History=(0,_createHashHistory2.default)();var INITIAL_STATE=exports.INITIAL_STATE=(0,_immutable.fromJS)({currentPath:"",sidebarActiveStatus:true});function navigateTo(pathname){return function(dispatch,getState){var currentPathname=normalizedPathname(History.location.pathname);var newPathname=normalizedPathname(pathname);if(currentPathname!=newPathname){History.push("/"+newPathname)}dispatch({type:"setCurrentPath",currentPath:newPathname});if(getState().Files.getIn(["processing","path"])!==newPathname){dispatch((0,_files.fetchFileFromServer)(newPathname))}}}function setSidebarActiveStatus(status){return function(dispatch,getState){dispatch({type:"setSidebarActiveStatus",status:status})}}function watchHistoryChanges(status){return function(dispatch,getState){var pathname=normalizedPathname(History.location.pathname);if(pathname.length){dispatch(navigateTo(pathname))}History.listen(function(location,action){var pathname=normalizedPathname(location.pathname);return dispatch(navigateTo(pathname))})}}function setLoadingStatus(status,path,message){return function(dispatch,getState){return dispatch({type:"setLoadingStatus",status:status,path:normalizedPathname(path),message:message})}}function setSavingStatus(status,path,message){return function(dispatch,getState){return dispatch({type:"setSavingStatus",status:status,path:normalizedPathname(path),message:message})}}function normalizedPathname(pathname){if(/^\//.test(pathname)){return pathname.slice(1)}return pathname}},{"../":480,"./files":482,"history/createHashHistory":203,immutable:206}]},{},[480]);
